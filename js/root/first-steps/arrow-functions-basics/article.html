<h1 id="箭头函数，基础知识">箭头函数，基础知识</h1>
<p>创建函数还有另外一种非常简单的语法，并且这种方法通常比函数表达式更好。</p>
<p>它被称为“箭头函数”，因为它看起来像这样：</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> func = <span class="hljs-function">(<span class="hljs-params">arg1, arg2, ...argN</span>) =&gt;</span> expression</code></pre>
<p>……这里创建了一个函数 <code>func</code>，它接受参数 <code>arg1..argN</code>，然后使用参数对右侧的 <code>expression</code> 求值并返回其结果。</p>
<p>换句话说，它是下面这段代码的更短的版本：</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> func = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg1, arg2, ...argN</span>) </span>{
  <span class="hljs-keyword">return</span> expression;
};</code></pre>
<p>让我们来看一个具体的例子：</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> sum = <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b;

<span class="hljs-comment">/* 这个箭头函数是下面这个函数的更短的版本：

let sum = function(a, b) {
  return a + b;
};
*/</span>

alert( sum(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>) ); <span class="hljs-comment">// 3</span></code></pre>
<p>可以看到 <code>(a, b) =&gt; a + b</code> 表示一个函数接受两个名为 <code>a</code> 和 <code>b</code> 的参数。在执行时，它将对表达式 <code>a + b</code> 求值，并返回计算结果。</p>
<ul>
<li><p>如果我们只有一个参数，还可以省略掉参数外的圆括号，使代码更短。</p>
<p>  例如：</p>
<pre><code class="language-js">*!*
<span class="hljs-keyword">let</span> double = <span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> n * <span class="hljs-number">2</span>;
<span class="hljs-comment">// 差不多等同于：let double = function(n) { return n * 2 }</span>
*/!*

alert( double(<span class="hljs-number">3</span>) ); <span class="hljs-comment">// 6</span></code></pre>
</li>
<li><p>如果没有参数，括号将是空的（但括号应该保留）：</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> sayHi = <span class="hljs-function">() =&gt;</span> alert(<span class="hljs-string">&quot;Hello!&quot;</span>);

sayHi();</code></pre>
</li>
</ul>
<p>箭头函数可以像函数表达式一样使用。</p>
<p>例如，动态创建一个函数：</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> age = prompt(<span class="hljs-string">&quot;What is your age?&quot;</span>, <span class="hljs-number">18</span>);

<span class="hljs-keyword">let</span> welcome = (age &lt; <span class="hljs-number">18</span>) ?
  <span class="hljs-function">() =&gt;</span> alert(<span class="hljs-string">&#x27;Hello&#x27;</span>) :
  <span class="hljs-function">() =&gt;</span> alert(<span class="hljs-string">&quot;Greetings!&quot;</span>);

welcome();</code></pre>
<p>一开始，箭头函数可能看起来并不熟悉，也不容易读懂，但一旦我们看习惯了之后，这种情况很快就会改变。</p>
<p>箭头函数对于简单的单行行为（action）来说非常方便，尤其是当我们懒得打太多字的时候。</p>
<h2 id="多行的箭头函数">多行的箭头函数</h2>
<p>上面的例子从 <code>=&gt;</code> 的左侧获取参数，然后使用参数计算右侧表达式的值。</p>
<p>但有时我们需要更复杂一点的东西，比如多行的表达式或语句。这也是可以做到的，但是我们应该用花括号括起来。然后使用一个普通的 <code>return</code> 将需要返回的值进行返回。</p>
<p>就像这样：</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> sum = <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> {  <span class="hljs-comment">// 花括号表示开始一个多行函数</span>
  <span class="hljs-keyword">let</span> result = a + b;
*!*
  <span class="hljs-keyword">return</span> result; <span class="hljs-comment">// 如果我们使用了花括号，那么我们需要一个显式的 “return” </span>
*/!*
};

alert( sum(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>) ); <span class="hljs-comment">// 3</span></code></pre>
<pre><code class="language-smart">在这里，我们赞扬了箭头函数的简洁性。但还不止这些！

箭头函数还有其他有趣的特性。

为了更深入地学习它们，我们首先需要了解一些 JavaScript 其他方面的知识，因此我们将在后面的 &lt;info:arrow-functions&gt; 一章中再继续研究箭头函数。

现在，我们已经可以用箭头函数进行单行行为和回调了。</code></pre>
<h2 id="总结">总结</h2>
<p>对于一行代码的函数来说，箭头函数是相当方便的。它具体有两种：</p>
<ol>
<li>不带花括号：<code>(...args) =&gt; expression</code> — 右侧是一个表达式：函数计算表达式并返回其结果。</li>
<li>带花括号：<code>(...args) =&gt; { body }</code> — 花括号允许我们在函数中编写多个语句，但是我们需要显式地 <code>return</code> 来返回一些内容。</li>
</ol>
