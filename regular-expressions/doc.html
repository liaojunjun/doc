<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>create for ggdoc , @author sunyi</title>
    <style>
        .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}
        .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}
        .anchor:focus{outline:0}
        h1 .octicon-link,h2 .octicon-link,h3 .octicon-link,h4 .octicon-link,h5 .octicon-link,h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}
        h1:hover .anchor,h2:hover .anchor,h3:hover .anchor,h4:hover .anchor,h5:hover .anchor,h6:hover .anchor{text-decoration:none}
        h1:hover .anchor .octicon-link,h2:hover .anchor .octicon-link,h3:hover .anchor .octicon-link,h4:hover .anchor .octicon-link,h5:hover .anchor .octicon-link,h6:hover .anchor .octicon-link{visibility:visible}
        h1:hover .anchor .octicon-link:before,h2:hover .anchor .octicon-link:before,h3:hover .anchor .octicon-link:before,h4:hover .anchor .octicon-link:before,h5:hover .anchor .octicon-link:before,h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-image:url("data:image/svg+xml,%3Csvgxmlns='http://www.w3.org/2000/svg'viewBox='001616'version='1.1'width='16'height='16'aria-hidden='true'%3E%3Cpathfill-rule='evenodd'd='M49h1v1H4c-1.50-3-1.69-3-3.5S2.55343h4c1.45031.6933.501.41-.912.72-23.25V8.59c.58-.451-1.271-2.09C105.228.98484H4c-.980-21.22-22.5S3949zm9-3h-1v1h1c1021.2222.5S13.98121312H9c-.980-2-1.22-2-2.50-.83.42-1.641-2.09V6.25c-1.09.53-21.84-23.25C611.317.5513913h4c1.4503-1.693-3.5S14.56136z'%3E%3C/path%3E%3C/svg%3E")}
        body{-webkit-text-size-adjust:100%;line-height:1.5;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word;background-color:#e3e3ef;height:100%;width:100%;margin:0;padding:20px}
        details{display:block}
        summary{display:list-item}
        a{background-color:initial}
        a:active,a:hover{outline-width:0}
        strong{font-weight:inherit;font-weight:bolder}
        h1{font-size:2em;margin:.67em 0}
        img{border-style:none}
        code,kbd,pre{font-family:monospace,monospace;font-size:1em}
        hr{box-sizing:initial;height:0;overflow:visible}
        input{font:inherit;margin:0}
        input{overflow:visible}
        [type="checkbox"]{box-sizing:border-box;padding:0}
        *{box-sizing:border-box}
        input{font-family:inherit;font-size:inherit;line-height:inherit}
        a{color:#0366d6;text-decoration:none}
        a:hover{text-decoration:underline}
        strong{font-weight:600}
        hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border:0;border-bottom:1px solid #dfe2e5}
        hr:after,hr:before{display:table;content:""}
        hr:after{clear:both}
        table{border-spacing:0;border-collapse:collapse}
        td,th{padding:0}
        details summary{cursor:pointer}
        kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}
        h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:0}
        h1{font-size:32px}
        h1,h2{font-weight:600}
        h2{font-size:24px}
        h3{font-size:20px}
        h3,h4{font-weight:600}
        h4{font-size:16px}
        h5{font-size:14px}
        h5,h6{font-weight:600}
        h6{font-size:12px}
        p{margin-top:0;margin-bottom:10px}
        blockquote{margin:0}
        ol,ul{padding-left:0;margin-top:0;margin-bottom:0}
        ol ol,ul ol{list-style-type:lower-roman}
        ol ol ol,ol ul ol,ul ol ol,ul ul ol{list-style-type:lower-alpha}
        dd{margin-left:0}
        code,pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}
        pre{margin-top:0;margin-bottom:0}
        input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}
        :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}
        .border{border:1px solid #e1e4e8!important}
        .border-0{border:0!important}
        .border-bottom{border-bottom:1px solid #e1e4e8!important}
        .rounded-1{border-radius:3px!important}
        .bg-white{background-color:#fff!important}
        .bg-gray-light{background-color:#fafbfc!important}
        .text-gray-light{color:#6a737d!important}
        .mb-0{margin-bottom:0!important}
        .my-2{margin-top:8px!important;margin-bottom:8px!important}
        .pl-0{padding-left:0!important}
        .py-0{padding-top:0!important;padding-bottom:0!important}
        .pl-1{padding-left:4px!important}
        .pl-2{padding-left:8px!important}
        .py-2{padding-top:8px!important;padding-bottom:8px!important}
        .pl-3,.px-3{padding-left:16px!important}
        .px-3{padding-right:16px!important}
        .pl-4{padding-left:24px!important}
        .pl-5{padding-left:32px!important}
        .pl-6{padding-left:40px!important}
        .f6{font-size:12px!important}
        .lh-condensed{line-height:1.25!important}
        .text-bold{font-weight:600!important}
        .pl-c{color:#6a737d}
        .pl-c1,.pl-s .pl-v{color:#005cc5}
        .pl-e,.pl-en{color:#6f42c1}
        .pl-s .pl-s1,.pl-smi{color:#24292e}
        .pl-ent{color:#22863a}
        .pl-k{color:#d73a49}
        .pl-pds,.pl-s,.pl-s .pl-pse .pl-s1,.pl-sr,.pl-sr .pl-cce,.pl-sr .pl-sra,.pl-sr .pl-sre{color:#032f62}
        .pl-smw,.pl-v{color:#e36209}
        .pl-bu{color:#b31d28}
        .pl-ii{color:#fafbfc;background-color:#b31d28}
        .pl-c2{color:#fafbfc;background-color:#d73a49}
        .pl-c2:before{content:"^M"}
        .pl-sr .pl-cce{font-weight:700;color:#22863a}
        .pl-ml{color:#735c0f}
        .pl-mh,.pl-mh .pl-en,.pl-ms{font-weight:700;color:#005cc5}
        .pl-mi{font-style:italic;color:#24292e}
        .pl-mb{font-weight:700;color:#24292e}
        .pl-md{color:#b31d28;background-color:#ffeef0}
        .pl-mi1{color:#22863a;background-color:#f0fff4}
        .pl-mc{color:#e36209;background-color:#ffebda}
        .pl-mi2{color:#f6f8fa;background-color:#005cc5}
        .pl-mdr{font-weight:700;color:#6f42c1}
        .pl-ba{color:#586069}
        .pl-sg{color:#959da5}
        .pl-corl{text-decoration:underline;color:#032f62}
        .mb-0{margin-bottom:0!important}
        .my-2{margin-bottom:8px!important}
        .my-2{margin-top:8px!important}
        .pl-0{padding-left:0!important}
        .py-0{padding-top:0!important;padding-bottom:0!important}
        .pl-1{padding-left:4px!important}
        .pl-2{padding-left:8px!important}
        .py-2{padding-top:8px!important;padding-bottom:8px!important}
        .pl-3{padding-left:16px!important}
        .pl-4{padding-left:24px!important}
        .pl-5{padding-left:32px!important}
        .pl-6{padding-left:40px!important}
        .pl-7{padding-left:48px!important}
        .pl-8{padding-left:64px!important}
        .pl-9{padding-left:80px!important}
        .pl-10{padding-left:96px!important}
        .pl-11{padding-left:112px!important}
        .pl-12{padding-left:128px!important}
        hr{border-bottom-color:#eee}
        kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}
        .markdown-body:after,.markdown-body:before{display:table;content:""}
        .markdown-body:after{clear:both}
        .markdown-body>:first-child{margin-top:0!important}
        .markdown-body>:last-child{margin-bottom:0!important}
        a:not([href]){color:inherit;text-decoration:none}
        blockquote,details,dl,ol,p,pre,table,ul{margin-top:0;margin-bottom:16px}
        hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}
        blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}
        blockquote>:first-child{margin-top:0}
        blockquote>:last-child{margin-bottom:0}
        h1,h2,h3,h4,h5,h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}
        h1{font-size:2em}
        h1,h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}
        h2{font-size:1.5em}
        h3{font-size:1.25em}
        h4{font-size:1em}
        h5{font-size:.875em}
        h6{font-size:.85em;color:#6a737d}
        ol,ul{padding-left:2em}
        ol ol,ol ul,ul ol,ul ul{margin-top:0;margin-bottom:0}
        li{word-wrap:break-all}
        li>p{margin-top:16px}
        li+li{margin-top:.25em}
        dl{padding:0}
        dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}
        dl dd{padding:0 16px;margin-bottom:16px}
        table{display:block;width:100%;overflow:auto}
        table th{font-weight:600}
        table td,table th{padding:6px 13px;border:1px solid #dfe2e5}
        table tr{background-color:#fff;border-top:1px solid #c6cbd1}
        table tr:nth-child(2n){background-color:#f6f8fa}
        img{max-width:100%;box-sizing:initial;background-color:#fff}
        img[align="right"]{padding-left:20px}
        img[align="left"]{padding-right:20px}
        code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,0.05);border-radius:3px}
        pre{word-wrap:normal}
        pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}
        .highlight{margin-bottom:16px}
        .highlight pre{margin-bottom:0;word-break:normal}
        .highlight pre,pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}
        pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}
        .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}
        .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}
        .blob-wrapper{overflow-x:auto;overflow-y:hidden}
        .blob-wrapper-embedded{max-height:240px;overflow-y:auto}
        .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,0.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;user-select:none}
        .blob-num:hover{color:rgba(27,31,35,0.6)}
        .blob-num:before{content:attr(data-line-number)}
        .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}
        .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}
        .pl-token.active,.pl-token:hover{cursor:pointer;background:#ffea7f}
        .tab-size[data-tab-size="1"]{-moz-tab-size:1;tab-size:1}
        .tab-size[data-tab-size="2"]{-moz-tab-size:2;tab-size:2}
        .tab-size[data-tab-size="3"]{-moz-tab-size:3;tab-size:3}
        .tab-size[data-tab-size="4"]{-moz-tab-size:4;tab-size:4}
        .tab-size[data-tab-size="5"]{-moz-tab-size:5;tab-size:5}
        .tab-size[data-tab-size="6"]{-moz-tab-size:6;tab-size:6}
        .tab-size[data-tab-size="7"]{-moz-tab-size:7;tab-size:7}
        .tab-size[data-tab-size="8"]{-moz-tab-size:8;tab-size:8}
        .tab-size[data-tab-size="9"]{-moz-tab-size:9;tab-size:9}
        .tab-size[data-tab-size="10"]{-moz-tab-size:10;tab-size:10}
        .tab-size[data-tab-size="11"]{-moz-tab-size:11;tab-size:11}
        .tab-size[data-tab-size="12"]{-moz-tab-size:12;tab-size:12}
        .task-list-item{list-style-type:none}
        .task-list-item+.task-list-item{margin-top:3px}
        .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}
        #page{width:calc(100% - 300px);margin-left:300px}
        fieldset{display:none;background-color:#fff;border:0;overflow:hidden;box-shadow:2px 2px 10px rgba(128,128,128,0.2);margin-bottom:20px;padding:20px}
        fieldset legend{font-weight:bold;color:green;height:3.5em;margin-left:-20px;padding:0}
        #nav{background:rgb(255 255 255 / .6);padding:40px;position:fixed;top:0;left:0;bottom:0;width:300px;overflow-y:auto}
        ::-webkit-scrollbar{width:5px}
        ::-webkit-scrollbar-thumb{background-color:#79a5e8}
        @media print,(max-width:900px){
          #nav{display:none!important}
          #page{width:100%!important;margin-left:0!important}
          fieldset{display:block!important;box-shadow:none!important}
          .toggle-hash-btn {display: none !important;}
        }
        .hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}
        .hljs-comment,.hljs-quote{color:#998;font-style:italic}
        .hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:bold}
        .hljs-number,.hljs-literal,.hljs-variable,.hljs-template-variable,.hljs-tag .hljs-attr{color:#008080}
        .hljs-string,.hljs-doctag{color:#d14}
        .hljs-title,.hljs-section,.hljs-selector-id{color:#900;font-weight:bold}
        .hljs-subst{font-weight:normal}
        .hljs-type,.hljs-class .hljs-title{color:#458;font-weight:bold}
        .hljs-tag,.hljs-name,.hljs-attribute{color:#000080;font-weight:normal}
        .hljs-regexp,.hljs-link{color:#009926}
        .hljs-symbol,.hljs-bullet{color:#990073}
        .hljs-built_in,.hljs-builtin-name{color:#0086b3}
        .hljs-meta{color:#999;font-weight:bold}
        .hljs-deletion{background:#fdd}
        .hljs-addition{background:#dfd}
        .hljs-emphasis{font-style:italic}
        .hljs-strong{font-weight:bold}
        .toggle-hash-btn {position: fixed;bottom: 10px;left:10px;z-index: 1000; display: flex; justify-content: space-between;  width: 270px;}
    </style>
    <script>
          const $ = selector => document.querySelector(selector);
          const $$ = selector => document.querySelectorAll(selector);
          const decode = s => decodeURIComponent(s);
          const domInfo = dom => ({
            offsetParent: dom.offsetParent.className,
            offsetLeft: dom.offsetLeft,
            offsetTop: dom.offsetTop,
            clientWidth: dom.clientWidth,
            offsetWidth: dom.offsetWidth,
            BoundingClientRect: dom.getBoundingClientRect(),
          });
          let openHash = false;
          function viewFieldset() {
            const hash = decode(location.hash);
            if(openHash && hash &&$(`fieldset${hash}`)) {
              Array.from($$('fieldset')).forEach(dom  =>dom.style.display = 'none');
              $(`fieldset${hash}`).style.display = 'block';
            }else {
              Array.from($$('fieldset')).forEach(dom  =>dom.style.display = 'block');
            }
          }
          window.onhashchange = viewFieldset;
          window.onload  = ()=>{
            viewFieldset();
            setATarget();
          };
          
          function toggleHash() {
            openHash = !openHash;
            viewFieldset();
            $('.toggle-hash-btn button').innerText = openHash ? 'å…³é—­ä¸“æ³¨æ¨¡å¼' : 'å¼€å¯ä¸“æ³¨æ¨¡å¼';
          }
          function setATarget() {
            $$('#page a').forEach(a=>a.target = '_blank');
          }
    </script>
</head>

<body>
  <div class="toggle-hash-btn">
    <button  onclick="toggleHash()">å¼€å¯ä¸“æ³¨æ¨¡å¼</button>
     <a target='_blank' href="https://github.com/liaojunjun/ggdoc"><svg class="octicon octicon-mark-github v-align-middle" height="25" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a>
  </div><div id="page">
      <fieldset id='_mgsSqV'>
      <legend>article</legend>
      <h1 id="æ¨¡å¼ï¼ˆpatternsï¼‰å’Œä¿®é¥°ç¬¦ï¼ˆflagsï¼‰">æ¨¡å¼ï¼ˆPatternsï¼‰å’Œä¿®é¥°ç¬¦ï¼ˆflagsï¼‰</h1>
<p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯æœç´¢å’Œæ›¿æ¢å­—ç¬¦ä¸²çš„ä¸€ç§å¼ºå¤§æ–¹å¼ã€‚</p>
<p>åœ¨ JavaScript ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼é€šè¿‡å†…ç½®çš„â€œRegExpâ€ç±»çš„å¯¹è±¡æ¥å®ç°ï¼Œå¹¶ä¸å­—ç¬¦ä¸²é›†æˆã€‚</p>
<p>è¯·æ³¨æ„ï¼Œåœ¨å„ç¼–ç¨‹è¯­è¨€ä¹‹é—´ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ˜¯æœ‰æ‰€ä¸åŒçš„ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªä¸“æ³¨äº JavaScriptã€‚å½“ç„¶ï¼Œå®ƒä»¬æœ‰å¾ˆå¤šå…±åŒç‚¹ï¼Œä½†åœ¨ Perlã€Ruby å’Œ PHP ç­‰è¯­è¨€ä¸‹ä¼šæœ‰æ‰€ä¸åŒã€‚</p>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼">æ­£åˆ™è¡¨è¾¾å¼</h2>
<p>æ­£åˆ™è¡¨è¾¾å¼ï¼ˆå¯å«ä½œâ€œregexpâ€æˆ–è€…â€œregâ€ï¼‰åŒ…å« <strong>æ¨¡å¼</strong> å’Œå¯é€‰çš„ <strong>ä¿®é¥°ç¬¦</strong>ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡æœ‰ä¸¤ç§è¯­æ³•ã€‚</p>
<p>è¾ƒé•¿ä¸€ç‚¹çš„è¯­æ³•ï¼š</p>
<pre><code class="language-js">regexp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">&quot;pattern&quot;</span>, <span class="hljs-string">&quot;flags&quot;</span>);</code></pre>
<p>...è¾ƒçŸ­ä¸€ç‚¹çš„è¯­æ³•ï¼Œä½¿ç”¨æ–œæ  <code>&quot;/&quot;</code>ï¼š</p>
<pre><code class="language-js">regexp = <span class="hljs-regexp">/pattern/</span>; <span class="hljs-comment">// æ²¡æœ‰ä¿®é¥°ç¬¦</span>
regexp = <span class="hljs-regexp">/pattern/gmi</span>; <span class="hljs-comment">// ä¼´éšä¿®é¥°ç¬¦ gã€m å’Œ iï¼ˆåé¢ä¼šè®²åˆ°ï¼‰</span></code></pre>
<p>æ–œæ  <code>&quot;/&quot;</code> ä¼šå‘Šè¯‰ JavaScript æˆ‘ä»¬æ­£åœ¨åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚å®ƒçš„ä½œç”¨ç±»ä¼¼äºå­—ç¬¦ä¸²çš„å¼•å·ã€‚</p>
<h2 id="ç”¨æ³•">ç”¨æ³•</h2>
<p>å¦‚æœè¦åœ¨å­—ç¬¦ä¸²ä¸­è¿›è¡Œæœç´¢ï¼Œå¯ä»¥ä½¿ç”¨ <a href="mdn:js/String/search">search</a> æ–¹æ³•ã€‚</p>
<p>ä¸‹é¢æ˜¯ç¤ºä¾‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;I love JavaScript!&quot;</span>; <span class="hljs-comment">// å°†åœ¨è¿™é‡Œæœç´¢</span>

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/love/</span>;
alert( str.search(regexp) ); <span class="hljs-comment">// 2</span></code></pre>
<p><code>str.search</code> æ–¹æ³•ä¼šæŸ¥æ‰¾æ¨¡å¼ <code>pattern:/love/</code>ï¼Œç„¶åè¿”å›åŒ¹é…é¡¹åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ã€‚æˆ‘ä»¬å¯ä»¥çŒœåˆ°ï¼Œ<code>pattern:/love/</code> æ˜¯æœ€ç®€å•çš„æ¨¡å¼ã€‚å®ƒæ‰€åšçš„å°±æ˜¯ç®€å•çš„å­å­—ç¬¦ä¸²çš„æŸ¥æ‰¾ã€‚</p>
<p>ä¸Šé¢çš„ä»£ç ç­‰åŒäºï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;I love JavaScript!&quot;</span>; <span class="hljs-comment">// å°†åœ¨è¿™é‡Œæœç´¢</span>

<span class="hljs-keyword">let</span> substr = <span class="hljs-string">&#x27;love&#x27;</span>;
alert( str.search(substr) ); <span class="hljs-comment">// 2</span></code></pre>
<p>æ‰€ä»¥æœç´¢ <code>pattern:/love/</code> ä¸æœç´¢ <code>&quot;love&quot;</code> æ˜¯ç­‰ä»·çš„ã€‚</p>
<p>ä½†è¿™åªæ˜¯æš‚æ—¶çš„ã€‚å¾ˆå¿«æˆ‘ä»¬å°±ä¼šæ¥è§¦æ›´å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå…¶æœç´¢åŠŸèƒ½å°†æ›´å¼ºå¤§ã€‚</p>
<pre><code class="language-smart">æœ¬æ–‡ä¸­çš„é…è‰²æ–¹æ¡ˆå¦‚ä¸‹ï¼š

- regexp -- `pattern:red`
- stringï¼ˆæˆ‘ä»¬è¦æœç´¢çš„ï¼‰-- `subject:blue`
- result -- `match:green`</code></pre>
<p>````smart header=&quot;ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ <code>new RegExp</code>?&quot;
é€šå¸¸æˆ‘ä»¬ä½¿ç”¨çš„éƒ½æ˜¯ç®€çŸ­è¯­æ³• <code>/.../</code>ã€‚ä½†æ˜¯å®ƒä¸æ¥å—ä»»ä½•å˜é‡æ’å…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»åœ¨å†™ä»£ç çš„æ—¶å€™å°±çŸ¥é“ç¡®åˆ‡çš„ regexpã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œ<code>new RegExp</code> å…è®¸ä»å­—ç¬¦ä¸²ä¸­åŠ¨æ€åœ°æ„é€ æ¨¡å¼ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ‰¾å‡ºéœ€è¦æœç´¢çš„å­—æ®µï¼Œç„¶åæ ¹æ®æœç´¢å­—æ®µåˆ›å»º <code>new RegExp</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> search = prompt(<span class="hljs-string">&quot;What you want to search?&quot;</span>, <span class="hljs-string">&quot;love&quot;</span>);
<span class="hljs-keyword">let</span> regexp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(search);

<span class="hljs-comment">// æ‰¾åˆ°ç”¨æˆ·æƒ³è¦çš„ä»»ä½•ä¸œè¥¿</span>
alert( <span class="hljs-string">&quot;I love JavaScript&quot;</span>.search(regexp));</code></pre>
<pre><code>

## ä¿®é¥°ç¬¦

æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦å¯èƒ½ä¼šå½±å“æœç´¢ç»“æœã€‚

åœ¨ JavaScript ä¸­ï¼Œæœ‰ 5 ä¸ªä¿®é¥°ç¬¦ï¼š

`i`
: ä½¿ç”¨æ­¤ä¿®é¥°ç¬¦åï¼Œæœç´¢æ—¶ä¸åŒºåˆ†å¤§å°å†™: `A` å’Œ `a` æ²¡æœ‰åŒºåˆ«ï¼ˆå…·ä½“çœ‹ä¸‹é¢çš„ä¾‹å­ï¼‰ã€‚

`g`
: ä½¿ç”¨æ­¤ä¿®é¥°ç¬¦åï¼Œæœç´¢æ—¶ä¼šæŸ¥æ‰¾æ‰€æœ‰çš„åŒ¹é…é¡¹ï¼Œè€Œä¸åªæ˜¯ç¬¬ä¸€ä¸ªï¼ˆåœ¨ä¸‹ä¸€ç« ä¼šè®²åˆ°ï¼‰ã€‚

`m`
: å¤šè¡Œæ¨¡å¼ï¼ˆè¯¦è§ç« èŠ‚ &lt;info:regexp-multiline&gt;ï¼‰ã€‚

`u`
: å¼€å¯å®Œæ•´çš„ unicode æ”¯æŒã€‚è¯¥ä¿®é¥°ç¬¦èƒ½å¤Ÿä¿®æ­£å¯¹äºä»£ç†å¯¹çš„å¤„ç†ã€‚æ›´è¯¦ç»†çš„å†…å®¹è§ç« èŠ‚ &lt;info:regexp-unicode&gt;ã€‚

`y`
: ç²˜æ»æ¨¡å¼ï¼ˆè¯¦è§ [ä¸‹ä¸€ç« èŠ‚](info:regexp-methods#y-flag)ï¼‰


## â€œiâ€ä¿®é¥°ç¬¦

æœ€ç®€å•çš„ä¿®é¥°ç¬¦å°±æ˜¯ `i` äº†ã€‚

ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```js run
let str = &quot;I love JavaScript!&quot;;

alert( str.search(/LOVE/) ); // -1ï¼ˆæ²¡æ‰¾åˆ°ï¼‰
alert( str.search(/LOVE/i) ); // 2
```

1. ç¬¬ä¸€ä¸ªæœç´¢è¿”å›çš„æ˜¯ `-1`ï¼ˆä¹Ÿå°±æ˜¯æ²¡æ‰¾åˆ°ï¼‰ï¼Œå› ä¸ºæœç´¢é»˜è®¤æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚
2. ä½¿ç”¨ä¿®é¥°ç¬¦ `pattern:/LOVE/i`ï¼Œåœ¨å­—ç¬¦ä¸²çš„ç¬¬ 2 ä¸ªä½ç½®ä¸Šæœç´¢åˆ°äº† `match:love`ã€‚

ç›¸æ¯”ä¸ç®€å•çš„å­å­—ç¬¦ä¸²æŸ¥æ‰¾ï¼Œ`i` ä¿®é¥°ç¬¦å·²ç»è®©æ­£åˆ™è¡¨è¾¾å¼å˜å¾—æ›´åŠ å¼ºå¤§äº†ã€‚ä½†æ˜¯è¿™è¿˜ä¸å¤Ÿã€‚æˆ‘ä»¬ä¼šåœ¨ä¸‹ä¸€ç« èŠ‚è®²è¿°å…¶å®ƒä¿®é¥°ç¬¦å’Œç‰¹æ€§ã€‚


## æ€»ç»“

- ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åŒ…å«æ¨¡å¼å’Œå¯é€‰ä¿®é¥°ç¬¦ï¼š`g`ã€`i`ã€`m`ã€`u`ã€`y`ã€‚
- å¦‚æœä¸ä½¿ç”¨æˆ‘ä»¬åœ¨åé¢å°†è¦å­¦åˆ°çš„ä¿®é¥°ç¬¦å’Œç‰¹æ®Šæ ‡å¿—ï¼Œæ­£åˆ™è¡¨è¾¾å¼çš„æœç´¢å°±ç­‰åŒäºå­å­—ç¬¦ä¸²æŸ¥æ‰¾ã€‚
- `str.search(regexp)` æ–¹æ³•è¿”å›çš„æ˜¯æ‰¾åˆ°çš„åŒ¹é…é¡¹çš„ç´¢å¼•ä½ç½®ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™è¿”å› `-1`ã€‚</code></pre>

      </fieldset>
      
      <fieldset id='_EmdOAF'>
      <legend>article</legend>
      <h1 id="å­—ç¬¦ç±»">å­—ç¬¦ç±»</h1>
<p>è€ƒè™‘ä¸€ä¸ªå®é™…çš„ä»»åŠ¡ - æˆ‘ä»¬æœ‰ä¸€ä¸ªç”µè¯å·ç ï¼Œä¾‹å¦‚ <code>&quot;+7(903)-123-45-67&quot;</code>ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶è½¬æ¢ä¸ºçº¯æ•°å­—ï¼š<code>79035419441</code>ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾å¹¶åˆ é™¤æ‰€æœ‰éæ•°å­—çš„å†…å®¹ã€‚å­—ç¬¦ç±»å¯ä»¥å¸®åŠ©è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><strong>å­—ç¬¦ç±»ï¼ˆCharacter classesï¼‰</strong> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç¬¦å·ï¼ŒåŒ¹é…ç‰¹å®šé›†ä¸­çš„ä»»ä½•ç¬¦å·ã€‚</p>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¢ç´¢â€œæ•°å­—â€ç±»ã€‚å®ƒå†™ä¸º <code>pattern:\d</code>ï¼Œå¯¹åº”äºâ€œä»»ä½•ä¸€ä¸ªæ•°å­—â€ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬æ‰¾åˆ°ç”µè¯å·ç çš„ç¬¬ä¸€ä¸ªæ•°å­—ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;+7(903)-123-45-67&quot;</span>;

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/\d/</span>;

alert( str.match(regexp) ); <span class="hljs-comment">// 7</span></code></pre>
<p>å¦‚æœæ²¡æœ‰æ ‡å¿— <code>pattern:g</code>ï¼Œåˆ™æ­£åˆ™è¡¨è¾¾å¼ä»…æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå³ç¬¬ä¸€ä¸ªæ•°å­— <code>pattern:\d</code>ã€‚</p>
<p>è®©æˆ‘ä»¬æ·»åŠ  <code>pattern:g</code>æ ‡å¿—æ¥æŸ¥æ‰¾æ‰€æœ‰æ•°å­—ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;+7(903)-123-45-67&quot;</span>;

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/\d/g</span>;

alert( str.match(regexp) ); <span class="hljs-comment">// array of matches: 7,9,0,3,1,2,3,4,5,6,7</span>

<span class="hljs-comment">// let&#x27;s make the digits-only phone number of them:</span>
alert( str.match(regexp).join(<span class="hljs-string">&#x27;&#x27;</span>) ); <span class="hljs-comment">// 79035419441</span></code></pre>
<p>è¿™æ˜¯æ•°å­—çš„å­—ç¬¦ç±»ã€‚è¿˜æœ‰å…¶ä»–å­—ç¬¦ç±»ã€‚</p>
<p>æœ€å¸¸ç”¨çš„æ˜¯ï¼š</p>
<p><code>pattern:\d</code>ï¼ˆ&quot;d&quot; æ¥è‡ª &quot;digit&quot;ï¼‰
: æ•°å­—ï¼šä» <code>0</code> åˆ° <code>9</code> çš„å­—ç¬¦ã€‚</p>
<p><code>pattern:\s</code>ï¼ˆ&quot;s&quot; æ¥è‡ª &quot;space&quot;ï¼‰
: ç©ºæ ¼ç¬¦å·ï¼šåŒ…æ‹¬ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ <code>\t</code>ï¼Œæ¢è¡Œç¬¦ <code>\n</code> å’Œå…¶ä»–å°‘æ•°ç¨€æœ‰å­—ç¬¦ï¼Œä¾‹å¦‚ <code>\v</code>ï¼Œ<code>\f</code> å’Œ <code>\r</code>ã€‚</p>
<p><code>pattern:\w</code>ï¼ˆ&quot;w&quot; æ¥è‡ª &quot;word&quot;ï¼‰
: â€œå•å­—â€å­—ç¬¦ï¼šæ‹‰ä¸å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿ <code>_</code>ã€‚éæ‹‰ä¸å­—æ¯ï¼ˆå¦‚è¥¿é‡Œå°”å­—æ¯æˆ–å°åœ°æ–‡ï¼‰ä¸å±äº <code>pattern:\w</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<code>pattern:\d\s\w</code>è¡¨ç¤ºâ€œæ•°å­—â€ï¼Œåè·Ÿâ€œç©ºæ ¼å­—ç¬¦â€ï¼Œåè·Ÿâ€œå•å­—å­—ç¬¦â€ï¼Œä¾‹å¦‚ <code>match:1 a</code>ã€‚</p>
<p><strong>æ­£åˆ™è¡¨è¾¾å¼å¯èƒ½åŒæ—¶åŒ…å«å¸¸è§„ç¬¦å·å’Œå­—ç¬¦ç±»ã€‚</strong></p>
<p>ä¾‹å¦‚ï¼Œ<code>pattern:CSS\d</code> åŒ¹é…å­—ç¬¦ä¸² <code>match:CSS</code> ä¸åé¢çš„æ•°å­—ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;Is there CSS4?&quot;</span>;
<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/CSS\d/</span>

alert( str.match(regexp) ); <span class="hljs-comment">// CSS4</span></code></pre>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è®¸å¤šå­—ç¬¦ç±»ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;I love HTML5!&quot;</span>.match(<span class="hljs-regexp">/\s\w\w\w\w\d/</span>) ); <span class="hljs-comment">// &#x27; HTML5&#x27;</span></code></pre>
<p>åŒ¹é…é¡¹ï¼ˆæ¯ä¸ªæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ç±»éƒ½æœ‰å¯¹åº”çš„ç»“æœå­—ç¬¦ï¼‰ï¼š</p>
<p><img src="love-html5-classes.svg" alt=""></p>
<h2 id="åå‘ç±»">åå‘ç±»</h2>
<p>å¯¹äºæ¯ä¸ªå­—ç¬¦ç±»ï¼Œéƒ½æœ‰ä¸€ä¸ªâ€œåå‘ç±»â€ï¼Œç”¨ç›¸åŒçš„å­—æ¯è¡¨ç¤ºï¼Œä½†è¦ä»¥å¤§å†™ä¹¦å†™å½¢å¼ã€‚</p>
<p>â€œåå‘â€è¡¨ç¤ºå®ƒä¸æ‰€æœ‰å…¶ä»–å­—ç¬¦åŒ¹é…ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>pattern:\D</code>
: éæ•°å­—ï¼šé™¤ <code>pattern:\d</code> ä»¥å¤–çš„ä»»ä½•å­—ç¬¦ï¼Œä¾‹å¦‚å­—æ¯ã€‚</p>
<p><code>pattern:\S</code>
: éç©ºæ ¼ç¬¦å·ï¼šé™¤ <code>pattern:\s</code> ä»¥å¤–çš„ä»»ä½•å­—ç¬¦ï¼Œä¾‹å¦‚å­—æ¯ã€‚</p>
<p><code>pattern:\W</code>
: éå•å­—å­—ç¬¦ï¼šé™¤ <code>pattern:\w</code> ä»¥å¤–çš„ä»»ä½•å­—ç¬¦ï¼Œä¾‹å¦‚éæ‹‰ä¸å­—æ¯æˆ–ç©ºæ ¼ã€‚</p>
<p>åœ¨è¿™ä¸€ç« çš„å¼€å¤´ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¦‚ä½•ä» <code>subject:+7(903)-123-45-67</code> è¿™æ ·çš„å­—ç¬¦ä¸²ä¸­åˆ›å»ºä¸€ä¸ªåªåŒ…å«æ•°å­—çš„ç”µè¯å·ç : æ‰¾åˆ°æ‰€æœ‰çš„æ•°å­—å¹¶å°†å®ƒä»¬è¿æ¥èµ·æ¥ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;+7(903)-123-45-67&quot;</span>;

alert( str.match(<span class="hljs-regexp">/\d/g</span>).join(<span class="hljs-string">&#x27;&#x27;</span>) ); <span class="hljs-comment">// 79031234567</span></code></pre>
<p>å¦ä¸€ç§å¿«æ·çš„æ›¿ä»£æ–¹æ³•æ˜¯æŸ¥æ‰¾éæ•°å­— <code>pattern:\D</code> å¹¶å°†å…¶ä»å­—ç¬¦ä¸²ä¸­åˆ é™¤ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;+7(903)-123-45-67&quot;</span>;

alert( str.replace(<span class="hljs-regexp">/\D/g</span>, <span class="hljs-string">&quot;&quot;</span>) ); <span class="hljs-comment">// 79031234567</span></code></pre>
<h2 id="ç‚¹ï¼ˆï¼‰æ˜¯åŒ¹é…ä»»ä½•å­—ç¬¦">ç‚¹ï¼ˆ.ï¼‰æ˜¯åŒ¹é…â€œä»»ä½•å­—ç¬¦â€</h2>
<p>ç‚¹ <code>pattern:.</code> æ˜¯ä¸€ç§ç‰¹æ®Šå­—ç¬¦ç±»ï¼Œå®ƒä¸ â€œé™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦â€ åŒ¹é…ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;Z&quot;</span>.match(<span class="hljs-regexp">/./</span>) ); <span class="hljs-comment">// Z</span></code></pre>
<p>æˆ–åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­é—´ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/CS.4/</span>;

alert( <span class="hljs-string">&quot;CSS4&quot;</span>.match(regexp) ); <span class="hljs-comment">// CSS4</span>
alert( <span class="hljs-string">&quot;CS-4&quot;</span>.match(regexp) ); <span class="hljs-comment">// CS-4</span>
alert( <span class="hljs-string">&quot;CS 4&quot;</span>.match(regexp) ); <span class="hljs-comment">// CS 4 (space is also a character)</span></code></pre>
<p>è¯·æ³¨æ„ï¼Œç‚¹è¡¨ç¤ºâ€œä»»ä½•å­—ç¬¦â€ï¼Œè€Œä¸æ˜¯â€œç¼ºå°‘å­—ç¬¦â€ã€‚å¿…é¡»æœ‰ä¸€ä¸ªä¸ä¹‹åŒ¹é…çš„å­—ç¬¦ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;CS4&quot;</span>.match(<span class="hljs-regexp">/CS.4/</span>) ); <span class="hljs-comment">// null, no match because there&#x27;s no character for the dot</span></code></pre>
<h3 id="å¸¦æœ‰sæ ‡å¿—æ—¶ç‚¹å­—ç¬¦ç±»ä¸¥æ ¼åŒ¹é…ä»»ä½•å­—ç¬¦">å¸¦æœ‰â€œsâ€æ ‡å¿—æ—¶ç‚¹å­—ç¬¦ç±»ä¸¥æ ¼åŒ¹é…ä»»ä½•å­—ç¬¦</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç‚¹ä¸æ¢è¡Œç¬¦ <code>\n</code> ä¸åŒ¹é…ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæ­£åˆ™è¡¨è¾¾å¼ <code>pattern:A.B</code> åŒ¹é… <code>match:A</code>ï¼Œç„¶ååŒ¹é… <code>match:B</code> å’Œå®ƒä»¬ä¹‹é—´çš„ä»»ä½•å­—ç¬¦ï¼Œé™¤äº†æ¢è¡Œç¬¦<code>\n</code>ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;A\nB&quot;</span>.match(<span class="hljs-regexp">/A.B/</span>) ); <span class="hljs-comment">// null (no match)</span></code></pre>
<p>åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬å¸Œæœ›ç”¨ç‚¹æ¥è¡¨ç¤ºâ€œä»»ä½•å­—ç¬¦â€ï¼ˆåŒ…æ‹¬æ¢è¡Œç¬¦ï¼‰æ—¶ã€‚</p>
<p>è¿™å°±æ˜¯æ ‡å¿— <code>pattern:s</code> æ‰€åšçš„ã€‚å¦‚æœæœ‰ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™ç‚¹ <code>pattern:.</code> å®é™…ä¸ŠåŒ¹é…ä»»ä½•å­—ç¬¦ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;A\nB&quot;</span>.match(<span class="hljs-regexp">/A.B/</span>s) ); <span class="hljs-comment">// A\nB (match!)</span></code></pre>
<pre><code class="language-warn">ä½¿ç”¨å‰å¯ä» &lt;https://caniuse.com/#search=dotall&gt; ç¡®è®¤ä»¥è·å¾—æœ€æ–°çš„æ”¯æŒçŠ¶æ€ã€‚åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œå®ƒä¸åŒ…æ‹¬ Firefoxã€IEã€Edgeã€‚

å¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€ç§æ›¿ä»£æ–¹æ³•å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¸å¦‚ `pattern:[\s\S]` ä¹‹ç±»çš„æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…â€œä»»ä½•å­—ç¬¦â€ã€‚

```js run
alert( &quot;A\nB&quot;.match(/A[\s\S]B/) ); // A\nB (match!)
```

æ¨¡å¼ `pattern:[\s\S]` ä»å­—é¢ä¸Šè¯´ï¼šâ€œç©ºæ ¼å­—ç¬¦æˆ–éç©ºæ ¼å­—ç¬¦â€ã€‚æ¢å¥è¯è¯´ï¼Œâ€œä»»ä½•ä¸œè¥¿â€ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦ä¸€å¯¹äº’è¡¥çš„ç±»ï¼Œä¾‹å¦‚ `pattern:[\d\D]`ã€‚ç”šè‡³æ˜¯ `pattern:[^]` â€”â€” æ„æ€æ˜¯åŒ¹é…ä»»ä½•å­—ç¬¦ï¼Œé™¤äº†ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚

å¦‚æœæˆ‘ä»¬å¸Œæœ›ä¸¤ç§â€œç‚¹â€éƒ½ä½¿ç”¨ç›¸åŒçš„æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ­¤æŠ€å·§ï¼šå®é™…çš„ç‚¹ `pattern:.` å…·æœ‰å¸¸è§„æ–¹å¼ï¼ˆâ€œä¸åŒ…æ‹¬æ¢è¡Œç¬¦â€ï¼‰ä»¥åŠä¸€ç§ä½¿ç”¨ `pattern:[\s\S]` æˆ–ç±»ä¼¼å½¢å¼åŒ¹é…â€œä»»ä½•å­—ç¬¦â€ã€‚</code></pre>
<pre><code class="language-warn">é€šå¸¸æˆ‘ä»¬å¾ˆå°‘æ³¨æ„ç©ºæ ¼ã€‚å¯¹æˆ‘ä»¬æ¥è¯´ï¼Œå­—ç¬¦ä¸² `subject:1-5` å’Œ `subject:1 - 5` å‡ ä¹ç›¸åŒã€‚

ä½†æ˜¯ï¼Œå¦‚æœæ­£åˆ™è¡¨è¾¾å¼æœªè€ƒè™‘ç©ºæ ¼ï¼Œåˆ™å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œã€‚

è®©æˆ‘ä»¬å°è¯•æŸ¥æ‰¾ç”±è¿å­—ç¬¦ï¼ˆ-ï¼‰åˆ†éš”çš„æ•°å­—ï¼š

```js run
alert( &quot;1 - 5&quot;.match(/\d-\d/) ); // null, no match!
```

è®©æˆ‘ä»¬ä¿®å¤ä¸€ä¸‹ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ·»åŠ ç©ºæ ¼ï¼š\ d-\ d`ï¼š

```js run
alert( &quot;1 - 5&quot;.match(/\d - \d/) ); // 1 - 5, now it works
// or we can use \s class:
alert( &quot;1 - 5&quot;.match(/\d\s-\s\d/) ); // 1 - 5, also works
```

**ç©ºæ ¼æ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚ä¸å…¶ä»–å­—ç¬¦åŒç­‰é‡è¦ã€‚**

æˆ‘ä»¬æ— æ³•åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ·»åŠ æˆ–åˆ é™¤ç©ºæ ¼ï¼Œå¹¶ä¸”æœŸæœ›èƒ½æ­£å¸¸å·¥ä½œã€‚

æ¢å¥è¯è¯´ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œæ‰€æœ‰å­—ç¬¦éƒ½å¾ˆé‡è¦ï¼Œç©ºæ ¼ä¹Ÿå¾ˆé‡è¦ã€‚</code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>å­˜åœ¨ä»¥ä¸‹å­—ç¬¦ç±»ï¼š</p>
<ul>
<li><code>pattern:\d</code> â€”â€” æ•°å­—ã€‚</li>
<li><code>pattern:\D</code> â€”â€” éæ•°å­—ã€‚</li>
<li><code>pattern:\s</code> â€”â€” ç©ºæ ¼ç¬¦å·ï¼Œåˆ¶è¡¨ç¬¦ï¼Œæ¢è¡Œç¬¦ã€‚</li>
<li><code>pattern:\S</code> â€”â€” é™¤äº† <code>pattern:\s</code> ã€‚</li>
<li><code>pattern:\w</code> â€”â€” æ‹‰ä¸å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ <code>&#39;_&#39;</code>ã€‚</li>
<li><code>pattern:\W</code> â€”â€” é™¤äº† <code>pattern:\w</code>ã€‚</li>
<li><code>pattern:.</code> â€”â€” ä»»ä½•å¸¦æœ‰ <code>&#39;s&#39;</code> æ ‡å¿—çš„å­—ç¬¦ï¼Œå¦åˆ™ä¸ºé™¤æ¢è¡Œç¬¦ <code>\n</code>ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ã€‚</li>
</ul>
<p>â€¦â€¦ä½†è¿™è¿˜ä¸æ˜¯å…¨éƒ¨ï¼</p>
<p>JavaScript ç”¨äºå­—ç¬¦ä¸²çš„ Unicode ç¼–ç æä¾›äº†è®¸å¤šå­—ç¬¦å±æ€§ï¼Œä¾‹å¦‚ï¼šè¿™ä¸ªå­—æ¯å±äºå“ªä¸€ç§è¯­è¨€ï¼ˆå¦‚æœå®ƒæ˜¯ä¸€ä¸ªå­—æ¯ï¼‰ï¼Ÿå®ƒæ˜¯æ ‡ç‚¹ç¬¦å·å—ï¼Ÿç­‰ç­‰ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è¿™äº›å±æ€§è¿›è¡Œæœç´¢ã€‚è¿™éœ€è¦æ ‡å¿— <code>pattern:u</code>ï¼Œåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»ã€‚</p>

      </fieldset>
      
      <fieldset id='_HPp3RU'>
      <legend>article</legend>
      <h1 id="unicodeï¼šä¿®é¥°ç¬¦-u-å’Œ-class-p">Unicodeï¼šä¿®é¥°ç¬¦ â€œuâ€ å’Œ class \p{...}</h1>
<p>JavaScript ä½¿ç”¨ <a href="https://en.wikipedia.org/wiki/Unicode">Unicode ç¼–ç </a> ï¼ˆUnicode encodingï¼‰å¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç ã€‚å¤§å¤šæ•°å­—ç¬¦ä½¿ç”¨ 2 ä¸ªå­—èŠ‚ç¼–ç ï¼Œä½†è¿™ç§æ–¹å¼åªèƒ½ç¼–ç æœ€å¤š 65536 ä¸ªå­—ç¬¦ã€‚</p>
<p>è¿™ä¸ªèŒƒå›´ä¸è¶³ä»¥å¯¹æ‰€æœ‰å¯èƒ½çš„å­—ç¬¦è¿›è¡Œç¼–ç ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸€äº›ç½•è§çš„å­—ç¬¦ä½¿ç”¨ 4 ä¸ªå­—èŠ‚è¿›è¡Œç¼–ç ï¼Œæ¯”å¦‚ <code>ğ’³</code> ï¼ˆæ•°å­¦ç¬¦å· Xï¼‰æˆ–è€… <code>ğŸ˜„</code> ï¼ˆç¬‘è„¸ï¼‰ï¼Œä¸€äº›è±¡å½¢æ–‡å­—ç­‰ç­‰ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›å­—ç¬¦å¯¹åº”çš„ unicode ç¼–ç ï¼š</p>
<table>
<thead>
<tr>
<th>å­—ç¬¦</th>
<th>Unicode</th>
<th>unicode ä¸­çš„å­—èŠ‚æ•°</th>
</tr>
</thead>
<tbody><tr>
<td>a</td>
<td><code>0x0061</code></td>
<td>2</td>
</tr>
<tr>
<td>â‰ˆ</td>
<td><code>0x2248</code></td>
<td>2</td>
</tr>
<tr>
<td>ğ’³</td>
<td><code>0x1d4b3</code></td>
<td>4</td>
</tr>
<tr>
<td>ğ’´</td>
<td><code>0x1d4b4</code></td>
<td>4</td>
</tr>
<tr>
<td>ğŸ˜„</td>
<td><code>0x1f604</code></td>
<td>4</td>
</tr>
</tbody></table>
<p>æ‰€ä»¥åƒ <code>a</code> å’Œ <code>â‰ˆ</code> è¿™æ ·çš„å­—ç¬¦å ç”¨ 2 ä¸ªå­—èŠ‚ï¼Œè€Œ <code>ğ’³</code>ï¼Œ<code>ğ’´</code> å’Œ <code>ğŸ˜„</code> çš„å¯¹åº”ç¼–ç åˆ™æ›´é•¿ï¼Œå®ƒä»¬å…·æœ‰ 4 ä¸ªå­—èŠ‚çš„é•¿åº¦ã€‚</p>
<p>å¾ˆä¹…ä»¥å‰ï¼Œå½“ JavaScript è¢«å‘æ˜å‡ºæ¥çš„æ—¶å€™ï¼ŒUnicode çš„ç¼–ç è¦æ›´åŠ ç®€å•ï¼šå½“æ—¶å¹¶æ²¡æœ‰ 4 ä¸ªå­—èŠ‚é•¿çš„å­—ç¬¦ã€‚æ‰€ä»¥ï¼Œä¸€éƒ¨åˆ†è¯­è¨€ç‰¹æ€§åœ¨ç°åœ¨ä»æ—§æ— æ³•å¯¹ unicode è¿›è¡Œæ­£ç¡®çš„å¤„ç†ã€‚</p>
<p>æ¯”å¦‚ <code>length</code> è®¤ä¸ºè¿™é‡Œçš„è¾“å…¥æœ‰ 2 ä¸ªå­—ç¬¦ï¼š</p>
<pre><code class="language-js">alert(<span class="hljs-string">&#x27;ğŸ˜„&#x27;</span>.length); <span class="hljs-comment">// 2</span>
alert(<span class="hljs-string">&#x27;ğ’³&#x27;</span>.length); <span class="hljs-comment">// 2</span></code></pre>
<p>...ä½†æˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°è®¤è¯†åˆ°è¾“å…¥çš„å­—ç¬¦åªæœ‰ä¸€ä¸ªï¼Œå¯¹å§ï¼Ÿå…³é”®åœ¨äº <code>length</code> æŠŠ 4 ä¸ªå­—èŠ‚å½“æˆäº† 2 ä¸ª 2 å­—èŠ‚é•¿çš„å­—ç¬¦ã€‚è¿™æ˜¯ä¸å¯¹çš„ï¼Œå› ä¸ºå®ƒä»¬å¿…é¡»è¢«å½“ä½œä¸€ä¸ªæ•´ä½“æ¥è€ƒè™‘ã€‚ï¼ˆå³æ‰€è°“çš„â€œä»£ç†ä¼ªå­—ç¬¦â€ï¼ˆsurrogate pairï¼‰ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œè¿›ä¸€æ­¥é˜…è¯»æœ‰å…³çš„çš„ä¿¡æ¯ <a href="info:string">info:string</a>ï¼‰ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­£åˆ™è¡¨è¾¾å¼åŒæ ·æŠŠä¸€ä¸ª 4 ä¸ªå­—èŠ‚çš„â€œé•¿å­—ç¬¦â€å½“æˆä¸€å¯¹ 2 ä¸ªå­—èŠ‚é•¿çš„å­—ç¬¦ã€‚æ­£å¦‚åœ¨å­—ç¬¦ä¸²ä¸­é‡åˆ°çš„æƒ…å†µï¼Œè¿™å°†å¯¼è‡´ä¸€äº›å¥‡æ€ªçš„ç»“æœã€‚æˆ‘ä»¬å°†å¾ˆå¿«åœ¨åé¢çš„æ–‡ç« ä¸­é‡åˆ° <a href="info:regexp-character-sets-and-ranges">info:regexp-character-sets-and-ranges</a>ã€‚</p>
<p>ä¸å­—ç¬¦ä¸²æœ‰æ‰€ä¸åŒçš„æ˜¯ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸€ä¸ªä¿®é¥°ç¬¦ <code>pattern:u</code> è¢«ç”¨ä»¥è§£å†³æ­¤ç±»é—®é¢˜ã€‚å½“ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨è¿™ä¸ªä¿®é¥°ç¬¦åï¼Œ4 ä¸ªå­—èŠ‚é•¿çš„å­—ç¬¦å°†è¢«æ­£ç¡®åœ°å¤„ç†ã€‚åŒæ—¶ä¹Ÿèƒ½å¤Ÿç”¨ä¸Š Unicode å±æ€§ï¼ˆUnicode propertyï¼‰æ¥è¿›è¡ŒæŸ¥æ‰¾äº†ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥å°±æ¥äº†è§£è¿™æ–¹é¢çš„å†…å®¹ã€‚</p>
<h2 id="unicode-å±æ€§ï¼ˆunicode-propertiesï¼‰p">Unicode å±æ€§ï¼ˆUnicode propertiesï¼‰\p{...}</h2>
<pre><code class="language-warn">å°½ç®¡ unicode property ä» 2018 å¹´ä»¥æ¥ä¾¿ä½œä¸ºæ ‡å‡†çš„ä¸€éƒ¨åˆ†, ä½† unicode å±æ€§åœ¨ Firefox ([bug](https://bugzilla.mozilla.org/show_bug.cgi?id=1361876)) å’Œ Edge ([bug](https://github.com/Microsoft/ChakraCore/issues/2969)) ä¸­å¹¶æ²¡æœ‰ç›¸åº”çš„æ”¯æŒã€‚

ç›®å‰ [XRegExp](http://xregexp.com) è¿™ä¸ªåº“æä¾›â€œæ‰©å±•â€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå…¶ä¸­åŒ…æ‹¬å¯¹ unicode property çš„è·¨å¹³å°æ”¯æŒã€‚</code></pre>
<p>Unicode ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦éƒ½å…·æœ‰å¾ˆå¤šçš„å±æ€§ã€‚å®ƒä»¬æè¿°äº†ä¸€ä¸ªå­—ç¬¦å±äºå“ªä¸ªâ€œç±»åˆ«â€ï¼ŒåŒ…å«äº†å„ç§å…³äºå­—ç¬¦çš„ä¿¡æ¯ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªå­—ç¬¦å…·æœ‰ <code>Letter</code> å±æ€§ï¼Œè¿™æ„å‘³ç€è¿™ä¸ªå­—ç¬¦å½’å±äºï¼ˆä»»æ„è¯­è¨€çš„ï¼‰ä¸€ä¸ªå­—æ¯è¡¨ã€‚è€Œ <code>Number</code> å±æ€§åˆ™è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæ•°å­—ï¼šä¹Ÿè®¸æ˜¯é˜¿æ‹‰ä¼¯è¯­ï¼Œäº¦æˆ–è€…æ˜¯ä¸­æ–‡ï¼Œç­‰ç­‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾å…·æœ‰æŸç§å±æ€§çš„å­—ç¬¦ï¼Œå†™ä½œ <code>pattern:\p{â€¦}</code>ã€‚ä¸ºäº†é¡ºåˆ©ä½¿ç”¨ <code>pattern:\p{â€¦}</code>ï¼Œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¿…é¡»ä½¿ç”¨ä¿®é¥°ç¬¦ <code>pattern:u</code>ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œ<code>\p{Letter}</code> è¡¨ç¤ºä»»ä½•è¯­è¨€ä¸­çš„ä¸€ä¸ªå­—æ¯ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>\p{L}</code>ï¼Œå› ä¸º <code>L</code> æ˜¯ <code>Letter</code> çš„ä¸€ä¸ªåˆ«åï¼ˆaliasï¼‰ã€‚å¯¹äºæ¯ç§å±æ€§è€Œè¨€ï¼Œå‡ ä¹éƒ½å­˜åœ¨å¯¹åº”çš„ç¼©å†™åˆ«åã€‚</p>
<p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ 3 ç§å­—æ¯å°†ä¼šè¢«æŸ¥æ‰¾å‡ºï¼šè‹±è¯­ã€æ ¼é²å‰äºšè¯­å’ŒéŸ©è¯­ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;A áƒ‘ ã„±&quot;</span>;

alert( str.match(<span class="hljs-regexp">/\p{L}/gu</span>) ); <span class="hljs-comment">// A,áƒ‘,ã„±</span>
alert( str.match(<span class="hljs-regexp">/\p{L}/g</span>) ); <span class="hljs-comment">// nullï¼ˆæ²¡æœ‰åŒ¹é…çš„æ–‡æœ¬ï¼Œå› ä¸ºæ²¡æœ‰ä¿®é¥°ç¬¦â€œuâ€ï¼‰</span></code></pre>
<p>ä»¥ä¸‹æ˜¯ä¸»è¦çš„å­—ç¬¦ç±»åˆ«å’Œå®ƒä»¬å¯¹åº”çš„å­ç±»åˆ«ï¼š</p>
<ul>
<li>å­—æ¯ï¼ˆLetterï¼‰ <code>L</code>:<ul>
<li>å°å†™ï¼ˆlowercaseï¼‰ <code>Ll</code></li>
<li>ä¿®é¥°ï¼ˆmodifierï¼‰ <code>Lm</code>,</li>
<li>é¦–å­—æ¯å¤§å†™ï¼ˆtitlecaseï¼‰ <code>Lt</code>,</li>
<li>å¤§å†™ï¼ˆuppercaseï¼‰ <code>Lu</code>,</li>
<li>å…¶å®ƒï¼ˆotherï¼‰ <code>Lo</code>ã€‚</li>
</ul>
</li>
<li>æ•°å­—ï¼ˆNumberï¼‰ <code>N</code>:<ul>
<li>åè¿›åˆ¶æ•°å­—ï¼ˆdecimal digitï¼‰ <code>Nd</code>,</li>
<li>å­—æ¯æ•°å­—ï¼ˆletter numberï¼‰ <code>Nl</code>,</li>
<li>å…¶å®ƒï¼ˆotherï¼‰ <code>No</code>ã€‚</li>
</ul>
</li>
<li>æ ‡ç‚¹ç¬¦å·ï¼ˆPunctuationï¼‰ <code>P</code>:<ul>
<li>é“¾æ¥ç¬¦ï¼ˆconnectorï¼‰ <code>Pc</code>,</li>
<li>æ¨ªæ ï¼ˆdashï¼‰ <code>Pd</code>,</li>
<li>èµ·å§‹å¼•ç”¨å·ï¼ˆinitial quoteï¼‰ <code>Pi</code>,</li>
<li>ç»“æŸå¼•ç”¨å·ï¼ˆfinal quoteï¼‰ <code>Pf</code>,</li>
<li>å¼€ï¼ˆopenï¼‰ <code>Ps</code>,</li>
<li>é—­ï¼ˆcloseï¼‰ <code>Pe</code>,</li>
<li>å…¶å®ƒï¼ˆotherï¼‰ <code>Po</code>ã€‚</li>
</ul>
</li>
<li>æ ‡è®°ï¼ˆMarkï¼‰ <code>M</code> (accents etc):<ul>
<li>é—´éš”åˆå¹¶ï¼ˆspacing combiningï¼‰ <code>Mc</code>,</li>
<li>å°é—­ï¼ˆenclosingï¼‰ <code>Me</code>,</li>
<li>éé—´éš”ï¼ˆnon-spacingï¼‰ <code>Mn</code>ã€‚</li>
</ul>
</li>
<li>ç¬¦å·ï¼ˆSymbolï¼‰ <code>S</code>:<ul>
<li>è´§å¸ï¼ˆcurrencyï¼‰ <code>Sc</code>,</li>
<li>ä¿®é¥°ï¼ˆmodifierï¼‰ <code>Sk</code>,</li>
<li>æ•°å­¦ï¼ˆmathï¼‰ <code>Sm</code>,</li>
<li>å…¶å®ƒï¼ˆotherï¼‰ <code>So</code>ã€‚</li>
</ul>
</li>
<li>åˆ†éš”ç¬¦ï¼ˆSeparatorï¼‰ <code>Z</code>:<ul>
<li>è¡Œï¼ˆlineï¼‰ <code>Zl</code>,</li>
<li>æ®µè½ï¼ˆparagraphï¼‰ <code>Zp</code>,</li>
<li>ç©ºæ ¼ï¼ˆspaceï¼‰ <code>Zs</code>ã€‚</li>
</ul>
</li>
<li>å…¶å®ƒï¼ˆOtherï¼‰ <code>C</code>:<ul>
<li>æ§åˆ¶ç¬¦ï¼ˆcontrolï¼‰ <code>Cc</code>,</li>
<li>æ ¼å¼ï¼ˆformatï¼‰ <code>Cf</code>,</li>
<li>æœªåˆ†é…ï¼ˆnot assignedï¼‰ <code>Cn</code>,</li>
<li>ç§æœ‰ï¼ˆprivate useï¼‰ <code>Co</code>,</li>
<li>ä»£ç†ä¼ªå­—ç¬¦ï¼ˆsurrogateï¼‰ <code>Cs</code>ã€‚</li>
</ul>
</li>
</ul>
<p>å› æ­¤ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬éœ€è¦å°å†™çš„å­—æ¯ï¼Œå°±å¯ä»¥å†™æˆ <code>pattern:\p{Ll}</code>ï¼Œæ ‡ç‚¹ç¬¦å·å†™ä½œ <code>pattern:\p{P}</code> ç­‰ç­‰ã€‚</p>
<p>ä¹Ÿæœ‰å…¶å®ƒæ´¾ç”Ÿçš„ç±»åˆ«ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><code>Alphabetic</code> (<code>Alpha</code>), åŒ…å«äº†å­—æ¯ <code>L</code>, åŠ ä¸Šå­—æ¯æ•°å­— <code>Nl</code> ï¼ˆä¾‹å¦‚ â…« - ç½—é©¬æ•°å­— 12ï¼‰ï¼ŒåŠ ä¸Šä¸€äº›å…¶å®ƒç¬¦å· <code>Other_Alphabetic</code> (<code>OAlpha</code>)ã€‚</li>
<li><code>Hex_Digit</code> åŒ…æ‹¬ 16 è¿›åˆ¶æ•°å­— <code>0-9</code>ï¼Œ<code>a-f</code>ã€‚</li>
<li>...ç­‰ç­‰</li>
</ul>
<p>Unicode æ”¯æŒç›¸å½“æ•°é‡çš„å±æ€§ï¼Œåˆ—å‡ºæ•´ä¸ªæ¸…å•éœ€è¦å ç”¨å¤§é‡çš„ç©ºé—´ï¼Œå› æ­¤åœ¨è¿™é‡Œåˆ—å‡ºç›¸å…³çš„é“¾æ¥ï¼š</p>
<ul>
<li>åˆ—å‡ºä¸€ä¸ªå­—ç¬¦çš„æ‰€æœ‰å±æ€§ <a href="https://unicode.org/cldr/utility/character.jsp">https://unicode.org/cldr/utility/character.jsp</a>.</li>
<li>æŒ‰ç…§å±æ€§åˆ—å‡ºæ‰€æœ‰çš„å­—ç¬¦ <a href="https://unicode.org/cldr/utility/list-unicodeset.jsp">https://unicode.org/cldr/utility/list-unicodeset.jsp</a>.</li>
<li>å±æ€§çš„å¯¹åº”ç¼©å†™å½¢å¼ï¼š<a href="https://www.unicode.org/Public/UCD/latest/ucd/PropertyValueAliases.txt">https://www.unicode.org/Public/UCD/latest/ucd/PropertyValueAliases.txt</a>.</li>
<li>ä»¥æ–‡æœ¬æ ¼å¼æ•´ç†çš„æ‰€æœ‰ Unicode å­—ç¬¦ï¼ŒåŒ…å«äº†æ‰€æœ‰çš„å±æ€§ï¼š<a href="https://www.unicode.org/Public/UCD/latest/ucd/">https://www.unicode.org/Public/UCD/latest/ucd/</a>.</li>
</ul>
<h3 id="å®ä¾‹ï¼š16-è¿›åˆ¶æ•°å­—">å®ä¾‹ï¼š16 è¿›åˆ¶æ•°å­—</h3>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œè®©æˆ‘ä»¬æ¥æŸ¥æ‰¾ 16 è¿›åˆ¶æ•°å­—ï¼Œå†™ä½œ <code>xFF</code> å…¶ä¸­ <code>F</code> æ˜¯ä¸€ä¸ª 16 è¿›åˆ¶çš„æ•°å­—ï¼ˆ0..1 æˆ–è€… A..Fï¼‰ã€‚</p>
<p>ä¸€ä¸ª 16 è¿›åˆ¶æ•°å­—å¯ä»¥è¡¨ç¤ºä¸º <code>pattern:\p{Hex_Digit}</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/x\p{Hex_Digit}\p{Hex_Digit}/u</span>;

alert(<span class="hljs-string">&quot;number: xAF&quot;</span>.match(regexp)); <span class="hljs-comment">// xAF</span></code></pre>
<h3 id="å®ä¾‹ï¼šä¸­æ–‡å­—ç¬¦">å®ä¾‹ï¼šä¸­æ–‡å­—ç¬¦</h3>
<p>è®©æˆ‘ä»¬å†æ¥è€ƒè™‘ä¸­æ–‡å­—ç¬¦ã€‚</p>
<p>æœ‰ä¸€ä¸ª unicode å±æ€§ <code>Script</code> ï¼ˆä¸€ä¸ªä¹¦å†™ç³»ç»Ÿï¼‰ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥æœ‰ä¸€ä¸ªå€¼ï¼š<code>Cyrillic</code>ï¼Œ<code>Greek</code>ï¼Œ<code>Arabic</code>ï¼Œ<code>Han</code> ï¼ˆä¸­æ–‡ï¼‰ç­‰ç­‰ï¼Œ<a href="https://en.wikipedia.org/wiki/Script_(Unicode)">è¿™é‡Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„åˆ—è¡¨</a>ã€‚</p>
<p>ä¸ºäº†å®ç°æŸ¥æ‰¾ä¸€ä¸ªç»™å®šçš„ä¹¦å†™ç³»ç»Ÿä¸­çš„å­—ç¬¦ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>pattern:Script=&lt;value&gt;</code>ï¼Œä¾‹å¦‚å¯¹äºè¥¿é‡Œå°”å­—ç¬¦ï¼š<code>pattern:\p{sc=Cyrillic}</code>, ä¸­æ–‡å­—ç¬¦ï¼š<code>pattern:\p{sc=Han}</code>ï¼Œç­‰ç­‰ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/\p{sc=Han}/gu</span>; <span class="hljs-comment">// returns Chinese hieroglyphs</span>

<span class="hljs-keyword">let</span> str = <span class="hljs-string">`Hello ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ ä½ å¥½ 123_456`</span>;

alert( str.match(regexp) ); <span class="hljs-comment">// ä½ ,å¥½</span></code></pre>
<h3 id="å®ä¾‹ï¼šè´§å¸">å®ä¾‹ï¼šè´§å¸</h3>
<p>è¡¨ç¤ºè´§å¸çš„å­—ç¬¦ï¼Œä¾‹å¦‚ <code>$</code>ï¼Œ<code>â‚¬</code>ï¼Œ<code>Â¥</code>ï¼Œå…·æœ‰ unicode å±æ€§ <code>pattern:\p{Currency_Symbol}</code>ï¼Œç¼©å†™ä¸º <code>pattern:\p{Sc}</code>ã€‚</p>
<p>è®©æˆ‘ä»¬ä½¿ç”¨è¿™ä¸€å±æ€§æ¥æŸ¥æ‰¾ç¬¦åˆâ€œè´§å¸ï¼Œæ¥ç€æ˜¯ä¸€ä¸ªæ•°å­—â€çš„ä»·æ ¼æ–‡æœ¬ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/\p{Sc}\d/gu</span>;

<span class="hljs-keyword">let</span>  str = <span class="hljs-string">`Prices: $2, â‚¬1, Â¥9`</span>;

alert( str.match(regexp) ); <span class="hljs-comment">// $2,â‚¬1,Â¥9</span></code></pre>
<p>ä¹‹åï¼Œåœ¨æ–‡ç«  <a href="info:regexp-quantifiers">info:regexp-quantifiers</a> ä¸­æˆ‘ä»¬å°†ä¼šäº†è§£å¦‚ä½•æŸ¥æ‰¾åŒ…å«å¾ˆå¤šä½çš„æ•°å­—ã€‚</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>ä¿®é¥°ç¬¦ <code>pattern:u</code> åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æä¾›å¯¹ Unicode çš„æ”¯æŒã€‚</p>
<p>è¿™æ„å‘³ç€ä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>4 ä¸ªå­—èŠ‚é•¿çš„å­—ç¬¦è¢«ä»¥æ­£ç¡®çš„æ–¹å¼å¤„ç†ï¼šè¢«çœ‹æˆå•ä¸ªçš„å­—ç¬¦ï¼Œè€Œä¸æ˜¯ 2 ä¸ª 2 å­—èŠ‚é•¿çš„å­—ç¬¦ã€‚</li>
<li>Unicode å±æ€§å¯ä»¥è¢«ç”¨äºæŸ¥æ‰¾ä¸­ <code>\p{â€¦}</code>ã€‚</li>
</ol>
<p>æœ‰äº† unicode å±æ€§æˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾ç»™å®šè¯­è¨€ä¸­çš„è¯ï¼Œç‰¹æ®Šå­—ç¬¦ï¼ˆå¼•ç”¨ï¼Œè´§å¸ï¼‰ç­‰ç­‰ã€‚</p>

      </fieldset>
      
      <fieldset id='_zzLIai'>
      <legend>solution</legend>
      <p>å”¯ä¸€ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²æ˜¯ç©ºå­—ç¬¦ä¸²ï¼šå®ƒçš„å¼€å§‹ç´§è·Ÿç€ç»“æŸã€‚</p>
<p>è¿™ä¸ªé¢˜ç›®å†ä¸€æ¬¡è¯´æ˜äº†é”šä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ä¸€ä¸ªæµ‹è¯•ã€‚</p>
<p>å¯¹äºç©ºå­—ç¬¦ä¸² <code>&quot;&quot;</code>ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¼•æ“å°†ä¼šé¦–å…ˆåŒ¹é…æ¨¡å¼ <code>^</code>ï¼ˆè¾“å…¥å¼€å§‹ï¼‰ï¼ŒåŒ¹é…æˆåŠŸä¹‹åï¼Œä¼šç´§è·Ÿç€æ£€æŸ¥æ¨¡å¼ <code>$</code>ï¼Œä¹ŸåŒ¹é…æˆåŠŸã€‚æ‰€ä»¥ç©ºå­—ç¬¦ä¸²æ˜¯åŒ¹é… <code>^$</code> çš„ã€‚</p>

      </fieldset>
      
      <fieldset id='_ATvnR1'>
      <legend>task</legend>
      <h1 id="æ­£åˆ™è¡¨è¾¾å¼-">æ­£åˆ™è¡¨è¾¾å¼ ^$</h1>
<p>ä»€ä¹ˆå­—ç¬¦ä¸²å¯ä»¥åŒ¹é…æ¨¡å¼ <code>^$</code>ï¼Ÿ</p>

      </fieldset>
      
      <fieldset id='_WFiB4T'>
      <legend>article</legend>
      <h1 id="é”šç‚¹ï¼ˆanchorsï¼šå­—ç¬¦ä¸²å¼€å§‹--å’Œæœ«å°¾-">é”šç‚¹ï¼ˆAnchors)ï¼šå­—ç¬¦ä¸²å¼€å§‹ ^ å’Œæœ«å°¾ $</h1>
<p>æ’å…¥ç¬¦å· <code>pattern:^</code> å’Œç¾å…ƒç¬¦å· <code>pattern:$</code> åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…·æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚å®ƒä»¬è¢«ç§°ä¸ºâ€œé”šç‚¹â€ã€‚</p>
<p>æ’å…¥ç¬¦å· <code>pattern:^</code> åŒ¹é…æ–‡æœ¬å¼€å¤´ï¼Œè€Œç¾å…ƒç¬¦å· <code>pattern:$</code> ï¼ åˆ™åŒ¹é…æ–‡æœ¬æœ«å°¾ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œè®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹æ–‡æœ¬æ˜¯å¦ä»¥ <code>Mary</code> å¼€å¤´ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str1 = <span class="hljs-string">&quot;Mary had a little lamb&quot;</span>;
alert( <span class="hljs-regexp">/^Mary/</span>.test(str1) ); <span class="hljs-comment">// true</span></code></pre>
<p>è¯¥æ¨¡å¼ <code>pattern:^Mary</code> çš„æ„æ€æ˜¯ï¼šå­—ç¬¦ä¸²å¼€å§‹ï¼Œæ¥ç€æ˜¯ â€œMaryâ€ã€‚</p>
<p>ä¸æ­¤ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>pattern:snow$</code> æ¥æµ‹è¯•æ–‡æœ¬æ˜¯å¦ä»¥ <code>snow</code> ç»“å°¾:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str1 = <span class="hljs-string">&quot;it&#x27;s fleece was white as snow&quot;</span>;
alert( <span class="hljs-regexp">/snow$/</span>.test(str1) ); <span class="hljs-comment">// true</span></code></pre>
<p>åœ¨ä»¥ä¸Šè¿™äº›å…·ä½“çš„ä¾‹å­ä¸­æˆ‘ä»¬å®é™…ä¸Šå¯ä»¥ç”¨ <code>startsWith/endsWith</code> æ¥ä»£æ›¿ã€‚æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥è¢«ç”¨äºæ›´åŠ å¤æ‚çš„æµ‹è¯•ä¸­ã€‚</p>
<h2 id="æµ‹è¯•å®Œå…¨åŒ¹é…">æµ‹è¯•å®Œå…¨åŒ¹é…</h2>
<p>è¿™ä¸¤ä¸ªé”šç‚¹ <code>pattern:^...$</code> æ”¾åœ¨ä¸€èµ·å¸¸å¸¸è¢«ç”¨äºæµ‹è¯•ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å®Œå…¨åŒ¹é…ä¸€ä¸ªæ¨¡å¼ã€‚æ¯”å¦‚ï¼Œæµ‹è¯•ç”¨æˆ·çš„è¾“å…¥æ˜¯å¦ç¬¦åˆæ­£ç¡®çš„æ ¼å¼ã€‚</p>
<p>è®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å±äº <code>12:34</code> æ ¼å¼çš„æ—¶é—´ã€‚å³ï¼Œä¸¤ä¸ªæ•°å­—ï¼Œç„¶åä¸€ä¸ªå†’å·ï¼Œæ¥ç€æ˜¯å¦å¤–ä¸¤ä¸ªæ•°å­—ã€‚</p>
<p>ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥è¡¨ç¤ºå°±æ˜¯ <code>pattern:\d\d:\d\d</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> goodInput = <span class="hljs-string">&quot;12:34&quot;</span>;
<span class="hljs-keyword">let</span> badInput = <span class="hljs-string">&quot;12:345&quot;</span>;

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/^\d\d:\d\d$/</span>;
alert( regexp.test(goodInput) ); <span class="hljs-comment">// true</span>
alert( regexp.test(badInput) ); <span class="hljs-comment">// false</span></code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ <code>pattern:\d\d:\d\d</code> æ‰€å¯¹åº”çš„åŒ¹é…æ–‡æœ¬å¿…é¡»æ­£å¥½åœ¨æ–‡æœ¬å¼€å¤´ <code>pattern:^</code> ä¹‹åï¼Œè€Œåœ¨è¿™ä¹‹åå¿…é¡»ç´§è·Ÿæ–‡æœ¬æœ«å°¾ <code>pattern:$</code>ã€‚</p>
<p>æ•´ä¸ªå­—ç¬¦ä¸²å¿…é¡»å‡†ç¡®åœ°ç¬¦åˆè¿™ä¸€ä¸ªæ ¼å¼ã€‚å¦‚æœå…¶ä¸­æœ‰ä»»ä½•åå·®æˆ–è€…é¢å¤–çš„å­—ç¬¦ï¼Œç»“æœå°†ä¸º <code>false</code>ã€‚</p>
<p>å½“ä¿®é¥°ç¬¦ <code>pattern:m</code> å‡ºç°æ—¶ï¼Œé”šç‚¹å°†ä¼šæœ‰ä¸åŒçš„è¡Œä¸ºã€‚æˆ‘ä»¬å°†åœ¨åé¢å­¦ä¹ åˆ°ã€‚</p>
<pre><code class="language-smart">é”šç‚¹ `pattern:^` å’Œ `pattern:$` å±äºæµ‹è¯•ã€‚å®ƒä»¬çš„å®½åº¦ä¸ºé›¶ã€‚

æ¢å¥è¯æ¥è¯´ï¼Œå®ƒä»¬å¹¶ä¸åŒ¹é…ä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ï¼Œè€Œæ˜¯è®©æ­£åˆ™å¼•æ“æµ‹è¯•æ‰€è¡¨ç¤ºçš„æ¡ä»¶ï¼ˆæ–‡æœ¬å¼€å¤´/æ–‡æœ¬æœ«å°¾ï¼‰ã€‚</code></pre>

      </fieldset>
      
      <fieldset id='_AfHTjZ'>
      <legend>article</legend>
      <h1 id="flag-m--å¤šè¡Œæ¨¡å¼">Flag &quot;m&quot; â€” å¤šè¡Œæ¨¡å¼</h1>
<p>é€šè¿‡ flag <code>/.../m</code> å¯ä»¥å¼€å¯å¤šè¡Œæ¨¡å¼ã€‚</p>
<p>è¿™ä»…ä»…ä¼šå½±å“ <code>^</code> å’Œ <code>$</code> é”šç¬¦çš„è¡Œä¸ºã€‚</p>
<p>åœ¨å¤šè¡Œæ¨¡å¼ä¸‹ï¼Œå®ƒä»¬ä¸ä»…ä»…åŒ¹é…æ–‡æœ¬çš„å¼€å§‹ä¸ç»“æŸï¼Œè¿˜åŒ¹é…æ¯ä¸€è¡Œçš„å¼€å§‹ä¸ç»“æŸã€‚</p>
<h2 id="è¡Œçš„å¼€å¤´-">è¡Œçš„å¼€å¤´ ^</h2>
<p>åœ¨è¿™ä¸ªæœ‰å¤šè¡Œæ–‡æœ¬çš„ä¾‹å­ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ <code>/^\d+/gm</code> å°†åŒ¹é…æ¯ä¸€è¡Œçš„å¼€å¤´æ•°å­—ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">`1st place: Winnie
2nd place: Piglet
33rd place: Eeyore`</span>;

*!*
alert( str.match(<span class="hljs-regexp">/^\d+/gm</span>) ); <span class="hljs-comment">// 1, 2, 33</span>
*/!*</code></pre>
<p>æ²¡æœ‰ flag  <code>/.../m</code> æ—¶ï¼Œä»…ä»…æ˜¯ç¬¬ä¸€ä¸ªæ•°å­—è¢«åŒ¹é…åˆ°ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">`1st place: Winnie
2nd place: Piglet
33rd place: Eeyore`</span>;

*!*
alert( str.match(<span class="hljs-regexp">/^\d+/g</span>) ); <span class="hljs-comment">// 1</span>
*/!*</code></pre>
<p>è¿™æ˜¯å› ä¸ºé»˜è®¤æƒ…å†µä¸‹ï¼Œé”šç¬¦ <code>^</code> ä»…ä»…åŒ¹é…æ–‡æœ¬çš„å¼€å¤´ï¼Œåœ¨å¤šè¡Œæ¨¡å¼ä¸‹ï¼Œå®ƒåŒ¹é…è¡Œçš„å¼€å¤´ã€‚</p>
<p>æ­£åˆ™è¡¨è¾¾å¼å¼•æ“å°†ä¼šåœ¨æ–‡æœ¬ä¸­æŸ¥æ‰¾ä»¥é”šç¬¦ <code>^</code> å¼€å§‹çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æ‰¾åˆ°ä¹‹åç»§ç»­åŒ¹é… <code>\d+</code> æ¨¡å¼ã€‚</p>
<h2 id="è¡Œçš„ç»“å°¾-">è¡Œçš„ç»“å°¾ $</h2>
<p>ç¾å…ƒç¬¦ <code>$</code> è¡Œä¸ºä¹Ÿç›¸ä¼¼ã€‚</p>
<p>æ­£åˆ™è¡¨è¾¾å¼ `\w+$ ä¼šæ‰¾åˆ°æ¯ä¸€è¡Œçš„æœ€åä¸€ä¸ªå•è¯ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">`1st place: Winnie
2nd place: Piglet
33rd place: Eeyore`</span>;

alert( str.match(<span class="hljs-regexp">/\w+$/gim</span>) ); <span class="hljs-comment">// Winnie,Piglet,Eeyore</span></code></pre>
<p>æ²¡æœ‰ <code>/.../m</code> flag çš„è¯ï¼Œç¾å…ƒç¬¦ <code>$</code> å°†ä¼šä»…ä»…åŒ¹é…æ•´ä¸ªæ–‡æœ¬çš„ç»“å°¾ï¼Œæ‰€ä»¥åªæœ‰æœ€åçš„ä¸€ä¸ªå•è¯ä¼šè¢«æ‰¾åˆ°ã€‚</p>
<h2 id="é”šç¬¦--å¯¹æ¯”-n">é”šç¬¦ ^$ å¯¹æ¯” \n</h2>
<p>è¦å¯»æ‰¾æ–°çš„ä¸€è¡Œçš„è¯ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥ä½¿ç”¨é”šç¬¦ <code>^</code> å’Œ <code>$</code>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ¢è¡Œç¬¦ <code>\n</code>ã€‚</p>
<p>å®ƒå’Œé”šç¬¦ <code>^</code> å’Œ <code>$</code> çš„ç¬¬ä¸€ä¸ªä¸åŒç‚¹æ˜¯å®ƒä¸åƒé”šç¬¦é‚£æ ·ï¼Œå®ƒä¼šâ€œæ¶ˆè€—â€æ‰ <code>\n</code> å¹¶ä¸”å°†å…¶ï¼ˆ<code>\n</code>ï¼‰åŠ å…¥åˆ°åŒ¹é…ç»“æœä¸­ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åœ¨ä¸‹é¢çš„ä»£ç ä¸­ç”¨å®ƒæ¥æ›¿ä»£ <code>$</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">`1st place: Winnie
2nd place: Piglet
33rd place: Eeyore`</span>;

alert( str.match(<span class="hljs-regexp">/\w+\n/gim</span>) ); <span class="hljs-comment">// Winnie\n,Piglet\n</span></code></pre>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬æ¯æ¬¡åŒ¹é…åˆ°çš„æ—¶å€™éƒ½ä¼šè¢«æ·»åŠ ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªä¸åŒç‚¹â€”â€”æ¢è¡Œç¬¦ <code>\n</code> ä¸ä¼šåŒ¹é…å­—ç¬¦ä¸²ç»“å°¾ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ <code>Eeyore</code> æ²¡æœ‰åŒ¹é…åˆ°ã€‚</p>
<p>æ‰€ä»¥ï¼Œé€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨é”šç¬¦æ›´æ£’ï¼Œç”¨å®ƒåŒ¹é…å‡ºæ¥çš„ç»“æœæ›´åŠ æ¥è¿‘æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>

      </fieldset>
      
      <fieldset id='_1N4CMQ'>
      <legend>solution</legend>
      <p>ç­”æ¡ˆæ˜¯ï¼š<code>pattern:\b\d\d:\d\d\b</code>ã€‚</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;Breakfast at 09:00 in the room 123:456.&quot;</span>.match( <span class="hljs-regexp">/\b\d\d:\d\d\b/</span> ) ); <span class="hljs-comment">// 09:00</span></code></pre>

      </fieldset>
      
      <fieldset id='_mInNQ7'>
      <legend>task</legend>
      <h1 id="æŸ¥æ‰¾æ—¶é—´">æŸ¥æ‰¾æ—¶é—´</h1>
<p>æ—¶é—´çš„æ ¼å¼æ˜¯ï¼š<code>hours:minutes</code>ã€‚å°æ—¶å’Œåˆ†é’Ÿéƒ½æ˜¯ä¸¤ä½æ•°ï¼Œå¦‚ <code>09:00</code>ã€‚</p>
<p>ç¼–å†™æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸² <code>subject:Breakfast at 09:00 in the room 123:456.</code> ä¸­æŸ¥æ‰¾æ—¶é—´ã€‚</p>
<p>P.S. åœ¨è¿™ä¸ªä»»åŠ¡é‡Œæ²¡æœ‰å¿…è¦æ ¡éªŒæ—¶é—´çš„æ­£ç¡®æ€§ï¼Œæ‰€ä»¥ <code>25:99</code> ä¹Ÿå¯ç®—åšæœ‰æ•ˆçš„ç»“æœã€‚</p>
<p>P.P.S. æ­£åˆ™è¡¨è¾¾å¼ä¸èƒ½åŒ¹é… <code>123:456</code>ã€‚</p>

      </fieldset>
      
      <fieldset id='_eYc4iR'>
      <legend>article</legend>
      <h1 id="è¯è¾¹ç•Œï¼šb">è¯è¾¹ç•Œï¼š\b</h1>
<p>è¯è¾¹ç•Œ <code>pattern:\b</code> æ˜¯ä¸€ç§æ£€æŸ¥ï¼Œå°±åƒ <code>pattern:^</code> å’Œ <code>pattern:$</code> ä¸€æ ·ã€‚</p>
<p>å½“æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ï¼ˆå®ç°æœç´¢æ­£åˆ™è¡¨è¾¾å¼çš„ç¨‹åºæ¨¡å—ï¼‰é‡åˆ° <code>pattern:\b</code> æ—¶ï¼Œå®ƒä¼šæ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„ä½ç½®æ˜¯å¦æ˜¯è¯è¾¹ç•Œã€‚</p>
<p>æœ‰ä¸‰ç§ä¸åŒçš„ä½ç½®å¯ä½œä¸ºè¯è¾¹ç•Œï¼š</p>
<ul>
<li>åœ¨å­—ç¬¦ä¸²å¼€å¤´ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯å•è¯å­—ç¬¦ <code>pattern:\w</code>ã€‚</li>
<li>åœ¨å­—ç¬¦ä¸²ä¸­çš„ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯å•è¯å­—ç¬¦ <code>pattern:\w</code>ï¼Œå¦ä¸€ä¸ªä¸æ˜¯ã€‚</li>
<li>åœ¨å­—ç¬¦ä¸²æœ«å°¾ï¼Œå¦‚æœæœ€åä¸€ä¸ªå­—ç¬¦æ˜¯å•è¯å­—ç¬¦ <code>pattern:\w</code>ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨ <code>subject:Hello, Java!</code> ä¸­æ‰¾åˆ°åŒ¹é… <code>pattern:\bJava\b</code> çš„å•è¯ï¼Œå…¶ä¸­ <code>subject:Java</code> æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å•è¯ï¼Œè€Œåœ¨ <code>subject:Hello, JavaScript!</code> ä¸­åˆ™ä¸è¡Œã€‚</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;Hello, Java!&quot;</span>.match(<span class="hljs-regexp">/\bJava\b/</span>) ); <span class="hljs-comment">// Java</span>
alert( <span class="hljs-string">&quot;Hello, JavaScript!&quot;</span>.match(<span class="hljs-regexp">/\bJava\b/</span>) ); <span class="hljs-comment">// null</span></code></pre>
<p>åœ¨å­—ç¬¦ä¸² <code>subject:Hello, Java!</code> ä¸­ï¼Œä»¥ä¸‹ä½ç½®å¯¹åº”äº <code>pattern:\b</code>ï¼š</p>
<p><img src="hello-java-boundaries.svg" alt=""></p>
<p>å› æ­¤ï¼Œå®ƒä¸æ¨¡å¼ <code>pattern:\bHello\b</code> ç›¸åŒ¹é…ï¼Œå› ä¸ºï¼š</p>
<ol>
<li>å­—ç¬¦ä¸²çš„å¼€å¤´ç¬¦åˆç¬¬ä¸€ç§æ£€æŸ¥ <code>pattern:\b</code>ã€‚</li>
<li>ç„¶ååŒ¹é…äº†å•è¯ <code>pattern:Hello</code>ã€‚</li>
<li>ç„¶åä¸ <code>pattern:\b</code> å†æ¬¡åŒ¹é…ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ <code>subject:o</code> å’Œä¸€ä¸ªç©ºæ ¼ä¹‹é—´ã€‚</li>
</ol>
<p>æ¨¡å¼ <code>pattern:\bJava\b</code> ä¹ŸåŒæ ·åŒ¹é…ã€‚ä½† <code>pattern:\bHell\b</code>ï¼ˆå› ä¸º <code>l</code> ä¹‹åæ²¡æœ‰è¯è¾¹ç•Œï¼‰å’Œ <code>Java!\b</code>ï¼ˆå› ä¸ºæ„Ÿå¹å·ä¸æ˜¯å•è¯ <code>pattern:\w</code>ï¼Œæ‰€ä»¥å…¶åæ²¡æœ‰è¯è¾¹ç•Œï¼‰å´ä¸åŒ¹é…ã€‚</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;Hello, Java!&quot;</span>.match(<span class="hljs-regexp">/\bHello\b/</span>) ); <span class="hljs-comment">// Hello</span>
alert( <span class="hljs-string">&quot;Hello, Java!&quot;</span>.match(<span class="hljs-regexp">/\bJava\b/</span>) );  <span class="hljs-comment">// Java</span>
alert( <span class="hljs-string">&quot;Hello, Java!&quot;</span>.match(<span class="hljs-regexp">/\bHell\b/</span>) );  <span class="hljs-comment">// null (no match)</span>
alert( <span class="hljs-string">&quot;Hello, Java!&quot;</span>.match(<span class="hljs-regexp">/\bJava!\b/</span>) ); <span class="hljs-comment">// null (no match)</span></code></pre>
<p><code>pattern:\b</code> æ—¢å¯ä»¥ç”¨äºå•è¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ•°å­—ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæ¨¡å¼ <code>pattern:\b\d\d\b</code> æŸ¥æ‰¾ç‹¬ç«‹çš„ä¸¤ä½æ•°ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒæŸ¥æ‰¾çš„æ˜¯ä¸¤ä½æ•°ï¼Œå…¶å‘¨å›´æ˜¯ä¸ <code>pattern:\w</code> ä¸åŒçš„å­—ç¬¦ï¼Œä¾‹å¦‚ç©ºæ ¼æˆ–æ ‡ç‚¹ç¬¦å·ï¼ˆæˆ–æ–‡æœ¬å¼€å¤´/ç»“å°¾ï¼‰ã€‚</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;1 23 456 78&quot;</span>.match(<span class="hljs-regexp">/\b\d\d\b/g</span>) ); <span class="hljs-comment">// 23,78</span>
alert( <span class="hljs-string">&quot;12,34,56&quot;</span>.match(<span class="hljs-regexp">/\b\d\d\b/g</span>) ); <span class="hljs-comment">// 12,34,56</span></code></pre>
<p>```warn header=&quot;è¯è¾¹ç•Œ <code>pattern:\b</code> ä¸é€‚ç”¨äºéæ‹‰ä¸å­—æ¯&quot;
è¯è¾¹ç•Œæµ‹è¯• <code>pattern:\b</code> æ£€æŸ¥ä½ç½®çš„ä¸€ä¾§æ˜¯å¦åŒ¹é… <code>pattern:\w</code>ï¼Œè€Œå¦ä¸€ä¾§åˆ™ä¸åŒ¹é… &quot;<code>pattern:\w</code>&quot;ã€‚</p>
<p>ä½†æ˜¯ï¼Œ<code>pattern:\w</code> è¡¨ç¤ºæ‹‰ä¸å­—æ¯ <code>a-z</code>ï¼ˆæˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿ï¼‰ï¼Œå› æ­¤æ­¤æ£€æŸ¥ä¸é€‚ç”¨äºå…¶ä»–å­—ç¬¦ï¼Œå¦‚è¥¿é‡Œå°”å­—æ¯ï¼ˆcyrillic lettersï¼‰æˆ–è±¡å½¢æ–‡å­—ï¼ˆhieroglyphsï¼‰ã€‚</p>
<pre><code></code></pre>

      </fieldset>
      
      <fieldset id='_YV52Ht'>
      <legend>article</legend>
      <h1 id="è½¬ä¹‰ï¼Œç‰¹æ®Šå­—ç¬¦">è½¬ä¹‰ï¼Œç‰¹æ®Šå­—ç¬¦</h1>
<p>æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œä¸€ä¸ªåæ–œæ  <code>&quot;\&quot;</code> æ˜¯ç”¨æ¥è¡¨ç¤ºåŒ¹é…å­—ç¬¦ç±»çš„ã€‚æ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€‚</p>
<p>è¿˜å­˜åœ¨å…¶å®ƒçš„ç‰¹æ®Šå­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰ç‰¹æ®Šçš„å«ä¹‰ã€‚å®ƒä»¬å¯ä»¥è¢«ç”¨æ¥åšæ›´åŠ å¼ºå¤§çš„æœç´¢ã€‚</p>
<p>è¿™é‡Œæ˜¯åŒ…å«æ‰€æœ‰ç‰¹æ®Šå­—ç¬¦çš„åˆ—è¡¨ï¼š<code>pattern:[ \ ^ $ . | ? * + ( )</code>ã€‚</p>
<p>ç°åœ¨å¹¶ä¸éœ€è¦å°è¯•å»è®°ä½å®ƒä»¬ â€”â€” å½“æˆ‘ä»¬åˆ†åˆ«å¤„ç†å…¶ä¸­çš„æ¯ä¸€ä¸ªæ—¶ï¼Œä½ è‡ªç„¶è€Œç„¶å°±ä¼šè®°ä½å®ƒä»¬ã€‚</p>
<h2 id="è½¬ä¹‰">è½¬ä¹‰</h2>
<p>å¦‚æœè¦æŠŠç‰¹æ®Šå­—ç¬¦ä½œä¸ºå¸¸è§„å­—ç¬¦æ¥ä½¿ç”¨ï¼Œåªéœ€è¦åœ¨å®ƒå‰é¢åŠ ä¸ªåæ–œæ ã€‚</p>
<p>è¿™ç§æ–¹å¼ä¹Ÿè¢«å«åšâ€œè½¬ä¹‰ä¸€ä¸ªå­—ç¬¦â€ã€‚</p>
<p>æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªç‚¹å· <code>pattern:&#39;.&#39;</code>ã€‚åœ¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸­ä¸€ä¸ªç‚¹å·æ„å‘³ç€â€œé™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦â€ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³çœŸæ­£è¡¨ç¤ºå¯¹â€œä¸€ä¸ªç‚¹å·â€æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨ç‚¹å·å‰åŠ ä¸€ä¸ªåæ–œæ ã€‚</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;Chapter 5.1&quot;</span>.match(<span class="hljs-regexp">/\d\.\d/</span>) ); <span class="hljs-comment">// 5.1</span></code></pre>
<p>æ‹¬å·ä¹Ÿæ˜¯ç‰¹æ®Šå­—ç¬¦ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨æ­£åˆ™ä¸­æŸ¥æ‰¾å®ƒä»¬ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ <code>pattern:\(</code>ã€‚ä¸‹é¢çš„ä¾‹å­ä¼šæŸ¥æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸² <code>&quot;g()&quot;</code>ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;function g()&quot;</span>.match(<span class="hljs-regexp">/g\(\)/</span>) ); <span class="hljs-comment">// &quot;g()&quot;</span></code></pre>
<p>å¦‚æœæˆ‘ä»¬æƒ³æŸ¥æ‰¾åæ–œæ  <code>\</code>ï¼Œæˆ‘ä»¬å°±åº”è¯¥ä½¿ç”¨ä¸¤ä¸ªåæ–œæ æ¥æŸ¥æ‰¾ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;1\\2&quot;</span>.match(<span class="hljs-regexp">/\\/</span>) ); <span class="hljs-comment">// &#x27;\&#x27;</span></code></pre>
<h2 id="ä¸€ä¸ªæ–œæ ">ä¸€ä¸ªæ–œæ </h2>
<p>æ–œæ ç¬¦å· <code>&#39;/&#39;</code> å¹¶ä¸æ˜¯ä¸€ä¸ªç‰¹æ®Šç¬¦å·ï¼Œä½†æ˜¯å®ƒè¢«ç”¨äºåœ¨ Javascript ä¸­å¼€å¯å’Œå…³é—­æ­£åˆ™åŒ¹é…ï¼š<code>pattern:/...pattern.../</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿåº”è¯¥è½¬ä¹‰å®ƒã€‚</p>
<p>ä¸‹é¢æ˜¯æŸ¥è¯¢æ–œæ  <code>&#39;/&#39;</code> çš„è¡¨è¾¾å¼ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;/&quot;</span>.match(<span class="hljs-regexp">/\//</span>) ); <span class="hljs-comment">// &#x27;/&#x27;</span></code></pre>
<p>ä»å¦ä¸€ä¸ªæ–¹é¢çœ‹ï¼Œå¦‚æœä½¿ç”¨å¦ä¸€ç§ <code>new RegExp</code> æ–¹å¼å°±ä¸éœ€è¦è½¬ä¹‰æ–œæ ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;/&quot;</span>.match(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">&quot;/&quot;</span>)) ); <span class="hljs-comment">// &#x27;/&#x27;</span></code></pre>
<h2 id="ä½¿ç”¨-new-regexp-åˆ›å»ºæ­£åˆ™å®ä¾‹">ä½¿ç”¨ new RegExp åˆ›å»ºæ­£åˆ™å®ä¾‹</h2>
<p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨ <code>new RegExp</code> æ¥åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å®ä¾‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å¯¹å…¶åšä¸€äº›é¢å¤–çš„è½¬ä¹‰ã€‚</p>
<p>æ¯”å¦‚è¯´ï¼Œè€ƒè™‘ä¸‹é¢çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">&quot;\d\.\d&quot;</span>);

alert( <span class="hljs-string">&quot;Chapter 5.1&quot;</span>.match(reg) ); <span class="hljs-comment">// null</span></code></pre>
<p>å®ƒå¹¶æ²¡æœ‰æ­£å¸¸å‘æŒ¥ä½œç”¨ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>åŸå› å°±åœ¨äºå­—ç¬¦ä¸²è½¬ä¹‰è§„åˆ™ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<pre><code class="language-js">alert(<span class="hljs-string">&quot;\d\.\d&quot;</span>); <span class="hljs-comment">// d.d</span></code></pre>
<p>åœ¨å­—ç¬¦ä¸²ä¸­çš„åæ–œæ è¡¨ç¤ºè½¬ä¹‰æˆ–è€…ç±»ä¼¼ <code>\n</code> è¿™ç§åªèƒ½åœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨çš„ç‰¹æ®Šå­—ç¬¦ã€‚è¿™ä¸ªå¼•ç”¨ä¼šâ€œæ¶ˆè´¹â€å¹¶ä¸”è§£é‡Šè¿™äº›å­—ç¬¦ï¼Œæ¯”å¦‚è¯´ï¼š</p>
<ul>
<li><code>\n</code> â€”â€” å˜æˆä¸€ä¸ªæ¢è¡Œå­—ç¬¦ï¼Œ</li>
<li><code>\u1234</code> â€”â€” å˜æˆåŒ…å«è¯¥ç ä½çš„ Unicode å­—ç¬¦ï¼Œ</li>
<li>ã€‚ã€‚ã€‚å…¶å®ƒæœ‰äº›å¹¶æ²¡æœ‰ç‰¹æ®Šçš„å«ä¹‰ï¼Œå°±åƒ <code>\d</code> æˆ–è€… <code>\z</code>ï¼Œç¢°åˆ°è¿™ç§æƒ…å†µçš„è¯ä¼šæŠŠåæ–œæ ç§»é™¤ã€‚</li>
</ul>
<p>æ‰€ä»¥è°ƒç”¨ <code>new RegExp</code> ä¼šè·å¾—ä¸€ä¸ªæ²¡æœ‰åæ–œæ çš„å­—ç¬¦ä¸²ã€‚</p>
<p>å¦‚æœè¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åŒæ–œæ ï¼Œå› ä¸ºå¼•ç”¨ä¼šæŠŠ <code>\\</code> å˜ä¸º <code>\</code>ï¼š</p>
<pre><code class="language-js">*!*
<span class="hljs-keyword">let</span> regStr = <span class="hljs-string">&quot;\\d\\.\\d&quot;</span>;
*/!*
alert(regStr); <span class="hljs-comment">// \d\.\d (correct now)</span>

<span class="hljs-keyword">let</span> regexp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(regStr);

alert( <span class="hljs-string">&quot;Chapter 5.1&quot;</span>.match(regexp) ); <span class="hljs-comment">// 5.1</span></code></pre>
<h2 id="summary">Summary</h2>
<ul>
<li>è¦åœ¨å­—é¢ï¼ˆæ„ä¹‰ï¼‰ä¸Šæœç´¢ç‰¹æ®Šå­—ç¬¦ <code>pattern:[ \ ^ $ . | ? * + ( )</code>ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å®ƒä»¬å‰é¢åŠ ä¸Šåæ–œæ  <code>\</code>ï¼ˆ&quot;è½¬ä¹‰å®ƒä»¬&quot;ï¼‰ã€‚</li>
<li>å¦‚æœæˆ‘ä»¬åœ¨ <code>pattern:/.../</code> å†…éƒ¨ï¼ˆä½†ä¸åœ¨ <code>new RegExp</code> å†…éƒ¨ï¼‰ï¼Œè¿˜éœ€è¦è½¬ä¹‰ <code>/</code>ã€‚</li>
<li>ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆå‚æ•°ï¼‰ç»™ <code>new RegExp</code> æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åŒå€åæ–œæ  <code>\\</code>ï¼Œå› ä¸ºå­—ç¬¦ä¸²å¼•å·ä¼šæ¶ˆè´¹å…¶ä¸­çš„ä¸€ä¸ªã€‚</li>
</ul>

      </fieldset>
      
      <fieldset id='_VpmnFm'>
      <legend>solution</legend>
      <p>Â·ç­”æ¡ˆï¼š<strong>æ²¡æœ‰ï¼Œæ˜¯çš„</strong>ã€‚</p>
<ul>
<li><p>åœ¨è„šæœ¬ <code>subject:Java</code> ä¸­å®ƒå¹¶ä¸ä¼šåŒ¹é…åˆ°ä»»ä½•å­—ç¬¦ä¸²ï¼Œå› ä¸º <code>pattern:[^script]</code> è¡¨ç¤ºçš„æ˜¯â€œé™¤äº†ç»™å®šçš„å­—ç¬¦ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦â€ã€‚æ‰€ä»¥è¿™ä¸ªæ­£åˆ™ä¼šæŸ¥æ‰¾ <code>&quot;Java&quot;</code> ä¹‹åæ˜¯å¦æœ‰åŒ¹é…è¿™ä¸ªè§„åˆ™çš„ç¬¦å·ï¼Œä½†æ˜¯è¿™å·²ç»æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²çš„ç»“å°¾äº†ï¼Œåœ¨å…¶ä¹‹åå¹¶æ²¡æœ‰ä»»ä½•ç¬¦å·ã€‚</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;Java&quot;</span>.match(<span class="hljs-regexp">/Java[^script]/</span>) ); <span class="hljs-comment">// null</span></code></pre>
</li>
<li><p>æ˜¯çš„ï¼Œå› ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œ<code>pattern:[^script]</code> éƒ¨åˆ†åŒ¹é…åˆ°äº†å­—ç¬¦ <code>&quot;S&quot;</code>ã€‚</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;JavaScript&quot;</span>.match(<span class="hljs-regexp">/Java[^script]/</span>) ); <span class="hljs-comment">// &quot;JavaS&quot;</span></code></pre>
</li>
</ul>

      </fieldset>
      
      <fieldset id='_Y2UQPW'>
      <legend>task</legend>
      <h1 id="javascript">Java[^script]</h1>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ <code>pattern:/Java[^script]/</code>ã€‚</p>
<p>å®ƒä¼šå’Œå­—ç¬¦ä¸² <code>subject:Java</code> ä¸­çš„ä»»ä½•ä¸€éƒ¨åˆ†åŒ¹é…å—ï¼Ÿä¼šå’Œå­—ç¬¦ä¸² <code>subject:JavaScript</code> ä»»ä½•ä¸€éƒ¨åˆ†åŒ¹é…å—ï¼Ÿ</p>

      </fieldset>
      
      <fieldset id='_51t5jJ'>
      <legend>solution</legend>
      
      </fieldset>
      
      <fieldset id='_wyf3mn'>
      <legend>task</legend>
      
      </fieldset>
      
      <fieldset id='_qK5O1D'>
      <legend>article</legend>
      <h1 id="é›†åˆå’ŒèŒƒå›´-">é›†åˆå’ŒèŒƒå›´ [...]</h1>
<p>åœ¨æ–¹æ‹¬å· <code>[â€¦]</code> ä¸­çš„å‡ ä¸ªå­—ç¬¦æˆ–è€…å­—ç¬¦ç±»æ„å‘³ç€â€œæœç´¢ç»™å®šçš„å­—ç¬¦ä¸­çš„ä»»æ„ä¸€ä¸ªâ€ã€‚</p>
<h2 id="é›†åˆ">é›†åˆ</h2>
<p>æ¯”å¦‚è¯´ï¼Œ<code>pattern:[eao]</code> æ„å‘³ç€æŸ¥æ‰¾åœ¨ 3 ä¸ªå­—ç¬¦ <code>&#39;a&#39;</code>ã€<code>&#39;e&#39;</code> æˆ–è€… `&#39;o&#39; ä¸­çš„ä»»æ„ä¸€ä¸ªã€‚</p>
<p>è¿™è¢«å«åšä¸€ä¸ª<strong>é›†åˆ</strong>ã€‚é›†åˆå¯ä»¥åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å’Œå…¶å®ƒå¸¸è§„å­—ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚</p>
<pre><code class="language-js"><span class="hljs-comment">// æŸ¥æ‰¾ [t æˆ–è€… m]ï¼Œç„¶åå†åŒ¹é… â€œopâ€</span>
alert( <span class="hljs-string">&quot;Mop top&quot;</span>.match(<span class="hljs-regexp">/[tm]op/gi</span>) ); <span class="hljs-comment">// &quot;Mop&quot;, &quot;top&quot;</span></code></pre>
<p>è¯·æ³¨æ„å°½ç®¡åœ¨é›†åˆä¸­æœ‰å¤šä¸ªå­—ç¬¦ï¼Œä½†å®ƒä»¬åœ¨åŒ¹é…ä¸­åªä¼šå¯¹åº”å…¶ä¸­çš„ä¸€ä¸ªã€‚</p>
<p>æ‰€ä»¥ä¸‹é¢çš„ç¤ºä¾‹å¹¶ä¸ä¼šåŒ¹é…ä¸Šï¼š</p>
<pre><code class="language-js"><span class="hljs-comment">// æŸ¥æ‰¾ â€œVâ€ï¼Œç„¶ååŒ¹é… [o æˆ–è€… i]ï¼Œä¹‹åå†åŒ¹é… â€œlaâ€</span>
alert( <span class="hljs-string">&quot;Voila&quot;</span>.match(<span class="hljs-regexp">/V[oi]la/</span>) ); <span class="hljs-comment">// nullï¼Œå¹¶æ²¡æœ‰åŒ¹é…ä¸Š</span></code></pre>
<p>è¿™ä¸ªæ¨¡å¼ä¼šåšä»¥ä¸‹å‡è®¾ï¼š</p>
<ul>
<li><code>pattern:V</code>ï¼Œ</li>
<li>ç„¶ååŒ¹é…å…¶ä¸­çš„<strong>ä¸€ä¸ªå­—ç¬¦</strong> <code>pattern:[oi]</code>ï¼Œ</li>
<li>ç„¶ååŒ¹é… <code>pattern:la</code>ï¼Œ</li>
</ul>
<p>æ‰€ä»¥å¯ä»¥åŒ¹é…ä¸Š <code>match:Vola</code> æˆ–è€… <code>match:Vila</code>ã€‚</p>
<h2 id="èŒƒå›´">èŒƒå›´</h2>
<p>æ–¹æ‹¬å·ä¹Ÿå¯ä»¥åŒ…å«<strong>å­—ç¬¦èŒƒå›´</strong>ã€‚</p>
<p>æ¯”å¦‚è¯´ï¼Œ<code>pattern:[a-z]</code> ä¼šåŒ¹é…ä» <code>a</code> åˆ° <code>z</code> èŒƒå›´å†…çš„å­—æ¯ï¼Œ<code>pattern:[0-5]</code> è¡¨ç¤ºä» <code>0</code> åˆ° <code>5</code> çš„æ•°å­—ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¼šæŸ¥è¯¢é¦–å…ˆåŒ¹é… <code>&quot;x&quot;</code> å­—ç¬¦ï¼Œå†åŒ¹é…ä¸¤ä¸ªæ•°å­—æˆ–è€…ä½äº <code>A</code> åˆ° <code>F</code> èŒƒå›´å†…çš„å­—ç¬¦ã€‚</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;Exception 0xAF&quot;</span>.match(<span class="hljs-regexp">/x[0-9A-F][0-9A-F]/g</span>) ); <span class="hljs-comment">// xAF</span></code></pre>
<p><code>pattern:[0-9A-F]</code> è¡¨ç¤ºä¸¤ä¸ªèŒƒå›´ï¼šå®ƒæœç´¢ä¸€ä¸ªå­—ç¬¦ï¼Œæ»¡è¶³æ•°å­— <code>0</code> åˆ° <code>9</code> æˆ–å­—æ¯ <code>A</code> åˆ° <code>F</code>ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è¿˜æƒ³æŸ¥æ‰¾å°å†™å­—æ¯ï¼Œåˆ™å¯ä»¥æ·»åŠ èŒƒå›´ <code>a-f</code>ï¼š<code>pattern:[0-9A-Fa-f]</code>ã€‚æˆ–æ·»åŠ æ ‡å¿— <code>pattern:i</code>ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ <code>[â€¦]</code> é‡Œé¢ä½¿ç”¨å­—ç¬¦ç±»ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾å•è¯å­—ç¬¦ <code>pattern:\w</code> æˆ–è¿å­—ç¬¦ <code>pattern:-</code>ï¼Œåˆ™è¯¥é›†åˆä¸º <code>pattern:[\w-]</code>ã€‚</p>
<p>ä¹Ÿå¯ä»¥ç»„åˆå¤šä¸ªç±»ï¼Œä¾‹å¦‚ <code>pattern:[\s\d]</code> è¡¨ç¤º â€œç©ºæ ¼å­—ç¬¦æˆ–æ•°å­—â€ã€‚</p>
<pre><code class="language-smart">ä¾‹å¦‚ï¼š

* **\d** â€”â€” å’Œ `pattern:[0-9]` ç›¸åŒï¼Œ
* **\w** â€”â€” å’Œ `pattern:[a-zA-Z0-9_]` ç›¸åŒï¼Œ
* **\s** â€”â€” å’Œ `pattern:[\t\n\v\f\r ]` å¤–åŠ å°‘é‡ç½•è§çš„ unicode ç©ºæ ¼å­—ç¬¦ç›¸åŒã€‚</code></pre>
<h3 id="ç¤ºä¾‹ï¼šå¤šè¯­è¨€-w">ç¤ºä¾‹ï¼šå¤šè¯­è¨€ \w</h3>
<p>ç”±äºå­—ç¬¦ç±» <code>pattern:\w</code> æ˜¯ç®€å†™çš„ <code>pattern:[a-zA-Z0-9_]</code>ï¼Œå› æ­¤æ— æ³•æ‰¾åˆ°ä¸­æ–‡è±¡å½¢æ–‡å­—ï¼Œè¥¿é‡Œå°”å­—æ¯ç­‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªæ›´é€šç”¨çš„æ¨¡å¼ï¼Œè¯¥æ¨¡å¼å¯ä»¥æŸ¥æ‰¾ä»»ä½•è¯­è¨€ä¸­çš„æ–‡å­—å­—ç¬¦ã€‚è¿™å¾ˆå®¹æ˜“æƒ³åˆ°å°± Unicode å±æ€§ï¼š<code>pattern:[\p{Alpha}\p{M}\p{Nd}\p{Pc}\p{Join_C}]</code>ã€‚</p>
<p>è®©æˆ‘ä»¬ç†è§£å®ƒã€‚ç±»ä¼¼äº <code>pattern:\w</code>ï¼Œæˆ‘ä»¬åœ¨åˆ¶ä½œè‡ªå·±çš„ä¸€å¥—å­—ç¬¦é›†ï¼ŒåŒ…æ‹¬ä»¥ä¸‹ unicode å­—ç¬¦ï¼š</p>
<ul>
<li><code>Alphabetic</code> (<code>Alpha</code>) â€”â€” å­—æ¯ï¼Œ</li>
<li><code>Mark</code> (<code>M</code>) â€”â€” é‡è¯»ï¼Œ</li>
<li><code>Decimal_Number</code> (<code>Nd</code>) â€”â€” æ•°å­—ï¼Œ</li>
<li><code>Connector_Punctuation</code> (<code>Pc</code>) â€”â€” ä¸‹åˆ’çº¿ <code>&#39;_&#39;</code> å’Œç±»ä¼¼çš„å­—ç¬¦ï¼Œ</li>
<li><code>Join_Control</code> (<code>Join_C</code>) â€”â€” ä¸¤ä¸ªç‰¹æ®Šä»£ç  <code>200c</code> and <code>200d</code>ï¼Œç”¨äºè¿å­—ï¼Œä¾‹å¦‚é˜¿æ‹‰ä¼¯è¯­ã€‚</li>
</ul>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/[\p{Alpha}\p{M}\p{Nd}\p{Pc}\p{Join_C}]/gu</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">`Hi ä½ å¥½ 12`</span>;

<span class="hljs-comment">// finds all letters and digits:</span>
alert( str.match(regexp) ); <span class="hljs-comment">// H,i,ä½ ,å¥½,1,2</span></code></pre>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–è¾‘æ­¤æ¨¡å¼ï¼šæ·»åŠ  unicode å±æ€§æˆ–åˆ é™¤å®ƒä»¬ã€‚æ–‡ç«  <a href="info:regexp-unicode">info:regexp-unicode</a> ä¸­åŒ…å«äº†æ›´å¤š Unicode å±æ€§çš„ç»†èŠ‚ã€‚</p>
<pre><code class="language-warn">Edge å’Œ Firefox å°šæœªå®ç° Unicode å±æ€§ `pattern:p{â€¦}`ã€‚å¦‚æœç¡®å®éœ€è¦å®ƒä»¬ï¼Œå¯ä»¥ä½¿ç”¨åº“ [XRegExp](http://xregexp.com/)ã€‚

æˆ–è€…åªä½¿ç”¨æˆ‘ä»¬æƒ³è¦çš„è¯­è¨€èŒƒå›´çš„å­—ç¬¦ï¼Œä¾‹å¦‚è¥¿é‡Œå°”å­—æ¯ `pattern:[Ğ°-Ñ]`ã€‚</code></pre>
<h2 id="æ’é™¤èŒƒå›´">æ’é™¤èŒƒå›´</h2>
<p>é™¤äº†æ™®é€šçš„èŒƒå›´åŒ¹é…ï¼Œè¿˜æœ‰ç±»ä¼¼ <code>pattern:[^â€¦]</code> çš„â€œæ’é™¤â€èŒƒå›´åŒ¹é…ã€‚</p>
<p>å®ƒä»¬é€šè¿‡åœ¨åŒ¹é…æŸ¥è¯¢çš„å¼€å¤´æ·»åŠ æ’å…¥ç¬¦å· <code>^</code> æ¥è¡¨ç¤ºï¼Œå®ƒä¼šåŒ¹é…æ‰€æœ‰<strong>é™¤äº†ç»™å®šçš„å­—ç¬¦</strong>ä¹‹å¤–çš„ä»»æ„å­—ç¬¦ã€‚</p>
<p>æ¯”å¦‚è¯´ï¼š</p>
<ul>
<li><code>pattern:[^aeyo]</code> â€”â€” åŒ¹é…ä»»ä½•é™¤äº† <code>&#39;a&#39;</code>ã€<code>&#39;e&#39;</code>ã€<code>&#39;y&#39;</code> æˆ–è€… <code>&#39;o&#39;</code> ä¹‹å¤–çš„å­—ç¬¦ã€‚</li>
<li><code>pattern:[^0-9]</code> â€”â€” åŒ¹é…ä»»ä½•é™¤äº†æ•°å­—ä¹‹å¤–çš„å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>\D</code> æ¥è¡¨ç¤ºã€‚</li>
<li><code>pattern:[^\s]</code> â€”â€” åŒ¹é…ä»»ä½•éç©ºå­—ç¬¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>\S</code> æ¥è¡¨ç¤ºã€‚</li>
</ul>
<p>ä¸‹é¢çš„ç¤ºä¾‹æŸ¥è¯¢é™¤äº†å­—æ¯ï¼Œæ•°å­—å’Œç©ºæ ¼ä¹‹å¤–çš„ä»»æ„å­—ç¬¦ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;alice15@gmail.com&quot;</span>.match(<span class="hljs-regexp">/[^\d\sA-Z]/gi</span>) ); <span class="hljs-comment">// @ and .</span></code></pre>
<h2 id="åœ¨--ä¸­ä¸è½¬ä¹‰">åœ¨ [â€¦] ä¸­ä¸è½¬ä¹‰</h2>
<p>é€šå¸¸å½“æˆ‘ä»¬çš„ç¡®éœ€è¦æŸ¥è¯¢ç‚¹å­—ç¬¦æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒè½¬ä¹‰æˆåƒ <code>pattern:\.</code> è¿™æ ·çš„å½¢å¼ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦æŸ¥è¯¢ä¸€ä¸ªåæ–œæ ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>pattern:\\</code>ã€‚</p>
<p>åœ¨æ–¹æ‹¬å·è¡¨ç¤ºä¸­ï¼Œç»å¤§å¤šæ•°ç‰¹æ®Šå­—ç¬¦å¯ä»¥åœ¨ä¸è½¬ä¹‰çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼š</p>
<ul>
<li>è¡¨ç¤ºä¸€ä¸ªç‚¹ç¬¦å· <code>pattern:&#39;.&#39;</code>ã€‚</li>
<li>è¡¨ç¤ºä¸€ä¸ªåŠ å· <code>pattern:&#39;+&#39;</code>ã€‚</li>
<li>è¡¨ç¤ºä¸€ä¸ªæ‹¬å· <code>pattern:&#39;( )&#39;</code>ã€‚</li>
<li>åœ¨å¼€å¤´æˆ–è€…ç»“å°¾è¡¨ç¤ºä¸€ä¸ªç ´æŠ˜å·ï¼ˆåœ¨è¿™äº›ä½ç½®è¯¥ç¬¦å·è¡¨ç¤ºçš„å°±ä¸æ˜¯ä¸€ä¸ªèŒƒå›´ï¼‰ `pattern:&#39;-&#39;ã€‚</li>
<li>åœ¨ä¸æ˜¯å¼€å¤´çš„ä½ç½®è¡¨ç¤ºä¸€ä¸ªæ’å…¥ç¬¦å·ï¼ˆåœ¨å¼€å¤´ä½ç½®è¯¥ç¬¦å·è¡¨ç¤ºçš„æ˜¯æ’é™¤ï¼‰<code>pattern:&#39;^&#39;</code>ã€‚</li>
<li>è¡¨ç¤ºä¸€ä¸ªå¼€å£çš„æ–¹æ‹¬å·ç¬¦å· <code>pattern:&#39;[&#39;</code>ã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼Œé™¤äº†åœ¨æ–¹æ‹¬å·ä¸­æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦å¤–ï¼Œå…¶å®ƒæ‰€æœ‰ç‰¹æ®Šå­—ç¬¦éƒ½æ˜¯å…è®¸ä¸æ·»åŠ åæ–œæ çš„ã€‚</p>
<p>ä¸€ä¸ªåœ¨æ–¹æ‹¬å·ä¸­çš„ç‚¹ç¬¦å· <code>&quot;.&quot;</code> è¡¨ç¤ºçš„å°±æ˜¯ä¸€ä¸ªç‚¹å­—ç¬¦ã€‚æŸ¥è¯¢æ¨¡å¼ <code>pattern:[.,]</code> å°†ä¼šå¯»æ‰¾ä¸€ä¸ªä¸ºç‚¹æˆ–è€…é€—å·çš„å­—ç¬¦ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code>pattern:[-().^+]</code> ä¼šæŸ¥æ‰¾ <code>-().^+</code> çš„å…¶ä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼š</p>
<pre><code class="language-js"><span class="hljs-comment">// å¹¶ä¸éœ€è¦è½¬ä¹‰</span>
<span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/[-().^+]/g</span>;

alert( <span class="hljs-string">&quot;1 + 2 - 3&quot;</span>.match(reg) ); <span class="hljs-comment">// åŒ¹é… +ï¼Œ-</span></code></pre>
<p>ã€‚ã€‚ã€‚ä½†æ˜¯å¦‚æœä½ ä¸ºäº†â€œä»¥é˜²ä¸‡ä¸€â€è½¬ä¹‰äº†å®ƒä»¬ï¼Œè¿™ä¹Ÿä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ï¼š</p>
<pre><code class="language-js"><span class="hljs-comment">//è½¬ä¹‰å…¶ä¸­çš„æ‰€æœ‰å­—ç¬¦</span>
<span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/[\-\(\)\.\^\+]/g</span>;

alert( <span class="hljs-string">&quot;1 + 2 - 3&quot;</span>.match(reg) ); <span class="hljs-comment">// ä»èƒ½æ­£å¸¸å·¥ä½œï¼š+ï¼Œ-</span></code></pre>
<h2 id="èŒƒå›´å’Œæ ‡å¿—u">èŒƒå›´å’Œæ ‡å¿—â€œuâ€</h2>
<p>å¦‚æœé›†åˆä¸­æœ‰ä»£ç†å¯¹ï¼ˆsurrogate pairsï¼‰ï¼Œåˆ™éœ€è¦æ ‡å¿— <code>pattern:u</code> ä»¥ä½¿å…¶æ­£å¸¸å·¥ä½œã€‚</p>
<p>ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬åœ¨å­—ç¬¦ä¸² <code>subject:ğ’³</code> ä¸­æŸ¥æ‰¾ <code>pattern:[ğ’³ğ’´]</code>ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&#x27;ğ’³&#x27;</span>.match(<span class="hljs-regexp">/[ğ’³ğ’´]/</span>) ); <span class="hljs-comment">// æ˜¾ç¤ºä¸€ä¸ªå¥‡æ€ªçš„å­—ç¬¦ï¼Œåƒ [?]</span>
<span class="hljs-comment">//ï¼ˆæœç´¢æ‰§è¡Œä¸æ­£ç¡®ï¼Œè¿”å›äº†åŠä¸ªå­—ç¬¦ï¼‰</span></code></pre>
<p>ç»“æœä¸æ­£ç¡®ï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹æ­£åˆ™è¡¨è¾¾å¼â€œä¸çŸ¥é“â€ä»£ç†å¯¹ã€‚</p>
<p>æ­£åˆ™è¡¨è¾¾å¼å¼•æ“è®¤ä¸º <code>[ğ’³ğ’´]</code> â€”â€” ä¸æ˜¯ä¸¤ä¸ªï¼Œè€Œæ˜¯å››ä¸ªå­—ç¬¦ï¼š</p>
<ol>
<li><code>ğ’³</code> <code>(1)</code> çš„å·¦åŠéƒ¨åˆ†ï¼Œ</li>
<li><code>ğ’³</code> <code>(2)</code> çš„å³åŠéƒ¨åˆ†ï¼Œ</li>
<li><code>ğ’´</code> <code>(3)</code> çš„å·¦åŠéƒ¨åˆ†ï¼Œ</li>
<li><code>ğ’´</code> <code>(4)</code> çš„å³åŠéƒ¨åˆ†ã€‚</li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒä»¬çš„ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-string">&#x27;ğ’³ğ’´&#x27;</span>.length; i++) {
  alert(<span class="hljs-string">&#x27;ğ’³ğ’´&#x27;</span>.charCodeAt(i)); <span class="hljs-comment">// 55349, 56499, 55349, 56500</span>
};</code></pre>
<p>å› æ­¤ï¼Œä»¥ä¸Šç¤ºä¾‹æŸ¥æ‰¾å¹¶æ˜¾ç¤ºäº† <code>ğ’³</code> çš„å·¦åŠéƒ¨åˆ†ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æ·»åŠ æ ‡å¿— <code>pattern:u</code>ï¼Œé‚£ä¹ˆè¡Œä¸ºå°†æ˜¯æ­£ç¡®çš„ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&#x27;ğ’³&#x27;</span>.match(<span class="hljs-regexp">/[ğ’³ğ’´]/u</span>) ); <span class="hljs-comment">// ğ’³</span></code></pre>
<p>å½“æˆ‘ä»¬æŸ¥æ‰¾èŒƒå›´æ—¶ä¹Ÿä¼šå‡ºç°ç±»ä¼¼çš„æƒ…å†µï¼Œå°±åƒ <code>[ğ’³-ğ’´]</code>ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬å¿˜è®°æ·»åŠ æ ‡å¿— <code>pattern:u</code>ï¼Œåˆ™ä¼šå‡ºç°é”™è¯¯ï¼š</p>
<pre><code class="language-js"><span class="hljs-string">&#x27;ğ’³&#x27;</span>.match(<span class="hljs-regexp">/[ğ’³-ğ’´]/</span>); <span class="hljs-comment">// é”™è¯¯ï¼šæ— æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼</span></code></pre>
<p>åŸå› æ˜¯ï¼Œæ²¡æœ‰æ ‡å¿— <code>pattern:u</code> çš„ä»£ç†å¯¹è¢«è§†ä¸ºä¸¤ä¸ªå­—ç¬¦ï¼Œå› æ­¤ <code>[ğ’³-ğ’´]</code> è¢«è§£é‡Šä¸º <code>[&lt;55349&gt;&lt;56499&gt;-&lt;55349&gt;&lt;56500&gt;]</code>ï¼ˆæ¯ä¸ªä»£ç†å¯¹éƒ½æ›¿æ¢ä¸ºå…¶ä»£ç ï¼‰ã€‚ç°åœ¨å¾ˆå®¹æ˜“çœ‹å‡ºèŒƒå›´ <code>56499-55349</code> æ˜¯æ— æ•ˆçš„ï¼šå…¶èµ·å§‹ä»£ç  <code>56499</code> å¤§äºç»ˆæ­¢ä»£ç  <code>55349</code>ã€‚è¿™å°±æ˜¯é”™è¯¯çš„åŸå› ã€‚</p>
<p>ä½¿ç”¨æ ‡å¿— <code>pattern:u</code>ï¼Œè¯¥æ¨¡å¼å¯ä»¥æ­£å¸¸åŒ¹é…ï¼š</p>
<pre><code class="language-js"><span class="hljs-comment">// æŸ¥æ‰¾å­—ç¬¦ä» ğ’³ åˆ° ğ’µ</span>
alert( <span class="hljs-string">&#x27;ğ’´&#x27;</span>.match(<span class="hljs-regexp">/[ğ’³-ğ’µ]/u</span>) ); <span class="hljs-comment">// ğ’´</span></code></pre>

      </fieldset>
      
      <fieldset id='_ML74b9'>
      <legend>solution</legend>
      <p>Solution:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/\.{3,}/g</span>;
alert( <span class="hljs-string">&quot;Hello!... How goes?.....&quot;</span>.match(reg) ); <span class="hljs-comment">// ..., .....</span></code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç‚¹å·ï¼ˆ.ï¼‰æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†å…¶è½¬ä¹‰å¹¶ä½œä¸º <code>\.</code> æ’å…¥è¯­å¥ã€‚</p>

      </fieldset>
      
      <fieldset id='_aNykmQ'>
      <legend>task</legend>
      <p>importance: 5</p>
<hr>
<h1 id="å¦‚ä½•æ‰¾åˆ°çœç•¥å·-ï¼Ÿ">å¦‚ä½•æ‰¾åˆ°çœç•¥å· &quot;...&quot;ï¼Ÿ</h1>
<p>åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¥æŸ¥æ‰¾çœç•¥å·ï¼šè¿ç»­ 3ï¼ˆæˆ–æ›´å¤šï¼‰ä¸ªç‚¹ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/ä½ çš„æ­£åˆ™è¡¨è¾¾å¼/g</span>;
alert( <span class="hljs-string">&quot;Hello!... How goes?.....&quot;</span>.match(reg) ); <span class="hljs-comment">// ..., .....</span></code></pre>

      </fieldset>
      
      <fieldset id='_i2VxFJ'>
      <legend>solution</legend>
      <p>æˆ‘ä»¬éœ€è¦å¯»æ‰¾ <code>#</code> å­—ç¬¦ï¼Œåè·Ÿå…­ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ã€‚</p>
<p>ä¸€ä¸ªåå…­è¿›åˆ¶å­—ç¬¦å¯ä»¥è¢«æè¿°ä¸º <code>pattern:[0-9a-fA-F]</code>ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ <code>i</code> æ ‡è¯†ï¼Œé‚£ä¹ˆåªéœ€è¦ <code>pattern:[0-9a-f]</code>ã€‚</p>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥ç”¨é‡è¯ <code>pattern:{6}</code> æ¥æŸ¥æ‰¾è¿™å…­ä¸ªã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>pattern:/#[a-f0-9]{6}/gi</code>ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/#[a-f0-9]{6}/gi</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;color:#121212; background-color:#AA00ef bad-colors:f#fddee #fd2&quot;</span>

alert( str.match(reg) );  <span class="hljs-comment">// #121212,#AA00ef</span></code></pre>
<p>é—®é¢˜æ˜¯å…¶ä»æ›´é•¿çš„åºåˆ—ä¸­åŒ¹é…äº†é¢œè‰²å€¼ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;#12345678&quot;</span>.match( <span class="hljs-regexp">/#[a-f0-9]{6}/gi</span> ) ) <span class="hljs-comment">// #123456</span></code></pre>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœ«å°¾åŠ ä¸Š <code>pattern:\b</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-comment">// color</span>
alert( <span class="hljs-string">&quot;#123456&quot;</span>.match( <span class="hljs-regexp">/#[a-f0-9]{6}\b/gi</span> ) ); <span class="hljs-comment">// #123456</span>

<span class="hljs-comment">// not a color</span>
alert( <span class="hljs-string">&quot;#12345678&quot;</span>.match( <span class="hljs-regexp">/#[a-f0-9]{6}\b/gi</span> ) ); <span class="hljs-comment">// null</span></code></pre>

      </fieldset>
      
      <fieldset id='_Fr47hy'>
      <legend>task</legend>
      <h1 id="é’ˆå¯¹-html-é¢œè‰²çš„æ­£åˆ™è¡¨è¾¾å¼">é’ˆå¯¹ HTML é¢œè‰²çš„æ­£åˆ™è¡¨è¾¾å¼</h1>
<p>åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¥æœå¯»æ ¼å¼ä¸º <code>#ABCDEF</code> çš„ HTML é¢œè‰²å€¼ï¼šé¦–ä¸ªå­—ç¬¦ <code>#</code> ä»¥åŠæ¥ä¸‹æ¥çš„å…­ä½åå…­è¿›åˆ¶å­—ç¬¦ã€‚</p>
<p>ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/...ä½ çš„æ­£åˆ™è¡¨è¾¾å¼.../</span>

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;color:#121212; background-color:#AA00ef bad-colors:f#fddee #fd2 #12345678&quot;</span>;

alert( str.match(reg) )  <span class="hljs-comment">// #121212,#AA00ef</span></code></pre>
<p>P.S. åœ¨è¿™ä¸ªä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…¶ä»–çš„é¢œè‰²æ ¼å¼ï¼Œæ¯”å¦‚ <code>#123</code> æˆ– <code>rgb(1,2,3)</code> ç­‰ã€‚</p>

      </fieldset>
      
      <fieldset id='_ynny3c'>
      <legend>article</legend>
      <h1 id="é‡è¯--å’Œ-n">é‡è¯ <code>+,*,?</code> å’Œ <code>{n}</code></h1>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå­—ç¬¦ä¸² <code>+7(903)-123-45-67</code>ï¼Œå¹¶ä¸”æƒ³è¦æ‰¾åˆ°å®ƒåŒ…å«çš„æ‰€æœ‰æ•°å­—ã€‚ä½†ä¸ä¹‹å‰ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬å¯¹å•ä¸ªæ•°å­—ä¸æ„Ÿå…´è¶£ï¼Œåªå¯¹å…¨æ•°æ„Ÿå…´è¶£ï¼š<code>7, 903, 123, 45, 67</code>ã€‚</p>
<p>æ•°å­—æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª <code>\d</code> çš„åºåˆ—ã€‚ç”¨æ¥å½¢å®¹æˆ‘ä»¬æ‰€éœ€è¦çš„æ•°é‡çš„è¯è¢«ç§°ä¸º<strong>é‡è¯</strong>ã€‚</p>
<h2 id="æ•°é‡-n">æ•°é‡ {n}</h2>
<p>æœ€æ˜æ˜¾çš„é‡è¯ä¾¿æ˜¯ä¸€å¯¹å¼•å·é—´çš„æ•°å­—ï¼š<code>pattern:{n}</code>ã€‚åœ¨ä¸€ä¸ªå­—ç¬¦ï¼ˆæˆ–ä¸€ä¸ªå­—ç¬¦ç±»ç­‰ç­‰ï¼‰åè·Ÿç€ä¸€ä¸ªé‡è¯ï¼Œç”¨æ¥æŒ‡å‡ºæˆ‘ä»¬å…·ä½“éœ€è¦çš„æ•°é‡ã€‚</p>
<p>å®ƒæœ‰æ›´é«˜çº§çš„æ ¼å¼ï¼Œç”¨ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ï¼š</p>
<p>ç¡®åˆ‡çš„ä½æ•°ï¼š<code>{5}</code>
: <code>pattern:\d{5}</code> è¡¨ç¤º 5 ä½çš„æ•°å­—ï¼Œå¦‚åŒ <code>pattern:\d\d\d\d\d</code>ã€‚</p>
<pre><code>æ¥ä¸‹æ¥çš„ä¾‹å­å°†ä¼šæŸ¥æ‰¾ä¸€ä¸ªäº”ä½æ•°çš„æ•°å­—ï¼š

```js run
alert( &quot;I&#x27;m 12345 years old&quot;.match(/\d{5}/) ); //  &quot;12345&quot;
```

æˆ‘ä»¬å¯ä»¥æ·»åŠ  `\b` æ¥æ’é™¤æ›´å¤šä½æ•°çš„æ•°å­—ï¼š`pattern:\b\d{5}\b`ã€‚</code></pre>
<p>æŸä¸ªèŒƒå›´çš„ä½æ•°ï¼š<code>{3,5}</code>
: æˆ‘ä»¬å¯ä»¥å°†é™åˆ¶èŒƒå›´çš„æ•°å­—æ”¾å…¥æ‹¬å·ä¸­ï¼Œæ¥æŸ¥æ‰¾ä½æ•°ä¸º 3 è‡³ 5 ä½çš„æ•°å­—ï¼š<code>pattern:\d{3,5}</code></p>
<pre><code>```js run
alert( &quot;I&#x27;m not 12, but 1234 years old&quot;.match(/\d{3,5}/) ); // &quot;1234&quot;
```

æˆ‘ä»¬å¯ä»¥çœç•¥ä¸Šé™ã€‚é‚£ä¹ˆæ­£åˆ™è¡¨è¾¾å¼ `pattern:\d{3,}` å°±ä¼šæŸ¥æ‰¾ä½æ•°å¤§äºæˆ–ç­‰äº 3 çš„æ•°å­—ï¼š

```js run
alert( &quot;I&#x27;m not 12, but 345678 years old&quot;.match(/\d{3,}/) ); // &quot;345678&quot;
```</code></pre>
<p>å¯¹äºå­—ç¬¦ä¸² <code>+7(903)-123-45-67</code> æ¥è¯´ï¼Œæˆ‘ä»¬å¦‚æœéœ€è¦ä¸€ä¸ªæˆ–å¤šä¸ªè¿ç»­çš„æ•°å­—ï¼Œå°±ä½¿ç”¨ <code>pattern:\d{1,}</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;+7(903)-123-45-67&quot;</span>;

<span class="hljs-keyword">let</span> numbers = str.match(<span class="hljs-regexp">/\d{1,}/g</span>);

alert(numbers); <span class="hljs-comment">// 7,903,123,45,67</span></code></pre>
<h2 id="ç¼©å†™">ç¼©å†™</h2>
<p>å¤§å¤šæ•°å¸¸ç”¨çš„é‡è¯éƒ½å¯ä»¥æœ‰ç¼©å†™ï¼š</p>
<p><code>+</code>
: ä»£è¡¨â€œä¸€ä¸ªæˆ–å¤šä¸ªâ€ï¼Œç›¸å½“äº <code>{1,}</code>ã€‚</p>
<pre><code>ä¾‹å¦‚ï¼Œ`pattern:\d+` ç”¨æ¥æŸ¥æ‰¾æ‰€æœ‰æ•°å­—ï¼š

```js run
let str = &quot;+7(903)-123-45-67&quot;;

alert( str.match(/\d+/g) ); // 7,903,123,45,67
```</code></pre>
<p><code>?</code>
: ä»£è¡¨â€œé›¶ä¸ªæˆ–ä¸€ä¸ªâ€ï¼Œç›¸å½“äº <code>{0,1}</code>ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒä½¿å¾—ç¬¦å·å˜å¾—å¯é€‰ã€‚</p>
<pre><code>ä¾‹å¦‚ï¼Œæ¨¡å¼ `pattern:ou?r` æŸ¥æ‰¾ `match:o`ï¼Œåè·Ÿé›¶ä¸ªæˆ–ä¸€ä¸ª `match:u`ï¼Œç„¶åæ˜¯ `match:r`ã€‚

æ‰€ä»¥ä»–èƒ½å¤Ÿåœ¨ `subject:color` ä¸­æ‰¾åˆ° `match:or`ï¼Œä»¥åŠåœ¨ `subject:colour` ä¸­æ‰¾åˆ° `match:our`ï¼š

```js run
let str = &quot;Should I write color or colour?&quot;;

alert( str.match(/colou?r/g) ); // color, colour
```</code></pre>
<p><code>*</code>
: ä»£è¡¨ç€â€œé›¶ä¸ªæˆ–å¤šä¸ªâ€ï¼Œç›¸å½“äº <code>{0,}</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªå­—ç¬¦å¯ä»¥å¤šæ¬¡å‡ºç°æˆ–ä¸å‡ºç°ã€‚</p>
<pre><code>æ¥ä¸‹æ¥çš„ä¾‹å­å°†è¦å¯»æ‰¾ä¸€ä¸ªåè·Ÿä»»æ„æ•°é‡çš„ 0 çš„æ•°å­—ï¼š

```js run
alert( &quot;100 10 1&quot;.match(/\d0*/g) ); // 100, 10, 1
```

å°†å®ƒä¸ `&#x27;+&#x27;`ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰ä½œæ¯”è¾ƒï¼š

```js run
alert( &quot;100 10 1&quot;.match(/\d0+/g) ); // 100, 10
```</code></pre>
<h2 id="æ›´å¤šç¤ºä¾‹">æ›´å¤šç¤ºä¾‹</h2>
<p>é‡è¯æ˜¯ç»å¸¸è¢«ä½¿ç”¨çš„ã€‚å®ƒä»¬æ˜¯æ„æˆå¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼çš„ä¸»è¦æ¨¡å—ä¹‹ä¸€ï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹æ›´å¤šçš„ä¾‹å­ã€‚</p>
<p>æ­£åˆ™è¡¨è¾¾å¼â€œæµ®ç‚¹æ•°â€ï¼ˆå¸¦æµ®ç‚¹çš„æ•°å­—ï¼‰ï¼š<code>pattern:\d+\.\d+</code>
: å®ç°ï¼š
    <code>js run     alert( &quot;0 1 12.345 7890&quot;.match(/\d+\.\d+/g) ); // 12.345     </code></p>
<p>æ­£åˆ™è¡¨è¾¾å¼â€œæ‰“å¼€æ²¡æœ‰å±æ€§çš„ HTML æ ‡è®°â€ï¼Œæ¯”å¦‚ <code>&lt;span&gt;</code> æˆ– <code>&lt;p&gt;</code>ï¼š<code>pattern:/&lt;[a-z]+&gt;/i</code>
: å®ç°ï¼š</p>
<pre><code>```js run
alert( &quot;&lt;body&gt; ... &lt;/body&gt;&quot;.match(/&lt;[a-z]+&gt;/gi) ); // &lt;body&gt;
```

æˆ‘ä»¬æŸ¥æ‰¾å­—ç¬¦ `pattern:&#x27;&lt;&#x27;` åè·Ÿä¸€ä¸ªæˆ–å¤šä¸ªè‹±æ–‡å­—æ¯ï¼Œç„¶åæ˜¯ `pattern:&#x27;&gt;&#x27;`ã€‚</code></pre>
<p>æ­£åˆ™è¡¨è¾¾å¼â€œæ‰“å¼€æ²¡æœ‰å±æ€§çš„HTMLæ ‡è®°â€ï¼ˆæ”¹è¿›ç‰ˆï¼‰ï¼š<code>pattern:/&lt;[a-z][a-z0-9]*&gt;/i</code>
: æ›´å¥½çš„è¡¨è¾¾å¼ï¼šæ ¹æ®æ ‡å‡†ï¼ŒHTML æ ‡è®°åç§°å¯ä»¥åœ¨é™¤äº†ç¬¬ä¸€ä¸ªä½ç½®ä»¥å¤–çš„ä»»æ„ä¸€ä¸ªä½ç½®æœ‰ä¸€ä¸ªæ•°å­—ï¼Œæ¯”å¦‚ <code>&lt;h1&gt;</code>ã€‚</p>
<pre><code>```js run
alert( &quot;&lt;h1&gt;Hi!&lt;/h1&gt;&quot;.match(/&lt;[a-z][a-z0-9]*&gt;/gi) ); // &lt;h1&gt;
```</code></pre>
<p>æ­£åˆ™è¡¨è¾¾å¼â€œæ‰“å¼€æ²¡æœ‰å±æ€§çš„HTMLæ ‡è®°â€ï¼š<code>pattern:/&lt;\/?[a-z][a-z0-9]*&gt;/i</code>
: æˆ‘ä»¬åœ¨æ ‡è®°å‰åŠ ä¸Šäº†ä¸€ä¸ªå¯é€‰çš„æ–œæ† <code>pattern:/?</code>ã€‚å¿…é¡»ç”¨ä¸€ä¸ªåæ–œæ æ¥è½¬ä¹‰å®ƒï¼Œå¦åˆ™ JavaScript å°±ä¼šè®¤ä¸ºå®ƒæ˜¯è¿™ä¸ªæ¨¡å¼çš„ç»“æŸç¬¦ã€‚</p>
<pre><code>```js run
alert( &quot;&lt;h1&gt;Hi!&lt;/h1&gt;&quot;.match(/&lt;\/?[a-z][a-z0-9]*&gt;/gi) ); // &lt;h1&gt;, &lt;/h1&gt;
```</code></pre>
<pre><code class="language-smart">æˆ‘ä»¬èƒ½å¤Ÿä»è¿™äº›ä¾‹å­ä¸­çœ‹åˆ°ä¸€ä¸ªå…±åŒçš„è§„åˆ™ï¼šæ­£åˆ™è¡¨è¾¾å¼è¶Šç²¾ç¡® â€”â€” å®ƒå°±è¶Šé•¿ä¸”è¶Šå¤æ‚ã€‚

ä¾‹å¦‚ï¼ŒHTML æ ‡è®°èƒ½ç”¨ä¸€ä¸ªç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š`pattern:&lt;\w+&gt;`ã€‚

å› ä¸º `pattern:\w` ä»£è¡¨ä»»æ„è‹±æ–‡å­—æ¯æˆ–æ•°å­—æˆ– `&#x27;_&#x27;`ï¼Œè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿèƒ½å¤ŸåŒ¹é…éæ ‡æ³¨çš„å†…å®¹ï¼Œæ¯”å¦‚ `match:&lt;_&gt;`ã€‚ä½†å®ƒè¦æ¯” `pattern:&lt;[a-z][a-z0-9]*&gt;` ç®€å•å¾ˆå¤šã€‚

æˆ‘ä»¬èƒ½å¤Ÿæ¥å— `pattern:&lt;\w+&gt;` æˆ–è€…æˆ‘ä»¬éœ€è¦ `pattern:&lt;[a-z][a-z0-9]*&gt;`ï¼Ÿ

åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œä¸¤ç§æ–¹å¼éƒ½èƒ½æ¥å—ã€‚å–å†³äºæˆ‘ä»¬å¯¹äºâ€œé¢å¤–â€åŒ¹é…çš„å®½å®¹ç¨‹åº¦ä»¥åŠæ˜¯å¦éš¾ä»¥é€šè¿‡å…¶ä»–æ–¹å¼æ¥è¿‡æ»¤æ‰å®ƒä»¬ã€‚</code></pre>

      </fieldset>
      
      <fieldset id='_YMUvys'>
      <legend>solution</legend>
      <p>ç»“æœæ˜¯ï¼š<code>match:123 4</code>ã€‚</p>
<p>é¦–å…ˆï¼Œæ‡’æƒ°æ¨¡å¼ <code>pattern:\d+?</code> å°è¯•å»è·å–å°½å¯èƒ½å°‘çš„å­—ç¬¦ï¼Œä½†å½“å®ƒæ£€æµ‹åˆ°ç©ºæ ¼ï¼Œå°±å¾—å‡ºåŒ¹é…ç»“æœ <code>match:123</code>ã€‚</p>
<p>ç„¶åï¼Œç¬¬äºŒä¸ª <code>\d+?</code> å°±åªè·å–ä¸€ä¸ªå­—ç¬¦ï¼Œå› ä¸ºè¿™å°±å·²è¶³å¤Ÿäº†ã€‚</p>

      </fieldset>
      
      <fieldset id='_0bk4vl'>
      <legend>task</legend>
      <h1 id="å¯¹äº-d-d-çš„åŒ¹é…">å¯¹äº /d+? d+?/ çš„åŒ¹é…</h1>
<p>ä»¥ä¸‹åŒ¹é…çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<pre><code class="language-js"><span class="hljs-string">&quot;123 456&quot;</span>.match(<span class="hljs-regexp">/\d+? \d+?/g</span>) ); <span class="hljs-comment">// ?</span></code></pre>

      </fieldset>
      
      <fieldset id='_ndccCF'>
      <legend>solution</legend>
      <p>æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ³¨é‡Šçš„èµ·å§‹ä½ç½® <code>match:&lt;!--</code>ï¼Œç„¶åè·å–å­—ç¬¦ç›´åˆ°æ³¨é‡Šçš„æœ«å°¾ <code>match:--&gt;</code>ã€‚</p>
<p>é¦–å…ˆæƒ³åˆ°çš„æ˜¯ <code>pattern:&lt;!--.*?--&gt;</code> â€”â€” æƒ°æ€§é‡è¯ä½¿å¾—ç‚¹ï¼ˆ.ï¼‰åœåœ¨ <code>match:--&gt;</code> ä¹‹å‰ã€‚</p>
<p>ä½†æ˜¯åœ¨ Javascript ä¸­ï¼Œä¸€ä¸ªç‚¹ï¼ˆ.ï¼‰è¡¨ç¤ºé™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»æ„å­—ç¬¦ã€‚æ‰€ä»¥è¿™æ˜¯æ— æ³•åŒ¹é…å¤šè¡Œæ³¨é‡Šçš„ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>pattern:[\s\S]</code>ï¼Œè€Œä¸æ˜¯ç”¨ç‚¹ï¼ˆ.ï¼‰æ¥åŒ¹é…â€œä»»ä½•ä¸œè¥¿â€ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&lt;!--[\s\S]*?--&gt;/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">`... &lt;!-- My -- comment
 test --&gt; ..  &lt;!----&gt; ..
`</span>;

alert( str.match(reg) ); <span class="hljs-comment">// &#x27;&lt;!-- My -- comment \n test --&gt;&#x27;, &#x27;&lt;!----&gt;&#x27;</span></code></pre>

      </fieldset>
      
      <fieldset id='_S6cb73'>
      <legend>task</legend>
      <h1 id="æŸ¥æ‰¾-html-æ³¨é‡Š">æŸ¥æ‰¾ HTML æ³¨é‡Š</h1>
<p>æ‰¾å‡ºæ–‡æœ¬ä¸­çš„æ‰€æœ‰æ³¨é‡Šï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/ä½ çš„æ­£åˆ™è¡¨è¾¾å¼/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">`... &lt;!-- My -- comment
 test --&gt; ..  &lt;!----&gt; .. 
`</span>;

alert( str.match(reg) ); <span class="hljs-comment">// &#x27;&lt;!-- My -- comment \n test --&gt;&#x27;, &#x27;&lt;!----&gt;&#x27;</span></code></pre>

      </fieldset>
      
      <fieldset id='_94aaIH'>
      <legend>solution</legend>
      <p>ç­”æ¡ˆæ˜¯ <code>pattern:&lt;[^&lt;&gt;]+&gt;</code>ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&lt;[^&lt;&gt;]+&gt;/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;&lt;&gt; &lt;a href=&quot;/&quot;&gt; &lt;input type=&quot;radio&quot; checked&gt; &lt;b&gt;&#x27;</span>;

alert( str.match(reg) ); <span class="hljs-comment">// &#x27;&lt;a href=&quot;/&quot;&gt;&#x27;, &#x27;&lt;input type=&quot;radio&quot; checked&gt;&#x27;, &#x27;&lt;b&gt;&#x27;</span></code></pre>

      </fieldset>
      
      <fieldset id='_84bn6Y'>
      <legend>task</legend>
      <h1 id="å¯»æ‰¾-html-æ ‡ç­¾">å¯»æ‰¾ HTML æ ‡ç­¾</h1>
<p>åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼è¯­å¥æ¥å¯»æ‰¾æ‰€æœ‰å…·æœ‰å…¶å±æ€§çš„ï¼ˆé—­åˆæˆ–éé—­åˆï¼‰HTML æ ‡ç­¾ã€‚</p>
<p>ç”¨ä¾‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/ä½ çš„æ­£åˆ™è¡¨è¾¾å¼/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;&lt;&gt; &lt;a href=&quot;/&quot;&gt; &lt;input type=&quot;radio&quot; checked&gt; &lt;b&gt;&#x27;</span>;

alert( str.match(reg) ); <span class="hljs-comment">// &#x27;&lt;a href=&quot;/&quot;&gt;&#x27;, &#x27;&lt;input type=&quot;radio&quot; checked&gt;&#x27;, &#x27;&lt;b&gt;&#x27;</span></code></pre>
<p>å‡è®¾ä¸åŒ…å« <code>&lt;</code> å’Œ <code>&gt;</code>ï¼ˆä¹ŸåŒ…æ‹¬å¼•å·ï¼‰ï¼Œè¿™å°†ä¼šç®€å•è®¸å¤šã€‚</p>

      </fieldset>
      
      <fieldset id='_bC3fmn'>
      <legend>article</legend>
      <h1 id="è´ªå©ªé‡è¯å’Œæƒ°æ€§é‡è¯">è´ªå©ªé‡è¯å’Œæƒ°æ€§é‡è¯</h1>
<p>é‡è¯ï¼Œçœ‹ä¸Šå»ååˆ†ç®€å•ï¼Œä½†å®é™…ä¸Šå®ƒå¯èƒ½ä¼šå¾ˆæ£˜æ‰‹ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æ‰“ç®—å¯»æ‰¾æ¯” <code>pattern:/\d+/</code> æ›´åŠ å¤æ‚çš„ä¸œè¥¿ï¼Œå°±éœ€è¦ç†è§£æœç´¢å·¥ä½œæ˜¯å¦‚ä½•è¿›è¡Œçš„ã€‚</p>
<p>ä»¥æ¥ä¸‹æ¥çš„é—®é¢˜ä¸ºä¾‹ã€‚</p>
<p>æœ‰ä¸€ä¸ªæ–‡æœ¬ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¹¦åå·ï¼š<code>Â«...Â»</code> æ¥ä»£æ›¿æ‰€æœ‰çš„å¼•å· <code>&quot;...&quot;</code>ã€‚åœ¨è®¸å¤šå›½å®¶ï¼Œå®ƒä»¬æ˜¯æ’ç‰ˆçš„é¦–é€‰ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>&quot;Hello, world&quot;</code> å°†ä¼šå˜æˆ <code>Â«Hello, worldÂ»</code>ã€‚</p>
<p>ä¸€äº›å›½å®¶åçˆ± <code>â€Witam, Å›wiat!â€</code>ï¼ˆæ³¢å…°è¯­ï¼‰ç”šè‡³ <code>ã€Œä½ å¥½ï¼Œä¸–ç•Œã€</code>ï¼ˆæ±‰è¯­ï¼‰å¼•å·ã€‚å¯¹äºä¸åŒçš„è¯­è¨€ç¯å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸åŒçš„æ›¿ä»£æ–¹å¼ï¼Œä½†å®ƒä»¬éƒ½æ˜¯ä¸€æ ·çš„ï¼Œé‚£æˆ‘ä»¬å°±ä»¥ä¹¦åå· <code>Â«...Â»</code> å¼€å§‹ã€‚</p>
<p>ä¸ºäº†è¿›è¡Œæ›¿æ¢ï¼Œæˆ‘ä»¬é¦–å…ˆè¦æ‰¾å‡ºæ‰€æœ‰è¢«å¼•å·å›´èµ·æ¥çš„å­ä¸²ã€‚</p>
<p>æ­£åˆ™è¡¨è¾¾å¼çœ‹ä¸Šå»å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š<code>pattern:/&quot;.+&quot;/g</code>ã€‚è¿™ä¸ªè¡¨è¾¾å¼çš„æ„æ€æ˜¯ï¼šæˆ‘ä»¬è¦æŸ¥æ‰¾è¿™æ ·ä¸€ä¸ªå¥å­ï¼Œä¸€ä¸ªå¼•å·åè·Ÿä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œç„¶åä»¥å¦ä¸€ä¸ªå¼•å·ç»“å°¾ã€‚</p>
<p>...ä½†å¦‚æœæˆ‘ä»¬è¯•ç€åœ¨ä¸€ä¸ªå¦‚æ­¤ç®€å•çš„ä¾‹å­ä¸­å»åº”ç”¨å®ƒ...</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&quot;.+&quot;/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;a &quot;witch&quot; and her &quot;broom&quot; is one&#x27;</span>;

alert( str.match(reg) ); <span class="hljs-comment">// &quot;witch&quot; and her &quot;broom&quot;</span></code></pre>
<p>...æˆ‘ä»¬ä¼šå‘ç°å®ƒçš„è¿è¡Œç»“æœä¸é¢„æœŸä¸åŒï¼</p>
<p>å®ƒç›´æ¥æ‰¾åˆ°äº†ä¸€ä¸ªåŒ¹é…ç»“æœï¼š<code>match:&quot;witch&quot; and her &quot;broom&quot;</code>ï¼Œè€Œä¸æ˜¯æ‰¾åˆ°ä¸¤ä¸ªåŒ¹é…ç»“æœ <code>match:&quot;witch&quot;</code> å’Œ <code>match:&quot;broom&quot;</code>ã€‚</p>
<p>è¿™å¯è¢«ç§°ä¸ºâ€œè´ªå©ªæ˜¯ä¸‡æ¶ä¹‹æºâ€ã€‚</p>
<h2 id="è´ªå©ªæœç´¢">è´ªå©ªæœç´¢</h2>
<p>ä¸ºäº†æŸ¥æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¼•æ“é‡‡ç”¨äº†ä»¥ä¸‹ç®—æ³•ï¼š</p>
<ul>
<li>å¯¹äºå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦<ul>
<li>ç”¨è¿™ä¸ªæ¨¡å¼æ¥åŒ¹é…æ­¤å­—ç¬¦ã€‚</li>
<li>è‹¥æ— åŒ¹é…ï¼Œç§»è‡³ä¸‹ä¸€ä¸ªå­—ç¬¦</li>
</ul>
</li>
</ul>
<p>è¿™äº›ç®€å•çš„è¯è¯­æ²¡æœ‰è¯´æ¸…æ¥šä¸ºä»€ä¹ˆè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å¤±è´¥äº†ï¼Œå› æ­¤ï¼Œè®©æˆ‘ä»¬è¯¦ç»†è¯´æ˜ä¸€ä¸‹æ¨¡å¼ <code>pattern:&quot;.+&quot;</code> æ˜¯å¦‚ä½•è¿›è¡Œæœç´¢å·¥ä½œçš„ã€‚</p>
<ol>
<li><p>è¯¥æ¨¡å¼çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªå¼•å· <code>pattern:&quot;</code>ã€‚</p>
<p> æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ä¼å›¾åœ¨å­—ç¬¦ä¸² <code>subject:a &quot;witch&quot; and her &quot;broom&quot; is one</code> çš„ç¬¬ä¸€ä¸ªä½ç½®å°±åŒ¹é…åˆ°ç›®æ ‡ï¼Œä½†è¿™ä¸ªä½ç½®æ˜¯ subject:aï¼Œæ‰€ä»¥åŒ¹é…å¤±è´¥ã€‚</p>
<p> ç„¶åå®ƒè¿›è¡Œä¸‹ä¸€æ­¥ï¼šç§»è‡³å­—ç¬¦ä¸²ä¸­çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå¹¶è¯•å›¾åŒ¹é…æ¨¡å¼ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œæœ€ç»ˆåœ¨ç¬¬ä¸‰ä¸ªä½ç½®åŒ¹é…åˆ°äº†å¼•å·ï¼š</p>
<p> <img src="witch_greedy1.svg" alt=""></p>
</li>
<li><p>æ£€æµ‹åˆ°äº†å¼•å·åï¼Œå¼•æ“å°±å°è¯•å»åŒ¹é…æ¨¡å¼ä¸­çš„å‰©ä½™å­—ç¬¦ã€‚å®ƒè¯•å›¾æŸ¥çœ‹å‰©ä½™çš„å­—ç¬¦ä¸²ä¸»ä½“æ˜¯å¦ç¬¦åˆ <code>pattern:.+&quot;</code>ã€‚</p>
<p> åœ¨æˆ‘ä»¬çš„ç”¨ä¾‹ä¸­ï¼Œæ¨¡å¼ä¸­çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸º <code>pattern:.</code>ï¼ˆä¸€ä¸ªç‚¹ï¼‰ã€‚å®ƒè¡¨ç¤ºåŒ¹é…é™¤äº†æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»æ„å­—ç¬¦ï¼Œæ‰€ä»¥å°†ä¼šåŒ¹é…ä¸‹ä¸€ä¸ªå­—ç¬¦ <code>match:&#39;w&#39;</code>ï¼š</p>
<p> <img src="witch_greedy2.svg" alt=""></p>
</li>
<li><p>ç„¶åå› ä¸ºé‡è¯ <code>pattern:.+</code>ï¼Œæ¨¡å¼ä¸­çš„ç‚¹ï¼ˆ.ï¼‰å°†ä¼šé‡å¤ã€‚æ­£åˆ™è¡¨è¾¾å¼å¼•æ“é€ä¸€è¯»å–å­—ç¬¦ï¼Œå½“è¯¥å­—ç¬¦å¯èƒ½åŒ¹é…æ—¶å°±ç”¨å®ƒæ¥æ„å»ºåŒ¹é…é¡¹ã€‚</p>
<p> ...ä»€ä¹ˆæ—¶å€™ä¼šä¸åŒ¹é…ï¼Ÿç‚¹ï¼ˆ.ï¼‰èƒ½å¤ŸåŒ¹é…æ‰€æœ‰å­—ç¬¦ï¼Œæ‰€ä»¥åªæœ‰åœ¨ç§»è‡³å­—ç¬¦ä¸²æœ«å°¾æ—¶æ‰åœæ­¢åŒ¹é…ï¼š</p>
<p> <img src="witch_greedy3.svg" alt=""></p>
</li>
<li><p>ç°åœ¨å¼•æ“å®Œæˆäº†å¯¹é‡å¤æ¨¡å¼ <code>pattern:.+</code> çš„æœç´¢ï¼Œå¹¶ä¸”è¯•å›¾å¯»æ‰¾æ¨¡å¼ä¸­çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚è¿™ä¸ªå­—ç¬¦æ˜¯å¼•å· <code>pattern:&quot;</code>ã€‚ä½†è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¯¹å­—ç¬¦ä¸²çš„éå†å·²ç»ç»“æŸï¼Œå·²ç»æ²¡æœ‰æ›´å¤šçš„å­—ç¬¦äº†ï¼</p>
<p> æ­£åˆ™è¡¨è¾¾å¼å¼•æ“æ˜ç™½å®ƒå·²ç»ä¸º <code>pattern:.+</code> åŒ¹é…äº†å¤ªå¤šé¡¹äº†ï¼Œæ‰€ä»¥å¼€å§‹<strong>å›æº¯</strong>äº†ã€‚</p>
<p> æ¢å¥è¯è¯´ï¼Œå®ƒå»æ‰äº†é‡è¯çš„åŒ¹é…é¡¹çš„æœ€åä¸€ä¸ªå­—ç¬¦ï¼š</p>
<p> <img src="witch_greedy4.svg" alt=""></p>
<p> ç°åœ¨å®ƒå‡è®¾åœ¨ç»“æŸå‰ï¼Œ<code>pattern:.+</code> ä¼šåŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œå¹¶å°è¯•åŒ¹é…å‰©ä½™çš„å­—ç¬¦ã€‚</p>
<p> å¦‚æœå‡ºç°äº†ä¸€ä¸ªå¼•å·ï¼Œå°±è¡¨ç¤ºåˆ°è¾¾äº†æœ«å°¾ï¼Œä½†æœ€åä¸€ä¸ªå­—ç¬¦æ˜¯ <code>subject:&#39;e&#39;</code>ï¼Œæ‰€ä»¥æ— æ³•åŒ¹é…ã€‚ </p>
</li>
<li><p>...æ‰€ä»¥å¼•æ“ä¼šå†å»æ‰ä¸€ä¸ªå­—ç¬¦ï¼Œä»¥æ­¤æ¥å‡å°‘ <code>pattern:.+</code> çš„é‡å¤æ¬¡æ•°ï¼š</p>
<p> <img src="witch_greedy5.svg" alt=""></p>
<p> <code>pattern:&#39;&quot;&#39;</code> å¹¶ä¸ä¼šåŒ¹é… <code>subject:&#39;n&#39;</code>ã€‚</p>
</li>
<li><p>å¼•æ“ä¸æ–­è¿›è¡Œå›æº¯ï¼šå®ƒå‡å°‘äº† <code>pattern:&#39;.&#39;</code> çš„é‡å¤æ¬¡æ•°ï¼Œç›´åˆ°æ¨¡å¼çš„å…¶å®ƒéƒ¨åˆ†ï¼ˆåœ¨æˆ‘ä»¬çš„ç”¨ä¾‹ä¸­æ˜¯ <code>pattern:&#39;&quot;&#39;</code>ï¼‰åŒ¹é…åˆ°ç»“æœï¼š</p>
<p> <img src="witch_greedy6.svg" alt=""></p>
</li>
<li><p>åŒ¹é…å®Œæˆã€‚</p>
</li>
<li><p>æ‰€ä»¥ï¼Œç¬¬ä¸€æ¬¡åŒ¹é…æ˜¯ <code>match:&quot;witch&quot; and her &quot;broom&quot;</code>ã€‚æ¥ä¸‹æ¥çš„æœç´¢çš„èµ·ç‚¹ä½äºç¬¬ä¸€æ¬¡æœç´¢çš„ç»ˆç‚¹ï¼Œä½†åœ¨ <code>subject:is one</code> ä¸­æ²¡æœ‰æ›´å¤šçš„å¼•å·äº†ï¼Œæ‰€ä»¥æ²¡æœ‰å…¶å®ƒçš„ç»“æœäº†ã€‚</p>
</li>
</ol>
<p>è¿™å¯èƒ½ä¸æ˜¯æˆ‘ä»¬æ‰€æƒ³è¦çš„ï¼Œä½†è¿™å°±æ˜¯å®ƒçš„å·¥ä½œåŸç†ã€‚</p>
<p><strong>åœ¨è´ªå©ªæ¨¡å¼ä¸‹ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰ï¼Œé‡è¯éƒ½ä¼šå°½å¯èƒ½åœ°é‡å¤å¤šæ¬¡ã€‚</strong></p>
<p>æ­£åˆ™è¡¨è¾¾å¼å¼•æ“å°è¯•ç”¨ <code>pattern:.+</code> å»è·å–å°½å¯èƒ½å¤šçš„å­—ç¬¦ï¼Œç„¶åå†ä¸€æ­¥æ­¥åœ°ç­›é€‰å®ƒä»¬ã€‚</p>
<p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æƒ³è¦å¦ä¸€ç§ç»“æœï¼Œè¿™ä¹Ÿå°±æ˜¯æ‡’æƒ°é‡è¯æ¨¡å¼çš„ç”¨é€”ã€‚</p>
<h2 id="æ‡’æƒ°æ¨¡å¼">æ‡’æƒ°æ¨¡å¼</h2>
<p>æ‡’æƒ°æ¨¡å¼ä¸­çš„é‡è¯ä¸è´ªå©ªæ¨¡å¼ä¸­çš„æ˜¯ç›¸åçš„ã€‚å®ƒæƒ³è¦â€œé‡å¤æœ€å°‘æ¬¡æ•°â€ã€‚</p>
<p>æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡åœ¨é‡è¯ä¹‹åæ·»åŠ ä¸€ä¸ªé—®å· <code>pattern:&#39;?&#39;</code> æ¥å¯ç”¨å®ƒï¼Œæ‰€ä»¥åŒ¹é…æ¨¡å¼å˜ä¸º <code>pattern:*?</code> æˆ– <code>pattern:+?</code>ï¼Œç”šè‡³å°† <code>pattern:&#39;?&#39;</code> å˜ä¸º <code>pattern:??</code>ã€‚</p>
<p>è¿™ä¹ˆè¯´å§ï¼šé€šå¸¸ï¼Œä¸€ä¸ªé—®å· <code>pattern:?</code> å°±æ˜¯ä¸€ä¸ªå®ƒæœ¬èº«çš„é‡è¯ï¼ˆ0 æˆ– 1ï¼‰ï¼Œä½†å¦‚æœæ·»åŠ <strong>å¦ä¸€ä¸ªé‡è¯ï¼ˆç”šè‡³å¯ä»¥æ˜¯å®ƒè‡ªå·±ï¼‰</strong>ï¼Œå°±ä¼šæœ‰ä¸åŒçš„æ„æ€ â€”â€” å®ƒå°†åŒ¹é…çš„æ¨¡å¼ä»è´ªå©ªè½¬ä¸ºæ‡’æƒ°ã€‚</p>
<p>æ­£åˆ™è¡¨è¾¾å¼ <code>pattern:/&quot;.+?&quot;/g</code> æ­£å¦‚é¢„æœŸå·¥ä½œï¼šå®ƒæ‰¾åˆ°äº† <code>match:&quot;witch&quot;</code> å’Œ <code>match:&quot;broom&quot;</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&quot;.+?&quot;/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;a &quot;witch&quot; and her &quot;broom&quot; is one&#x27;</span>;

alert( str.match(reg) ); <span class="hljs-comment">// witch, broom</span></code></pre>
<p>ä¸ºäº†æ›´æ¸…æ¥šåœ°ç†è§£è¿™ä¸ªå˜åŒ–ï¼Œæˆ‘ä»¬æ¥ä¸€æ­¥æ­¥è§£æè¿™ä¸ªæœç´¢è¿‡ç¨‹ã€‚</p>
<ol>
<li><p>ç¬¬ä¸€æ­¥ä¾ç„¶ç›¸åŒï¼šå®ƒåœ¨ç¬¬ä¸‰ä¸ªä½ç½®å¼€å§‹ <code>pattern:&#39;&quot;&#39;</code>ï¼š</p>
<p> <img src="witch_greedy1.svg" alt=""></p>
</li>
<li><p>ä¸‹ä¸€æ­¥ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼šå¼•æ“ä¸º <code>pattern:&#39;.&#39;</code> æ‰¾åˆ°äº†ä¸€ä¸ªåŒ¹é…é¡¹ï¼š</p>
<p> <img src="witch_greedy2.svg" alt=""></p>
</li>
<li><p>æ¥ä¸‹æ¥å°±æ˜¯æœç´¢è¿‡ç¨‹å‡ºç°ä¸åŒçš„æ—¶å€™äº†ã€‚å› ä¸ºæˆ‘ä»¬å¯¹ <code>pattern:+?</code> å¯ç”¨äº†æ‡’æƒ°æ¨¡å¼ï¼Œå¼•æ“ä¸ä¼šå»å°è¯•å¤šåŒ¹é…ä¸€ä¸ªç‚¹ï¼Œå¹¶ä¸”å¼€å§‹äº†å¯¹å‰©ä½™çš„ <code>pattern:&#39;&quot;&#39;</code> çš„åŒ¹é…ï¼š</p>
<p> <img src="witch_lazy3.svg" alt=""></p>
<p> å¦‚æœæœ‰ä¸€ä¸ªå¼•å·ï¼Œæœç´¢å°±ä¼šåœæ­¢ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ª <code>&#39;i&#39;</code>ï¼Œæ‰€ä»¥æ²¡æœ‰åŒ¹é…åˆ°å¼•å·ã€‚</p>
</li>
<li><p>æ¥ç€ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¼•æ“å¢åŠ å¯¹ç‚¹çš„é‡å¤æœç´¢æ¬¡æ•°ï¼Œå¹¶ä¸”å†æ¬¡å°è¯•ï¼š</p>
<p> <img src="witch_lazy4.svg" alt=""></p>
<p> åˆå¤±è´¥äº†ã€‚ç„¶åé‡å¤æ¬¡æ•°ä¸€æ¬¡åˆä¸€æ¬¡çš„å¢åŠ ...</p>
</li>
<li><p>...ç›´åˆ°æ¨¡å¼ä¸­çš„å‰©ä½™éƒ¨åˆ†æ‰¾åˆ°åŒ¹é…é¡¹ï¼š</p>
<p> <img src="witch_lazy5.svg" alt=""></p>
</li>
<li><p>æ¥ä¸‹æ¥çš„æœç´¢å·¥ä½œä»å½“å‰åŒ¹é…ç»“æŸçš„é‚£ä¸€é¡¹å¼€å§‹ï¼Œå°±ä¼šå†äº§ç”Ÿä¸€ä¸ªç»“æœï¼š</p>
<p> <img src="witch_lazy6.svg" alt=""></p>
</li>
</ol>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†æ‡’æƒ°æ¨¡å¼ <code>pattern:+?</code> æ˜¯æ€æ ·å·¥ä½œçš„ã€‚é‡è¯ <code>pattern:*?</code> å’Œ <code>pattern:??</code> ä¹Ÿæœ‰ç±»ä¼¼çš„æ•ˆæœ â€”â€” åªæœ‰åœ¨æ¨¡å¼çš„å‰©ä½™éƒ¨åˆ†æ— æ³•åœ¨ç»™å®šä½ç½®åŒ¹é…æ—¶ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¼•æ“æ‰ä¼šå¢åŠ é‡å¤æ¬¡æ•°ã€‚</p>
<p><strong>æ‡’æƒ°æ¨¡å¼åªèƒ½å¤Ÿé€šè¿‡å¸¦ <code>?</code> çš„é‡è¯å¯ç”¨</strong></p>
<p>å…¶å®ƒçš„é‡è¯ä¾æ—§ä¿æŒè´ªå©ªæ¨¡å¼ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;123 456&quot;</span>.match(<span class="hljs-regexp">/\d+ \d+?/g</span>) ); <span class="hljs-comment">// 123 4</span></code></pre>
<ol>
<li><p>æ¨¡å¼ <code>pattern:\d+</code> å°è¯•åŒ¹é…å°½å¯èƒ½å¤šçš„æ•°å­—ï¼ˆè´ªå©ªæ¨¡å¼ï¼‰ï¼Œå› æ­¤åœ¨å®ƒæ‰¾åˆ° <code>match:123</code> æ—¶åœæ­¢ï¼Œå› ä¸ºä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ºç©ºæ ¼ <code>pattern:&#39; &#39;</code>ã€‚</p>
</li>
<li><p>åŒ¹é…åˆ°ä¸€ä¸ªç©ºæ ¼ã€‚</p>
</li>
<li><p>ç”±äº <code>pattern:\d+?</code>ã€‚é‡è¯æ˜¯å‡ºäºæ‡’æƒ°æ¨¡å¼çš„ï¼Œæ‰€ä»¥å®ƒåŒ¹é…ä¸€ä¸ªæ•°å­— <code>match:4</code> å¹¶ä¸”å°è¯•å»æ£€æµ‹æ¨¡å¼çš„å‰©ä½™éƒ¨åˆ†æ˜¯å¦åŒ¹é…ã€‚</p>
<p> ã€‚ã€‚ã€‚ä½†æ˜¯åœ¨ <code>pattern:\d+?</code> ä¹‹åæ²¡æœ‰å…¶å®ƒçš„åŒ¹é…é¡¹äº†ã€‚</p>
<p> æ‡’æƒ°æ¨¡å¼ä¸ä¼šåœ¨ä¸å¿…è¦çš„æƒ…å†µä¸‹é‡å¤ä»»ä½•äº‹æƒ…ã€‚æ¨¡å¼ç»“æŸï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰¾åˆ°äº†åŒ¹é…é¡¹ <code>match:123 4</code>ã€‚</p>
</li>
<li><p>æ¥ä¸‹æ¥çš„æœç´¢å·¥ä½œä»å­—ç¬¦ <code>5</code> å¼€å§‹ã€‚</p>
</li>
</ol>
<pre><code class="language-smart">å½“ä»£çš„æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ä¼šé€šè¿‡ä¼˜åŒ–å†…éƒ¨ç®—æ³•æ¥æå‡æ•ˆç‡ã€‚æ‰€ä»¥å®ƒä»¬çš„å·¥ä½œæµç¨‹å’Œæ‰€æè¿°çš„ç®—æ³•å¯èƒ½ç•¥æœ‰ä¸åŒã€‚

ä½†å¦‚æœåªæ˜¯ä¸ºäº†ç†è§£æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦‚ä½•å·¥ä½œä»¥åŠå¦‚ä½•æ„å»ºçš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦çŸ¥é“è¿™äº›ï¼Œå®ƒä»¬ä»…ç”¨äºå†…éƒ¨ä¼˜åŒ–ã€‚

å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼æ˜¯éš¾ä»¥ä¼˜åŒ–çš„ï¼Œæ‰€ä»¥æœç´¢çš„è¿‡ç¨‹å¯èƒ½ä¼šå®Œå…¨æŒ‰ç…§æè¿°è¿›è¡Œã€‚</code></pre>
<h2 id="æ›¿ä»£æ–¹æ³•">æ›¿ä»£æ–¹æ³•</h2>
<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œé€šå¸¸æœ‰å¤šç§æ–¹æ³•æ¥è¾¾åˆ°æŸä¸ªç›¸åŒç›®çš„ã€‚</p>
<p>åœ¨ç”¨ä¾‹ä¸­ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸å¯ç”¨æ‡’æƒ°æ¨¡å¼çš„æƒ…å†µä¸‹ç”¨ <code>pattern:&quot;[^&quot;]+&quot;</code> æ‰¾åˆ°å¸¦å¼•å·çš„å­—ç¬¦ä¸²ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&quot;[^&quot;]+&quot;/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;a &quot;witch&quot; and her &quot;broom&quot; is one&#x27;</span>;

alert( str.match(reg) ); <span class="hljs-comment">// witch, broom</span></code></pre>
<p><code>pattern:&quot;[^&quot;]+&quot;</code> å¾—åˆ°äº†æ­£ç¡®çš„ç­”æ¡ˆï¼Œå› ä¸ºå®ƒæŸ¥æ‰¾ä¸€ä¸ªå¼•å· <code>pattern:&#39;&quot;&#39;</code>ï¼Œåè·Ÿä¸€ä¸ªæˆ–å¤šä¸ªéå¼•å·å­—ç¬¦  <code>pattern:[^&quot;]</code>ï¼Œç„¶åæ˜¯ç»“æŸçš„å¼•å·ã€‚</p>
<p>å½“å¼•æ“å¯»æ‰¾ <code>pattern:[^&quot;]+</code> æ—¶ï¼Œå®ƒä¼šåœ¨åŒ¹é…åˆ°ç»“æŸçš„å¼•å·æ—¶åœæ­¢é‡å¤ï¼Œè¿™æ ·å°±å®Œæˆäº†ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œè¿™ä¸ªé€»è¾‘å¹¶ä¸èƒ½å–ä»£æƒ°æ€§é‡è¯ï¼</p>
<p>è¿™æ˜¯ä¸åŒçš„ï¼Œæˆ‘ä»¬æœ‰æ—¶éœ€è¦è¿™ä¸€ä¸ªï¼Œæœ‰æ—¶å´éœ€è¦å¦ä¸€ä¸ªã€‚</p>
<p>è®©æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä½¿ç”¨æƒ°æ€§é‡è¯å¤±è´¥è€Œä½¿ç”¨è¿™ç§æ–¹å¼æ­£ç¡®çš„ä¾‹å­ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦æ‰¾åˆ° <code>&lt;a href=&quot;...&quot; class=&quot;doc&quot;&gt;</code> å½¢å¼çš„é“¾æ¥ï¼Œæˆ–æ˜¯ä»»æ„ <code>href</code>ã€‚</p>
<p>è¯¥ä½¿ç”¨å“ªä¸ªæ­£åˆ™è¡¨è¾¾å¼å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆå¯èƒ½ä¼šæƒ³åˆ°ï¼š<code>pattern:/&lt;a href=&quot;.*&quot; class=&quot;doc&quot;&gt;/g</code>ã€‚</p>
<p>éªŒè¯ä¸€ä¸‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;...&lt;a href=&quot;link&quot; class=&quot;doc&quot;&gt;...&#x27;</span>;
<span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&lt;a href=&quot;.*&quot; class=&quot;doc&quot;&gt;/g</span>;

<span class="hljs-comment">// Works!</span>
alert( str.match(reg) ); <span class="hljs-comment">// &lt;a href=&quot;link&quot; class=&quot;doc&quot;&gt;</span></code></pre>
<p>...ä½†å¦‚æœæ–‡æœ¬ä¸­æœ‰å¤šä¸ªé“¾æ¥å‘¢ï¼Ÿ</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;...&lt;a href=&quot;link1&quot; class=&quot;doc&quot;&gt;... &lt;a href=&quot;link2&quot; class=&quot;doc&quot;&gt;...&#x27;</span>;
<span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&lt;a href=&quot;.*&quot; class=&quot;doc&quot;&gt;/g</span>;

<span class="hljs-comment">// Whoops! Two links in one match!</span>
alert( str.match(reg) ); <span class="hljs-comment">// &lt;a href=&quot;link1&quot; class=&quot;doc&quot;&gt;... &lt;a href=&quot;link2&quot; class=&quot;doc&quot;&gt;</span></code></pre>
<p>ç°åœ¨è¿™ä¸ªç»“æœå’Œæˆ‘ä»¬çš„ &quot;witches&quot; ç”¨ä¾‹ç»“æœçš„é”™è¯¯åŸå› æ˜¯ä¸€æ ·çš„ã€‚é‡è¯ <code>pattern:.*</code> å ç”¨å¤ªå¤šå­—ç¬¦äº†ã€‚</p>
<p>åŒ¹é…ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;.....................................&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;doc&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;link1&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;doc&quot;</span>&gt;</span>... <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;link2&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;doc&quot;</span>&gt;</span></code></pre>
<p>è®©æˆ‘ä»¬å¯ç”¨æƒ°æ€§é‡è¯ <code>pattern:.*?</code> æ¥ä¿®æ”¹æ¨¡å¼ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;...&lt;a href=&quot;link1&quot; class=&quot;doc&quot;&gt;... &lt;a href=&quot;link2&quot; class=&quot;doc&quot;&gt;...&#x27;</span>;
<span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&lt;a href=&quot;.*?&quot; class=&quot;doc&quot;&gt;/g</span>;

<span class="hljs-comment">// æœ‰æ•ˆï¼</span>
alert( str.match(reg) ); <span class="hljs-comment">// &lt;a href=&quot;link1&quot; class=&quot;doc&quot;&gt;, &lt;a href=&quot;link2&quot; class=&quot;doc&quot;&gt;</span></code></pre>
<p>ç°åœ¨èƒ½æˆåŠŸäº†ï¼Œæœ‰ä¸¤ä¸ªåŒ¹é…é¡¹ï¼š</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;.....&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;doc&quot;</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;.....&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;doc&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;link1&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;doc&quot;</span>&gt;</span>... <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;link2&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;doc&quot;</span>&gt;</span></code></pre>
<p>å®ƒçš„å·¥ä½œåŸç†æ˜¯ â€”â€” åœ¨ä¸Šè¿°çš„è§£é‡Šä¹‹åï¼Œè¿™åº”è¯¥æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸åœç•™åœ¨è¿™äº›ç»†èŠ‚ä¸Šï¼Œæ¥å†å°è¯•ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;...&lt;a href=&quot;link1&quot; class=&quot;wrong&quot;&gt;... &lt;p style=&quot;&quot; class=&quot;doc&quot;&gt;...&#x27;</span>;
<span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&lt;a href=&quot;.*?&quot; class=&quot;doc&quot;&gt;/g</span>;

<span class="hljs-comment">// é”™è¯¯ï¼</span>
alert( str.match(reg) ); <span class="hljs-comment">// &lt;a href=&quot;link1&quot; class=&quot;wrong&quot;&gt;... &lt;p style=&quot;&quot; class=&quot;doc&quot;&gt;</span></code></pre>
<p>æˆ‘ä»¬ä¼šå‘ç°ï¼Œè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸ä»…åŒ¹é…äº†ä¸€ä¸ªé“¾æ¥ï¼Œè¿˜åŒ¹é…äº†åŒ…å« <code>&lt;p...&gt;</code> çš„ä¸€æ®µæ–‡æœ¬ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿ</p>
<ol>
<li><p>é¦–å…ˆï¼Œæ­£åˆ™è¡¨è¾¾å¼å‘ç°ä¸€ä¸ªé“¾æ¥æ ‡ç­¾ï¼š<code>match:&lt;a href=&quot;</code>ã€‚</p>
</li>
<li><p>ç„¶åå®ƒå¯»æ‰¾ <code>pattern:.*?</code>ï¼Œæˆ‘ä»¬å–ä¸€ä¸ªå­—ç¬¦ï¼Œæ£€æŸ¥å…¶æ˜¯å¦ä¸æ¨¡å¼çš„å‰©ä½™éƒ¨åˆ†åŒ¹é…ï¼Œç„¶åå†å–å¦ä¸€ä¸ªã€‚ã€‚ã€‚</p>
<p> é‡è¯ <code>pattern:.*?</code> æ£€æµ‹å­—ç¬¦ï¼Œç›´åˆ° <code>match:class=&quot;doc&quot;&gt;</code>ã€‚</p>
<p> ...åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°å®ƒå‘¢ï¼Ÿæˆ‘ä»¬å¦‚æœæŸ¥çœ‹æ–‡æœ¬ï¼Œå°±å¯ä»¥çœ‹åˆ°å”¯ä¸€çš„ <code>match:class=&quot;doc&quot;&gt;</code> æ˜¯åœ¨é“¾æ¥ä¹‹åçš„ï¼Œåœ¨ <code>&lt;p&gt;</code> ä¸­ã€‚</p>
</li>
<li><p>æ‰€ä»¥æœ‰äº†å¦‚ä¸‹åŒ¹é…é¡¹ï¼š</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;...................................&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;doc&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;link1&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;wrong&quot;</span>&gt;</span>... <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;doc&quot;</span>&gt;</span></code></pre>
</li>
</ol>
<p>æ‰€ä»¥ï¼Œæ‡’æƒ°æ¨¡å¼åœ¨è¿™é‡Œä¸èµ·ä½œç”¨ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å¯»æ‰¾ <code>&lt;a href=&quot;...something...&quot; class=&quot;doc&quot;&gt;</code>ï¼Œä½†è´ªå©ªå’Œæ‡’æƒ°æ¨¡å¼éƒ½æœ‰ä¸€äº›é—®é¢˜ã€‚</p>
<p>æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š<code>pattern:href=&quot;[^&quot;]*&quot;</code>ã€‚å®ƒä¼šè·å– href å±æ€§ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼Œæ­£å¥½ç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚ã€‚</p>
<p>ä¸€ä¸ªå®ä¾‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str1 = <span class="hljs-string">&#x27;...&lt;a href=&quot;link1&quot; class=&quot;wrong&quot;&gt;... &lt;p style=&quot;&quot; class=&quot;doc&quot;&gt;...&#x27;</span>;
<span class="hljs-keyword">let</span> str2 = <span class="hljs-string">&#x27;...&lt;a href=&quot;link1&quot; class=&quot;doc&quot;&gt;... &lt;a href=&quot;link2&quot; class=&quot;doc&quot;&gt;...&#x27;</span>;
<span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&lt;a href=&quot;[^&quot;]*&quot; class=&quot;doc&quot;&gt;/g</span>;

<span class="hljs-comment">// Works!</span>
alert( str1.match(reg) ); <span class="hljs-comment">// æ²¡æœ‰åŒ¹é…é¡¹ï¼Œæ˜¯æ­£ç¡®çš„</span>
alert( str2.match(reg) ); <span class="hljs-comment">// &lt;a href=&quot;link1&quot; class=&quot;doc&quot;&gt;, &lt;a href=&quot;link2&quot; class=&quot;doc&quot;&gt;</span></code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>é‡è¯æœ‰ä¸¤ç§å·¥ä½œæ¨¡å¼ï¼š</p>
<p>è´ªå©ªæ¨¡å¼
: é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¼•æ“ä¼šå°è¯•å°½å¯èƒ½å¤šåœ°é‡å¤é‡è¯ã€‚ä¾‹å¦‚ï¼Œ<code>pattern:\d+</code> æ£€æµ‹æ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ã€‚å½“ä¸å¯èƒ½æ£€æµ‹æ›´å¤šï¼ˆæ²¡æœ‰æ›´å¤šçš„å­—ç¬¦æˆ–åˆ°è¾¾å­—ç¬¦ä¸²æœ«å°¾ï¼‰æ—¶ï¼Œç„¶åå®ƒå†åŒ¹é…æ¨¡å¼çš„å‰©ä½™éƒ¨åˆ†ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œåˆ™å‡å°‘é‡å¤çš„æ¬¡æ•°ï¼ˆå›æº¯ï¼‰ï¼Œå¹¶å†æ¬¡å°è¯•ã€‚</p>
<p>æ‡’æƒ°æ¨¡å¼
: é€šè¿‡åœ¨é‡è¯åæ·»åŠ é—®å· <code>pattern:?</code> æ¥å¯ç”¨ã€‚åœ¨æ¯æ¬¡é‡å¤é‡è¯ä¹‹å‰ï¼Œå¼•æ“ä¼šå°è¯•å»åŒ¹é…æ¨¡å¼çš„å‰©ä½™éƒ¨åˆ†ã€‚</p>
<p>æ­£å¦‚æˆ‘ä»¬æ‰€è§ï¼Œæ‡’æƒ°æ¨¡å¼å¹¶ä¸æ˜¯é’ˆå¯¹è´ªå©ªæœç´¢çš„çµä¸¹å¦™è¯ã€‚å¦ä¸€ç§æ–¹å¼æ˜¯â€œå¾®è°ƒâ€è´ªå©ªæœç´¢ï¼Œæˆ‘ä»¬å¾ˆå¿«å°±ä¼šè§åˆ°æ›´å¤šçš„ä¾‹å­ã€‚</p>

      </fieldset>
      
      <fieldset id='_0DcW1S'>
      <legend>solution</legend>
      <p>A two-digit hex number is <code>pattern:[0-9a-f]{2}</code> (assuming the flag <code>pattern:i</code> is set).</p>
<p>We need that number <code>NN</code>, and then <code>:NN</code> repeated 5 times (more numbers);</p>
<p>The regexp is: <code>pattern:[0-9a-f]{2}(:[0-9a-f]{2}){5}</code></p>
<p>Now let&#39;s show that the match should capture all the text: start at the beginning and end at the end. That&#39;s done by wrapping the pattern in <code>pattern:^...$</code>.</p>
<p>Finally:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/^[0-9a-fA-F]{2}(:[0-9a-fA-F]{2}){5}$/i</span>;

alert( regexp.test(<span class="hljs-string">&#x27;01:32:54:67:89:AB&#x27;</span>) ); <span class="hljs-comment">// true</span>

alert( regexp.test(<span class="hljs-string">&#x27;0132546789AB&#x27;</span>) ); <span class="hljs-comment">// false (no colons)</span>

alert( regexp.test(<span class="hljs-string">&#x27;01:32:54:67:89&#x27;</span>) ); <span class="hljs-comment">// false (5 numbers, need 6)</span>

alert( regexp.test(<span class="hljs-string">&#x27;01:32:54:67:89:ZZ&#x27;</span>) ) <span class="hljs-comment">// false (ZZ in the end)</span></code></pre>

      </fieldset>
      
      <fieldset id='_2eI9KA'>
      <legend>task</legend>
      <h1 id="check-mac-address">Check MAC-address</h1>
<p><a href="https://en.wikipedia.org/wiki/MAC_address">MAC-address</a> of a network interface consists of 6 two-digit hex numbers separated by a colon.</p>
<p>For instance: <code>subject:&#39;01:32:54:67:89:AB&#39;</code>.</p>
<p>Write a regexp that checks whether a string is MAC-address.</p>
<p>Usage:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/your regexp/</span>;

alert( regexp.test(<span class="hljs-string">&#x27;01:32:54:67:89:AB&#x27;</span>) ); <span class="hljs-comment">// true</span>

alert( regexp.test(<span class="hljs-string">&#x27;0132546789AB&#x27;</span>) ); <span class="hljs-comment">// false (no colons)</span>

alert( regexp.test(<span class="hljs-string">&#x27;01:32:54:67:89&#x27;</span>) ); <span class="hljs-comment">// false (5 numbers, must be 6)</span>

alert( regexp.test(<span class="hljs-string">&#x27;01:32:54:67:89:ZZ&#x27;</span>) ) <span class="hljs-comment">// false (ZZ ad the end)</span></code></pre>

      </fieldset>
      
      <fieldset id='_9dsqYX'>
      <legend>solution</legend>
      
      </fieldset>
      
      <fieldset id='_cDeB0u'>
      <legend>task</legend>
      
      </fieldset>
      
      <fieldset id='_tNmtXI'>
      <legend>solution</legend>
      <p>A positive number with an optional decimal part is (per previous task): <code>pattern:\d+(\.\d+)?</code>.</p>
<p>Let&#39;s add the optional <code>pattern:-</code> in the beginning:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/-?\d+(\.\d+)?/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;-1.5 0 2 -123.4.&quot;</span>;

alert( str.match(regexp) );   <span class="hljs-comment">// -1.5, 0, 2, -123.4</span></code></pre>

      </fieldset>
      
      <fieldset id='_rFRyGT'>
      <legend>task</legend>
      <h1 id="find-all-numbers">Find all numbers</h1>
<p>Write a regexp that looks for all decimal numbers including integer ones, with the floating point and negative ones.</p>
<p>An example of use:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/your regexp/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;-1.5 0 2 -123.4.&quot;</span>;

alert( str.match(regexp) ); <span class="hljs-comment">// -1.5, 0, 2, -123.4</span></code></pre>

      </fieldset>
      
      <fieldset id='_oERCrA'>
      <legend>solution</legend>
      <p>A regexp for a number is: <code>pattern:-?\d+(\.\d+)?</code>. We created it in previous tasks.</p>
<p>An operator is <code>pattern:[-+*/]</code>. The hyphen <code>pattern:-</code> goes first in the square brackets, because in the middle it would mean a character range, while we just want a character <code>-</code>.</p>
<p>The slash <code>/</code> should be escaped inside a JavaScript regexp <code>pattern:/.../</code>, we&#39;ll do that later.</p>
<p>We need a number, an operator, and then another number. And optional spaces between them.</p>
<p>The full regular expression: <code>pattern:-?\d+(\.\d+)?\s*[-+*/]\s*-?\d+(\.\d+)?</code>.</p>
<p>It has 3 parts, with <code>pattern:\s*</code> between them:</p>
<ol>
<li><code>pattern:-?\d+(\.\d+)?</code> - the first number,</li>
<li><code>pattern:[-+*/]</code> - the operator,</li>
<li><code>pattern:-?\d+(\.\d+)?</code> - the second number.</li>
</ol>
<p>To make each of these parts a separate element of the result array, let&#39;s enclose them in parentheses: <code>pattern:(-?\d+(\.\d+)?)\s*([-+*/])\s*(-?\d+(\.\d+)?)</code>.</p>
<p>In action:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/(-?\d+(\.\d+)?)\s*([-+*\/])\s*(-?\d+(\.\d+)?)/</span>;

alert( <span class="hljs-string">&quot;1.2 + 12&quot;</span>.match(regexp) );</code></pre>
<p>The result includes:</p>
<ul>
<li><code>result[0] == &quot;1.2 + 12&quot;</code> (full match)</li>
<li><code>result[1] == &quot;1.2&quot;</code> (first group <code>(-?\d+(\.\d+)?)</code> -- the first number, including the decimal part)</li>
<li><code>result[2] == &quot;.2&quot;</code> (second group<code>(\.\d+)?</code> -- the first decimal part)</li>
<li><code>result[3] == &quot;+&quot;</code> (third group <code>([-+*\/])</code> -- the operator)</li>
<li><code>result[4] == &quot;12&quot;</code> (forth group <code>(-?\d+(\.\d+)?)</code> -- the second number)</li>
<li><code>result[5] == undefined</code> (fifth group <code>(\.\d+)?</code> -- the last decimal part is absent, so it&#39;s undefined)</li>
</ul>
<p>We only want the numbers and the operator, without the full match or the decimal parts, so let&#39;s &quot;clean&quot; the result a bit.</p>
<p>The full match (the arrays first item) can be removed by shifting the array <code>result.shift()</code>.</p>
<p>Groups that contain decimal parts (number 2 and 4) <code>pattern:(.\d+)</code> can be excluded by adding  <code>pattern:?:</code> to the beginning: <code>pattern:(?:\.\d+)?</code>.</p>
<p>The final solution:</p>
<pre><code class="language-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span>(<span class="hljs-params">expr</span>) </span>{
  <span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/(-?\d+(?:\.\d+)?)\s*([-+*\/])\s*(-?\d+(?:\.\d+)?)/</span>;

  <span class="hljs-keyword">let</span> result = expr.match(regexp);

  <span class="hljs-keyword">if</span> (!result) <span class="hljs-keyword">return</span> [];
  result.shift();

  <span class="hljs-keyword">return</span> result;
}

alert( parse(<span class="hljs-string">&quot;-1.23 * 3.45&quot;</span>) );  <span class="hljs-comment">// -1.23, *, 3.45</span></code></pre>

      </fieldset>
      
      <fieldset id='_RE2GaW'>
      <legend>task</legend>
      <h1 id="parse-an-expression">Parse an expression</h1>
<p>An arithmetical expression consists of 2 numbers and an operator between them, for instance:</p>
<ul>
<li><code>1 + 2</code></li>
<li><code>1.2 * 3.4</code></li>
<li><code>-3 / -6</code></li>
<li><code>-2 - 2</code></li>
</ul>
<p>The operator is one of: <code>&quot;+&quot;</code>, <code>&quot;-&quot;</code>, <code>&quot;*&quot;</code> or <code>&quot;/&quot;</code>.</p>
<p>There may be extra spaces at the beginning, at the end or between the parts.</p>
<p>Create a function <code>parse(expr)</code> that takes an expression and returns an array of 3 items:</p>
<ol>
<li>The first number.</li>
<li>The operator.</li>
<li>The second number.</li>
</ol>
<p>For example:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> [a, op, b] = parse(<span class="hljs-string">&quot;1.2 * 3.4&quot;</span>);

alert(a); <span class="hljs-comment">// 1.2</span>
alert(op); <span class="hljs-comment">// *</span>
alert(b); <span class="hljs-comment">// 3.4</span></code></pre>

      </fieldset>
      
      <fieldset id='_fsR4qp'>
      <legend>article</legend>
      <h1 id="æ•è·ç»„">æ•è·ç»„</h1>
<p>æ¨¡å¼çš„ä¸€éƒ¨åˆ†å¯ä»¥ç”¨æ‹¬å·æ‹¬èµ·æ¥ <code>pattern:(...)</code>ã€‚è¿™ç§°ä¸ºâ€œæ•è·ç»„ï¼ˆcapturing groupï¼‰â€ã€‚</p>
<p>è¿™æœ‰ä¸¤ä¸ªå½±å“ï¼š</p>
<ol>
<li>å®ƒå…è®¸å°†åŒ¹é…çš„ä¸€éƒ¨åˆ†ä½œä¸ºç»“æœæ•°ç»„ä¸­çš„å•ç‹¬é¡¹ã€‚</li>
<li>å¦‚æœæˆ‘ä»¬å°†é‡è¯æ”¾åœ¨æ‹¬å·åï¼Œåˆ™å®ƒå°†æ‹¬å·è§†ä¸ºä¸€ä¸ªæ•´ä½“ã€‚</li>
</ol>
<h2 id="ç¤ºä¾‹">ç¤ºä¾‹</h2>
<p>è®©æˆ‘ä»¬çœ‹çœ‹åœ¨ç¤ºä¾‹ä¸­çš„æ‹¬å·æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p>
<h3 id="ç¤ºä¾‹ï¼šgogogo">ç¤ºä¾‹ï¼šgogogo</h3>
<p>ä¸å¸¦æ‹¬å·ï¼Œæ¨¡å¼ <code>pattern:go+</code> è¡¨ç¤º <code>subject:g</code> å­—ç¬¦ï¼Œå…¶å <code>subject:o</code> é‡å¤ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ <code>match:goooo</code> æˆ– <code>match:gooooooooo</code>ã€‚</p>
<p>æ‹¬å·å°†å­—ç¬¦ç»„åˆï¼Œæ‰€ä»¥ <code>pattern:(go)+</code> åŒ¹é… <code>match:go</code>ï¼Œ<code>match:gogo</code>ï¼Œ<code>match:gogogo</code>ç­‰ã€‚</p>
<pre><code class="language-js">alert( <span class="hljs-string">&#x27;Gogogo now!&#x27;</span>.match(<span class="hljs-regexp">/(go)+/i</span>) ); <span class="hljs-comment">// &quot;Gogogo&quot;</span></code></pre>
<h3 id="ç¤ºä¾‹ï¼šåŸŸå">ç¤ºä¾‹ï¼šåŸŸå</h3>
<p>è®©æˆ‘ä»¬åšäº›æ›´å¤æ‚çš„äº‹ â€”â€” æœç´¢åŸŸåçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code>mail.com
users.mail.com
smith.users.mail.com</code></pre>
<p>æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œä¸€ä¸ªåŸŸåç”±é‡å¤çš„å•è¯ç»„æˆï¼Œæ¯ä¸ªå•è¯åé¢æœ‰ä¸€ä¸ªç‚¹ï¼Œé™¤äº†æœ€åä¸€ä¸ªå•è¯ã€‚</p>
<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ˜¯ <code>pattern:(\w+\.)+\w+</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/(\w+\.)+\w+/g</span>;

alert( <span class="hljs-string">&quot;site.com my.site.com&quot;</span>.match(regexp) ); <span class="hljs-comment">// site.com,my.site.com</span></code></pre>
<p>æœç´¢æœ‰æ•ˆï¼Œä½†æ˜¯è¯¥æ¨¡å¼æ— æ³•åŒ¹é…å¸¦æœ‰è¿å­—ç¬¦çš„åŸŸåï¼Œä¾‹å¦‚ my-site.comï¼Œå› ä¸ºè¿å­—ç¬¦ä¸å±äº <code>pattern:\w</code> ç±»ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç”¨ <code>pattern:[\w-]</code> æ›¿æ¢ <code>pattern:\w</code> æ¥åŒ¹é…é™¤æœ€åä¸€ä¸ªçš„æ¯ä¸ªå•è¯ï¼š<code>pattern:([\w-]+\.)+\w+</code>ã€‚</p>
<h3 id="ç¤ºä¾‹ï¼šemail">ç¤ºä¾‹ï¼šemail</h3>
<p>å‰é¢çš„ç¤ºä¾‹å¯ä»¥æ‰©å±•ã€‚æˆ‘ä»¬å¯ä»¥åŸºäºå®ƒä¸ºç”µå­é‚®ä»¶åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
<p>email æ ¼å¼ä¸ºï¼š<code>name@domain</code>ã€‚åç§°å¯ä»¥æ˜¯ä»»ä½•å•è¯ï¼Œå¯ä»¥ä½¿ç”¨è¿å­—ç¬¦å’Œç‚¹ã€‚åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä¸º <code>pattern:[-.\w]+</code>ã€‚</p>
<p>æ¨¡å¼ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/[-.\w]+@([\w-]+\.)+[\w-]+/g</span>;

alert(<span class="hljs-string">&quot;my@mail.com @ his@site.com.uk&quot;</span>.match(regexp)); <span class="hljs-comment">// my@mail.com, his@site.com.uk</span></code></pre>
<p>è¯¥æ­£åˆ™è¡¨è¾¾å¼å¹¶ä¸å®Œç¾çš„ï¼Œä½†å¤šæ•°æƒ…å†µä¸‹éƒ½å¯ä»¥å·¥ä½œï¼Œå¹¶ä¸”æœ‰åŠ©äºä¿®å¤æ„å¤–çš„é”™è¯¯ç±»å‹ã€‚å”¯ä¸€çœŸæ­£å¯é çš„ email æ£€æŸ¥åªèƒ½é€šè¿‡å‘é€ email æ¥å®Œæˆã€‚</p>
<h2 id="åŒ¹é…æ‹¬å·ä¸­çš„å†…å®¹">åŒ¹é…æ‹¬å·ä¸­çš„å†…å®¹</h2>
<p>æ‹¬å·ä»å·¦åˆ°å³ç¼–å·ã€‚æ­£åˆ™å¼•æ“ä¼šè®°ä½å®ƒä»¬å„è‡ªåŒ¹é…çš„å†…å®¹ï¼Œå¹¶å…è®¸åœ¨ç»“æœä¸­è·å¾—å®ƒã€‚</p>
<p>æ–¹æ³• <code>str.match(regexp)</code>ï¼Œå¦‚æœ <code>regexp</code> æ²¡æœ‰ <code>g</code> æ ‡å¿—ï¼Œå°†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…å¹¶å°†å®ƒä½œä¸ºä¸€ä¸ªæ•°ç»„è¿”å›ï¼š</p>
<ol>
<li>åœ¨ç´¢å¼• <code>0</code> å¤„ï¼šå®Œå…¨åŒ¹é…ã€‚</li>
<li>åœ¨ç´¢å¼• <code>1</code> å¤„ï¼šç¬¬ä¸€ä¸ªæ‹¬å·çš„å†…å®¹ã€‚</li>
<li>åœ¨ç´¢å¼• <code>2</code> å¤„ï¼šç¬¬äºŒä¸ªæ‹¬å·çš„å†…å®¹ã€‚</li>
<li>â€¦ç­‰ç­‰â€¦</li>
</ol>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³æ‰¾åˆ° HTML æ ‡è®° <code>pattern:&lt;.*?&gt;</code> å¹¶è¿›è¡Œå¤„ç†ã€‚è¿™å°†å¾ˆæ–¹ä¾¿çš„æŠŠæ ‡ç­¾å†…å®¹ï¼ˆå°–æ‹¬å·å†…çš„å†…å®¹ï¼‰æ”¾åœ¨å•ç‹¬çš„å˜é‡ä¸­ã€‚</p>
<p>è®©æˆ‘ä»¬å°†å†…éƒ¨å†…å®¹åŒ…è£…åœ¨æ‹¬å·ä¸­ï¼Œåƒè¿™æ ·ï¼š<code>pattern:&lt;(.*?)&gt;</code>ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬èƒ½åœ¨ç»“æœæ•°ç»„ä¸­è·å–æ ‡ç­¾çš„æ•´ä½“ <code>match:&lt;h1&gt;</code> åŠå…¶å†…å®¹ <code>match:h1</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;&lt;h1&gt;Hello, world!&lt;/h1&gt;&#x27;</span>;

<span class="hljs-keyword">let</span> tag = str.match(<span class="hljs-regexp">/&lt;(.*?)&gt;/</span>);

alert( tag[<span class="hljs-number">0</span>] ); <span class="hljs-comment">// &lt;h1&gt;</span>
alert( tag[<span class="hljs-number">1</span>] ); <span class="hljs-comment">// h1</span></code></pre>
<h3 id="åµŒå¥—ç»„">åµŒå¥—ç»„</h3>
<p>æ‹¬å·å¯ä»¥åµŒå¥—ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¼–å·ä¹Ÿä»å·¦åˆ°å³ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨æœç´¢æ ‡ç­¾ <code>subject:&lt;span class=&quot;my&quot;&gt;</code> æ—¶æˆ‘ä»¬å¯èƒ½ä¼šå¯¹ä»¥ä¸‹å†…å®¹æ„Ÿå…´è¶£ï¼š</p>
<ol>
<li>æ•´ä¸ªæ ‡ç­¾å†…å®¹ï¼š<code>match:span class=&quot;my&quot;</code>ã€‚</li>
<li>æ ‡ç­¾åç§°ï¼š<code>match:span</code>ã€‚</li>
<li>æ ‡ç­¾å±æ€§ï¼š<code>match:class=&quot;my&quot;</code>ã€‚</li>
</ol>
<p>è®©æˆ‘ä»¬ä¸ºå®ƒä»¬æ·»åŠ æ‹¬å·ï¼š<code>pattern:&lt;(([a-z]+)\s*([^&gt;]*))&gt;</code>ã€‚</p>
<p>è¿™æ˜¯å®ƒä»¬çš„ç¼–å·æ–¹å¼ï¼ˆä»å·¦åˆ°å³ï¼Œç”±å·¦æ‹¬å·å¼€å§‹ï¼‰ï¼š</p>
<p><img src="regexp-nested-groups-pattern.svg" alt=""></p>
<p>å®é™…ä¸Šï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;&lt;span class=&quot;my&quot;&gt;&#x27;</span>;

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/&lt;(([a-z]+)\s*([^&gt;]*))&gt;/</span>;

<span class="hljs-keyword">let</span> result = str.match(regexp);
alert(result[<span class="hljs-number">0</span>]); <span class="hljs-comment">// &lt;span class=&quot;my&quot;&gt;</span>
alert(result[<span class="hljs-number">1</span>]); <span class="hljs-comment">// span class=&quot;my&quot;</span>
alert(result[<span class="hljs-number">2</span>]); <span class="hljs-comment">// span</span>
alert(result[<span class="hljs-number">3</span>]); <span class="hljs-comment">// class=&quot;my&quot;</span></code></pre>
<p><code>result</code> çš„é›¶ç´¢å¼•å§‹ç»ˆä¿æŒå®Œå…¨åŒ¹é…ã€‚</p>
<p>ç„¶åæŒ‰å·¦æ‹¬å·å°†ç»„ä»å·¦åˆ°å³ç¼–å·ã€‚ç¬¬ä¸€ç»„è¿”å›ä¸º <code>result[1]</code>ã€‚å®ƒåŒ…å«äº†æ•´ä¸ªæ ‡ç­¾å†…å®¹ã€‚</p>
<p>ç„¶å <code>result[2]</code> ä»ç¬¬äºŒä¸ªå¼€å§‹çš„æ‹¬å·ä¸­è¿›å…¥è¯¥ç»„ <code>pattern:([a-z]+)</code> â€”â€” æ ‡ç­¾åç§°ï¼Œç„¶ååœ¨ <code>result[3]</code> æ ‡ç­¾ä¸­ï¼š<code>pattern:([^&gt;]*)</code>ã€‚</p>
<p>å­—ç¬¦ä¸²ä¸­æ¯ä¸ªç»„çš„å†…å®¹ï¼š</p>
<p><img src="regexp-nested-groups-matches.svg" alt=""></p>
<h3 id="å¯é€‰ç»„">å¯é€‰ç»„</h3>
<p>å³ä½¿ç»„æ˜¯å¯é€‰çš„å¹¶ä¸”åœ¨åŒ¹é…é¡¹ä¸­ä¸å­˜åœ¨ï¼ˆä¾‹å¦‚ï¼Œå…·æœ‰æ•°é‡è¯ <code>pattern:(...)?</code>ï¼‰ï¼Œä¹Ÿå­˜åœ¨ç›¸åº”çš„ <code>result</code> æ•°ç»„é¡¹ï¼Œå¹¶ä¸”ç­‰äº <code>undefined</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬è€ƒè™‘æ­£åˆ™ <code>pattern:a(z)?(c)?</code>ã€‚å®ƒå¯»æ‰¾ <code>&quot;a&quot;</code> ï¼Œç„¶åæ˜¯å¯é€‰çš„ <code>&quot;z&quot;</code>ï¼Œç„¶åæ˜¯å¯é€‰çš„ <code>&quot;c&quot;</code>ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬åœ¨å•ä¸ªå­—æ¯çš„å­—ç¬¦ä¸²ä¸Šè¿è¡Œ <code>subject:a</code>ï¼Œåˆ™ç»“æœä¸ºï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> match = <span class="hljs-string">&#x27;a&#x27;</span>.match(<span class="hljs-regexp">/a(z)?(c)?/</span>);

alert( match.length ); <span class="hljs-comment">// 3</span>
alert( match[<span class="hljs-number">0</span>] ); <span class="hljs-comment">// aï¼ˆå®Œå…¨åŒ¹é…ï¼‰</span>
alert( match[<span class="hljs-number">1</span>] ); <span class="hljs-comment">// undefined</span>
alert( match[<span class="hljs-number">2</span>] ); <span class="hljs-comment">// undefined</span></code></pre>
<p>æ•°ç»„çš„é•¿åº¦ä¸º <code>3</code>ï¼Œä½†æ‰€æœ‰ç»„å‡ä¸ºç©ºã€‚</p>
<p>è¿™æ˜¯å­—ç¬¦ä¸²çš„ä¸€ä¸ªæ›´å¤æ‚çš„åŒ¹é… <code>subject:ac</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> match = <span class="hljs-string">&#x27;ac&#x27;</span>.match(<span class="hljs-regexp">/a(z)?(c)?/</span>)

alert( match.length ); <span class="hljs-comment">// 3</span>
alert( match[<span class="hljs-number">0</span>] ); <span class="hljs-comment">// acï¼ˆå®Œå…¨åŒ¹é…ï¼‰</span>
alert( match[<span class="hljs-number">1</span>] ); <span class="hljs-comment">// undefinedï¼Œå› ä¸º (z)? æ²¡åŒ¹é…é¡¹</span>
alert( match[<span class="hljs-number">2</span>] ); <span class="hljs-comment">// c</span></code></pre>
<p>æ•°ç»„é•¿åº¦æ˜¯æ’å®šçš„ï¼š<code>3</code>ã€‚ä½†æ˜¯å¯¹äºç»„ <code>pattern:(z)?</code> è€Œè¨€ï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥ç»“æœæ˜¯ <code>[&quot;ac&quot;, undefined, &quot;c&quot;]</code>ã€‚</p>
<h2 id="æœç´¢æ‰€æœ‰å…·æœ‰ç»„çš„åŒ¹é…é¡¹ï¼šmatchall">æœç´¢æ‰€æœ‰å…·æœ‰ç»„çš„åŒ¹é…é¡¹ï¼šmatchAll</h2>
<p>```warn header=&quot;<code>matchAll</code> æ˜¯ä¸€ä¸ªæ–°æ–¹æ³•ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ polyfill&quot;
æ—§çš„æµè§ˆå™¨ä¸æ”¯æŒ <code>matchAll</code>ã€‚</p>
<p>å¯èƒ½éœ€è¦ä¸€ä¸ª polyfillï¼Œä¾‹å¦‚ <a href="https://github.com/ljharb/String.prototype.matchAll">https://github.com/ljharb/String.prototype.matchAll</a>.</p>
<pre><code>
å½“æˆ‘ä»¬æœç´¢æ‰€æœ‰åŒ¹é…é¡¹ï¼ˆæ ‡å¿— `pattern:g`ï¼‰æ—¶ï¼Œ`match` æ–¹æ³•ä¸ä¼šè¿”å›ç»„çš„å†…å®¹ã€‚

ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰æ ‡ç­¾ï¼š

```js run
let str = &#x27;&lt;h1&gt; &lt;h2&gt;&#x27;;

let tags = str.match(/&lt;(.*?)&gt;/g);

alert( tags ); // &lt;h1&gt;,&lt;h2&gt;</code></pre>
<p>ç»“æœæ˜¯ä¸€ä¸ªåŒ¹é…æ•°ç»„ï¼Œä½†æ²¡æœ‰æ¯ä¸ªåŒ¹é…é¡¹çš„è¯¦ç»†ä¿¡æ¯ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦åœ¨ç»“æœä¸­è·å–æ•è·ç»„çš„å†…å®¹ã€‚</p>
<p>è¦è·å–å®ƒä»¬ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨æ–¹æ³• <code>str.matchAll(regexp)</code> è¿›è¡Œæœç´¢ã€‚</p>
<p>åœ¨ä½¿ç”¨ <code>match</code> å¾ˆé•¿ä¸€æ®µæ—¶é—´åï¼Œå®ƒä½œä¸ºâ€œæ–°çš„æ”¹è¿›ç‰ˆæœ¬â€è¢«åŠ å…¥åˆ° JavaScript ä¸­ã€‚</p>
<p>å°±åƒ <code>match</code> ä¸€æ ·ï¼Œå®ƒå¯»æ‰¾åŒ¹é…é¡¹ï¼Œä½†æœ‰ 3 ä¸ªåŒºåˆ«ï¼š</p>
<ol>
<li>å®ƒè¿”å›çš„ä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ã€‚</li>
<li>å½“æ ‡å¿— <code>pattern:g</code> å­˜åœ¨æ—¶ï¼Œå®ƒå°†æ¯ä¸ªåŒ¹é…ç»„ä½œä¸ºä¸€ä¸ªæ•°ç»„è¿”å›ã€‚</li>
<li>å¦‚æœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™ä¸è¿”å› <code>null</code>ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªç©ºçš„å¯è¿­ä»£å¯¹è±¡ã€‚</li>
</ol>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> results = <span class="hljs-string">&#x27;&lt;h1&gt; &lt;h2&gt;&#x27;</span>.matchAll(<span class="hljs-regexp">/&lt;(.*?)&gt;/gi</span>);

<span class="hljs-comment">// results - is not an array, but an iterable object</span>
alert(results); <span class="hljs-comment">// [object RegExp String Iterator]</span>

alert(results[<span class="hljs-number">0</span>]); <span class="hljs-comment">// undefined (*)</span>

results = <span class="hljs-built_in">Array</span>.from(results); <span class="hljs-comment">// let&#x27;s turn it into array</span>

alert(results[<span class="hljs-number">0</span>]); <span class="hljs-comment">// &lt;h1&gt;,h1 (1st tag)</span>
alert(results[<span class="hljs-number">1</span>]); <span class="hljs-comment">// &lt;h2&gt;,h2 (2nd tag)</span></code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€ä¸ªåŒºåˆ«éå¸¸é‡è¦ï¼Œå¦‚ <code>(*)</code> è¡Œæ‰€ç¤ºã€‚æˆ‘ä»¬æ— æ³•è·å¾— <code>results[0]</code> çš„åŒ¹é…å†…å®¹ï¼Œå› ä¸ºè¯¥å¯¹è±¡æ˜¯ä¼ªæ•°ç»„ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Array.from</code> æŠŠå®ƒå˜æˆä¸€ä¸ªçœŸæ­£çš„ <code>Array</code>ã€‚åœ¨ Iterableï¼ˆå¯è¿­ä»£å¯¹è±¡ï¼‰<a href="info:iterable">info:iterable</a>ä¸€æ–‡ä¸­æœ‰å…³äºä¼ªæ•°ç»„å’Œå¯è¿­ä»£å¯¹è±¡çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬ä¸éœ€è¦éå†ç»“æœï¼Œåˆ™ <code>Array.from</code> æ²¡æœ‰å¿…è¦ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> results = <span class="hljs-string">&#x27;&lt;h1&gt; &lt;h2&gt;&#x27;</span>.matchAll(<span class="hljs-regexp">/&lt;(.*?)&gt;/gi</span>);

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> result <span class="hljs-keyword">of</span> results) {
  alert(result);
  <span class="hljs-comment">// ç¬¬ä¸€ä¸ªç»“æœ: &lt;h1&gt;,h1</span>
  <span class="hljs-comment">// ç¬¬äºŒä¸ªç»“æœ: &lt;h2&gt;,h2</span>
}</code></pre>
<p>â€¦â€¦æˆ–ä½¿ç”¨è§£æ„ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> [tag1, tag2] = <span class="hljs-string">&#x27;&lt;h1&gt; &lt;h2&gt;&#x27;</span>.matchAll(<span class="hljs-regexp">/&lt;(.*?)&gt;/gi</span>);</code></pre>
<p>ç”± <code>matchAll</code> æ‰€è¿”å›çš„æ¯ä¸ªåŒ¹é…ï¼Œå…¶æ ¼å¼ä¸ä¸å¸¦æ ‡å¿— <code>pattern:g</code> çš„ <code>match</code> æ‰€è¿”å›çš„æ ¼å¼ç›¸åŒï¼šå®ƒæ˜¯ä¸€ä¸ªå…·æœ‰é¢å¤–çš„ <code>index</code>ï¼ˆå­—ç¬¦ä¸²ä¸­çš„åŒ¹é…ç´¢å¼•ï¼‰å±æ€§å’Œ <code>input</code>ï¼ˆæºå­—ç¬¦ä¸²ï¼‰çš„æ•°ç»„ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> results = <span class="hljs-string">&#x27;&lt;h1&gt; &lt;h2&gt;&#x27;</span>.matchAll(<span class="hljs-regexp">/&lt;(.*?)&gt;/gi</span>);

<span class="hljs-keyword">let</span> [tag1, tag2] = results;

alert( tag1[<span class="hljs-number">0</span>] ); <span class="hljs-comment">// &lt;h1&gt;</span>
alert( tag1[<span class="hljs-number">1</span>] ); <span class="hljs-comment">// h1</span>
alert( tag1.index ); <span class="hljs-comment">// 0</span>
alert( tag1.input ); <span class="hljs-comment">// &lt;h1&gt; &lt;h2&gt;</span></code></pre>
<p>```smart header=&quot;ä¸ºä»€ä¹ˆ <code>matchAll</code> çš„ç»“æœæ˜¯å¯è¿­ä»£å¯¹è±¡è€Œä¸æ˜¯æ•°ç»„ï¼Ÿ&quot;
ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ³•è¿™æ ·è®¾è®¡ï¼ŸåŸå› å¾ˆç®€å• â€” ä¸ºäº†ä¼˜åŒ–ã€‚</p>
<p>è°ƒç”¨ <code>matchAll</code> ä¸ä¼šæ‰§è¡Œæœç´¢ã€‚ç›¸åï¼Œå®ƒè¿”å›ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œæœ€åˆæ²¡æœ‰ç»“æœã€‚æ¯å½“æˆ‘ä»¬å¯¹å®ƒè¿›è¡Œè¿­ä»£æ—¶æ‰ä¼šæ‰§è¡Œæœç´¢ï¼Œä¾‹å¦‚åœ¨å¾ªç¯ä¸­ã€‚</p>
<p>å› æ­¤ï¼Œè¿™å°†æ ¹æ®éœ€è¦æ‰¾åˆ°å°½å¯èƒ½å¤šçš„ç»“æœï¼Œè€Œä¸æ˜¯å…¨éƒ¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæ–‡æœ¬ä¸­å¯èƒ½æœ‰ 100 ä¸ªåŒ¹é…é¡¹ï¼Œä½†æ˜¯åœ¨ä¸€ä¸ª <code>for..of</code> å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ‰¾åˆ°äº† 5 ä¸ªåŒ¹é…é¡¹ï¼Œç„¶åè§‰å¾—è¶³å¤Ÿäº†å¹¶åšå‡ºä¸€ä¸ª <code>break</code>ã€‚è¿™æ—¶å¼•æ“å°±ä¸ä¼šèŠ±æ—¶é—´æŸ¥æ‰¾å…¶ä»– 95 ä¸ªåŒ¹é…ã€‚</p>
<pre><code>
## å‘½åç»„

ç”¨æ•°å­—è®°å½•ç»„å¾ˆå›°éš¾ã€‚å¯¹äºç®€å•æ¨¡å¼ï¼Œå®ƒæ˜¯å¯è¡Œçš„ï¼Œä½†å¯¹äºæ›´å¤æ‚çš„æ¨¡å¼ï¼Œè®¡ç®—æ‹¬å·å¾ˆä¸æ–¹ä¾¿ã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ï¼šç»™æ‹¬å·èµ·ä¸ªåå­—ã€‚

è¿™æ˜¯é€šè¿‡åœ¨å¼€å§‹æ‹¬å·ä¹‹åç«‹å³æ”¾ç½® `pattern:?&lt;name&gt;` æ¥å®Œæˆçš„ã€‚

ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬æŸ¥æ‰¾ &quot;year-month-day&quot; æ ¼å¼çš„æ—¥æœŸï¼š

```js run
*!*
let dateRegexp = /(?&lt;year&gt;[0-9]{4})-(?&lt;month&gt;[0-9]{2})-(?&lt;day&gt;[0-9]{2})/;
*/!*
let str = &quot;2019-04-30&quot;;

let groups = str.match(dateRegexp).groups;

alert(groups.year); // 2019
alert(groups.month); // 04
alert(groups.day); // 30</code></pre>
<p>å¦‚æ‚¨æ‰€è§ï¼ŒåŒ¹é…çš„ç»„åœ¨ <code>.groups</code> å±æ€§ä¸­ã€‚</p>
<p>è¦æŸ¥æ‰¾æ‰€æœ‰æ—¥æœŸï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ æ ‡å¿— <code>pattern:g</code>ã€‚</p>
<p>We&#39;ll also need <code>matchAll</code> to obtain full matches, together with groups:
æˆ‘ä»¬è¿˜éœ€è¦ <code>matchAll</code> è·å–å®Œæ•´çš„ç»„åŒ¹é…ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> dateRegexp = <span class="hljs-regexp">/(?&lt;year&gt;[0-9]{4})-(?&lt;month&gt;[0-9]{2})-(?&lt;day&gt;[0-9]{2})/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;2019-10-30 2020-01-01&quot;</span>;

<span class="hljs-keyword">let</span> results = str.matchAll(dateRegexp);

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> result <span class="hljs-keyword">of</span> results) {
  <span class="hljs-keyword">let</span> {year, month, day} = result.groups;

  alert(<span class="hljs-string">`<span class="hljs-subst">${day}</span>.<span class="hljs-subst">${month}</span>.<span class="hljs-subst">${year}</span>`</span>);
  <span class="hljs-comment">// ç¬¬ä¸€ä¸ª alertï¼š30.10.2019</span>
  <span class="hljs-comment">// ç¬¬äºŒä¸ªï¼š01.01.2020</span>
}</code></pre>
<h2 id="æ›¿æ¢æ•è·ç»„">æ›¿æ¢æ•è·ç»„</h2>
<p>æ–¹æ³• <code>str.replace(regexp, replacement)</code> ç”¨ <code>replacement</code> æ›¿æ¢ <code>str</code> ä¸­åŒ¹é… <code>regexp</code> çš„æ‰€æœ‰æ•è·ç»„ã€‚è¿™ä½¿ç”¨ <code>pattern:$n</code> æ¥å®Œæˆï¼Œå…¶ä¸­ <code>pattern:n</code> æ˜¯ç»„å·ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;John Bull&quot;</span>;
<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/(\w+) (\w+)/</span>;

alert( str.replace(regexp, <span class="hljs-string">&#x27;$2, $1&#x27;</span>) ); <span class="hljs-comment">// Bull, John</span></code></pre>
<p>å¯¹äºå‘½åæ‹¬å·ï¼Œå¼•ç”¨ä¸º <code>pattern:$&lt;name&gt;</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬å°†æ—¥æœŸæ ¼å¼ä» &quot;year-month-day&quot; æ›´æ”¹ä¸º &quot;day.month.year&quot;ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/(?&lt;year&gt;[0-9]{4})-(?&lt;month&gt;[0-9]{2})-(?&lt;day&gt;[0-9]{2})/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;2019-10-30, 2020-01-01&quot;</span>;

alert( str.replace(regexp, <span class="hljs-string">&#x27;$&lt;day&gt;.$&lt;month&gt;.$&lt;year&gt;&#x27;</span>) );
<span class="hljs-comment">// 30.10.2019, 01.01.2020</span></code></pre>
<h2 id="éæ•è·ç»„-">éæ•è·ç»„ ?:</h2>
<p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦æ‹¬å·æ‰èƒ½æ­£ç¡®åº”ç”¨é‡è¯ï¼Œä½†æˆ‘ä»¬ä¸å¸Œæœ›å®ƒä»¬çš„å†…å®¹å‡ºç°åœ¨ç»“æœä¸­ã€‚</p>
<p>å¯ä»¥é€šè¿‡åœ¨å¼€å¤´æ·»åŠ  <code>pattern:?:</code> æ¥æ’é™¤ç»„ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬è¦æŸ¥æ‰¾ <code>pattern:(go)+</code>ï¼Œä½†ä¸å¸Œæœ›æ‹¬å·å†…å®¹ï¼ˆ<code>go</code>ï¼‰ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„æ•°ç»„é¡¹ï¼Œåˆ™å¯ä»¥ç¼–å†™ï¼š<code>pattern:(?:go)+</code>ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä»…å°†åç§° <code>match:John</code> ä½œä¸ºåŒ¹é…é¡¹çš„å•ç‹¬æˆå‘˜ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;Gogogo John!&quot;</span>;

*!*
<span class="hljs-comment">// ?: ä»æ•è·ç»„ä¸­æ’é™¤ &#x27;go&#x27;</span>
<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/(?:go)+ (\w+)/i</span>;
*/!*

<span class="hljs-keyword">let</span> result = str.match(regexp);

alert( result[<span class="hljs-number">0</span>] ); <span class="hljs-comment">// Gogogo Johnï¼ˆå®Œå…¨åŒ¹é…ï¼‰</span>
alert( result[<span class="hljs-number">1</span>] ); <span class="hljs-comment">// John</span>
alert( result.length ); <span class="hljs-comment">// 2ï¼ˆæ•°ç»„ä¸­æ²¡æœ‰æ›´å¤šé¡¹ï¼‰</span></code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>æ‹¬å·å°†æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ç»„åˆåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿é‡è¯å¯ä»¥æ•´ä½“åº”ç”¨ã€‚</p>
<p>æ‹¬å·ç»„ä»å·¦åˆ°å³ç¼–å·ï¼Œå¯ä»¥é€‰æ‹©ç”¨ <code>(?&lt;name&gt;...)</code> å‘½åã€‚</p>
<p>å¯ä»¥åœ¨ç»“æœä¸­è·å¾—æŒ‰ç»„åŒ¹é…çš„å†…å®¹ï¼š</p>
<ul>
<li>æ–¹æ³• <code>str.match</code> ä»…å½“ä¸å¸¦æ ‡å¿— <code>pattern:g</code> æ—¶è¿”å›æ•è·ç»„ã€‚</li>
<li>æ–¹æ³• <code>str.matchAll</code> å§‹ç»ˆè¿”å›æ•è·ç»„ã€‚</li>
</ul>
<p>å¦‚æœæ‹¬å·æ²¡æœ‰åç§°ï¼Œåˆ™åŒ¹é…æ•°ç»„æŒ‰ç¼–å·æä¾›å…¶å†…å®¹ã€‚å‘½åæ‹¬å·è¿˜å¯ä½¿ç”¨å±æ€§ <code>groups</code>ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>str.replace</code> æ¥æ›¿æ¢æ‹¬å·å†…å®¹ä¸­çš„å­—ç¬¦ä¸²ï¼šä½¿ç”¨ <code>$n</code> æˆ–è€…åç§° <code>$&lt;name&gt;</code>ã€‚</p>
<p>å¯ä»¥é€šè¿‡åœ¨ç»„çš„å¼€å¤´æ·»åŠ  <code>pattern:?:</code> æ¥æ’é™¤ç¼–å·ç»„ã€‚å½“æˆ‘ä»¬éœ€è¦å¯¹æ•´ä¸ªç»„åº”ç”¨é‡è¯ï¼Œä½†ä¸å¸Œæœ›å°†å…¶ä½œä¸ºç»“æœæ•°ç»„ä¸­çš„å•ç‹¬é¡¹æ—¶è¿™å¾ˆæœ‰ç”¨ã€‚æˆ‘ä»¬ä¹Ÿä¸èƒ½åœ¨æ›¿æ¢å­—ç¬¦ä¸²æ—¶å¼•ç”¨æ­¤ç±»æ‹¬å·ã€‚</p>

      </fieldset>
      
      <fieldset id='_4N1wdY'>
      <legend>article</legend>
      <h1 id="æ¨¡å¼ä¸­çš„åå‘å¼•ç”¨ï¼šn-å’Œ-k">æ¨¡å¼ä¸­çš„åå‘å¼•ç”¨ï¼š\N å’Œ \k<name></h1>
<p>æˆ‘ä»¬ä¸ä»…å¯ä»¥åœ¨ç»“æœæˆ–æ›¿æ¢å­—ç¬¦ä¸²ä¸­ä½¿ç”¨æ•è·ç»„ <code>pattern:(...)</code> çš„å†…å®¹ï¼Œè¿˜å¯ä»¥åœ¨æ¨¡å¼æœ¬èº«ä¸­ä½¿ç”¨å®ƒä»¬ã€‚</p>
<h2 id="æŒ‰ç¼–å·åå‘å¼•ç”¨ï¼šn">æŒ‰ç¼–å·åå‘å¼•ç”¨ï¼š\N</h2>
<p>å¯ä»¥ä½¿ç”¨ <code>pattern:\N</code> åœ¨æ¨¡å¼ä¸­å¼•ç”¨ä¸€ä¸ªç»„ï¼Œå…¶ä¸­ <code>N</code> æ˜¯ç»„å·ã€‚</p>
<p>ä¸ºäº†å¼„æ¸…é‚£ä¸ºä»€ä¹ˆæœ‰å¸®åŠ©ï¼Œè®©æˆ‘ä»¬è€ƒè™‘ä¸€é¡¹ä»»åŠ¡ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦æ‰¾åˆ°å¸¦å¼•å·çš„å­—ç¬¦ä¸²ï¼šå•å¼•å· <code>subject:&#39;...&#39;</code> æˆ–åŒå¼•å· <code>subject:&quot;...&quot;</code>â€“ åº”åŒ¹é…ä¸¤ç§å˜ä½“ã€‚</p>
<p>å¦‚ä½•æ‰¾åˆ°å®ƒä»¬ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥å°†ä¸¤ç§å¼•å·æ”¾åœ¨æ–¹æ‹¬å·ä¸­ï¼š<code>pattern:[&#39;&quot;](.*?)[&#39;&quot;]</code>ï¼Œä½†å®ƒä¼šæ‰¾åˆ°å¸¦æœ‰æ··åˆå¼•å·çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ <code>match:&quot;...&#39;</code> å’Œ <code>match:&#39;...&quot;</code>ã€‚å½“ä¸€ç§å¼•å·å‡ºç°åœ¨å¦ä¸€ç§å¼•å·å†…ï¼Œæ¯”å¦‚åœ¨å­—ç¬¦ä¸² <code>subject:&quot;She&#39;s the one!&quot;</code> ä¸­æ—¶ï¼Œä¾¿ä¼šå¯¼è‡´ä¸æ­£ç¡®çš„åŒ¹é…ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">`He said: &quot;She&#x27;s the one!&quot;.`</span>;

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/[&#x27;&quot;](.*?)[&#x27;&quot;]/g</span>;

<span class="hljs-comment">// ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœ</span>
alert( str.match(regexp) ); <span class="hljs-comment">// &quot;She&#x27;</span></code></pre>
<p>å¦‚æˆ‘ä»¬æ‰€è§ï¼Œè¯¥æ¨¡å¼æ‰¾åˆ°äº†ä¸€ä¸ªå¼€å¤´çš„å¼•å· <code>match:&quot;</code>ï¼Œç„¶åæ–‡æœ¬è¢«åŒ¹é…ï¼Œç›´åˆ°å¦ä¸€ä¸ªå¼•å· <code>match:&#39;</code>ï¼Œè¯¥åŒ¹é…ç»“æŸã€‚</p>
<p>ä¸ºäº†ç¡®ä¿æ¨¡å¼æŸ¥æ‰¾çš„ç»“æŸå¼•å·ä¸å¼€å§‹çš„å¼•å·å®Œå…¨ç›¸åŒï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åŒ…è£…åˆ°æ•è·ç»„ä¸­å¹¶å¯¹å…¶è¿›è¡Œåå‘å¼•ç”¨ï¼š<code>pattern:([&#39;&quot;])(.*?)\1</code>ã€‚</p>
<p>è¿™æ˜¯æ­£ç¡®çš„ä»£ç ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">`He said: &quot;She&#x27;s the one!&quot;.`</span>;

*!*
<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/([&#x27;&quot;])(.*?)\1/g</span>;
*/!*

alert( str.match(regexp) ); <span class="hljs-comment">// &quot;She&#x27;s the one!&quot;</span></code></pre>
<p>ç°åœ¨å¯ä»¥äº†ï¼æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªå¼•å· <code>pattern:([&#39;&quot;])</code> å¹¶è®°ä½å…¶å†…å®¹ã€‚é‚£æ˜¯ç¬¬ä¸€ä¸ªæ•è·ç»„ã€‚</p>
<p><code>pattern:\1</code> åœ¨æ¨¡å¼ä¸­è¿›ä¸€æ­¥çš„å«ä¹‰æ˜¯â€œæŸ¥æ‰¾ä¸ç¬¬ä¸€ï¼ˆæ•è·ï¼‰åˆ†ç»„ç›¸åŒçš„æ–‡æœ¬â€ï¼Œåœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ä¸ºå®Œå…¨ç›¸åŒçš„å¼•å·ã€‚</p>
<p>ä¸æ­¤ç±»ä¼¼ï¼Œ<code>pattern:\2</code> è¡¨ç¤ºç¬¬äºŒï¼ˆæ•è·ï¼‰åˆ†ç»„çš„å†…å®¹ï¼Œ<code>pattern:\3</code> â€“ ç¬¬ä¸‰åˆ†ç»„ï¼Œä¾æ­¤ç±»æ¨ã€‚</p>
<pre><code class="language-smart">å¦‚æœæˆ‘ä»¬åœ¨ç»„ä¸­ä½¿ç”¨ `?:`ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†æ— æ³•å¼•ç”¨å®ƒã€‚ç”¨ `(?:...)` æ•è·çš„ç»„è¢«æ’é™¤ï¼Œå¼•æ“ä¸ä¼šå­˜å‚¨ã€‚</code></pre>
<p>```warn header=&quot;ä¸è¦ææ··äº†ï¼š åœ¨æ¨¡å¼ä¸­ç”¨ <code>pattern:\1</code>ï¼Œåœ¨æ›¿æ¢é¡¹ä¸­ç”¨ï¼š<code>pattern:$1</code>&quot;
åœ¨æ›¿æ¢å­—ç¬¦ä¸²ä¸­æˆ‘ä»¬ä½¿ç”¨ç¾å…ƒç¬¦å·ï¼š<code>pattern:$1</code>ï¼Œè€Œåœ¨æ¨¡å¼ä¸­ - ä½¿ç”¨åæ–œæ  <code>pattern:\1</code>ã€‚</p>
<pre><code>
## æŒ‰å‘½ååå‘å¼•ç”¨ï¼š`\k&lt;name&gt;`

å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰å¾ˆå¤šæ‹¬å·å¯¹ï¼ˆæ³¨ï¼šæ•è·ç»„ï¼‰ï¼Œç»™å®ƒä»¬èµ·ä¸ªåå­—æ–¹ä¾¿å¼•ç”¨ã€‚

è¦å¼•ç”¨å‘½åç»„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ï¼š`pattern:\k&lt;name&gt;`ã€‚

åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­å¼•å·ç»„å‘½åä¸º `pattern:?&lt;quote&gt;`ï¼Œå› æ­¤åå‘å¼•ç”¨ä¸º  `pattern:\k&lt;quote&gt;`ï¼š

```js run
let str = `He said: &quot;She&#x27;s the one!&quot;.`;

*!*
let regexp = /(?&lt;quote&gt;[&#x27;&quot;])(.*?)\k&lt;quote&gt;/g;
*/!*

alert( str.match(regexp) ); // &quot;She&#x27;s the one!&quot;</code></pre>

      </fieldset>
      
      <fieldset id='_rvy9Xk'>
      <legend>solution</legend>
      <p>ç¬¬ä¸€ä¸ªè§£æ³•æ˜¯åˆ—å‡ºæ‰€æœ‰è¯­è¨€ï¼Œä¸­é—´åŠ ä¸Š <code>|</code> ç¬¦å·ã€‚</p>
<p>ä½†æ˜¯è¿è¡Œä¸å¦‚æ‰€æ„¿ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/Java|JavaScript|PHP|C|C\+\+/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;Java, JavaScript, PHP, C, C++&quot;</span>;

alert( str.match(reg) ); <span class="hljs-comment">// Java,Java,PHP,C,C</span></code></pre>
<p>æ­£åˆ™è¡¨è¾¾å¼å¼•æ“æŸ¥æ‰¾é€‰æ‹©æ¨¡å¼çš„æ—¶æ˜¯æŒ¨ä¸ªæŸ¥æ‰¾çš„ã€‚æ„æ€æ˜¯ï¼šå®ƒå…ˆåŒ¹é…æ˜¯å¦å­˜åœ¨ <code>match:Java</code>ï¼Œå¦åˆ™ â€”â€” æ¥ç€åŒ¹é… <code>match:JavaScript</code> åŠå…¶åçš„å­—ç¬¦ä¸²ã€‚</p>
<p>ç»“æœï¼Œ<code>match:JavaScript</code> æ°¸è¿œåŒ¹é…ä¸åˆ°ï¼Œå› ä¸º <code>match:Java</code> å…ˆè¢«åŒ¹é…äº†ã€‚</p>
<p><code>match:C</code> å’Œ <code>match:C++</code> åŒç†ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ä¸ªè§£å†³åŠæ³•ï¼š</p>
<ol>
<li>å˜æ›´åŒ¹é…é¡ºåºï¼Œé•¿çš„å­—ç¬¦ä¸²ä¼˜å…ˆåŒ¹é…ï¼š<code>pattern:JavaScript|Java|C\+\+|C|PHP</code>ã€‚</li>
<li>åˆå¹¶ç›¸åŒå‰ç¼€ï¼š<code>pattern:Java(Script)?|C(\+\+)?|PHP</code>ã€‚</li>
</ol>
<p>è¿è¡Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/Java(Script)?|C(\+\+)?|PHP/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;Java, JavaScript, PHP, C, C++&quot;</span>;

alert( str.match(reg) ); <span class="hljs-comment">// Java,JavaScript,PHP,C,C++</span></code></pre>

      </fieldset>
      
      <fieldset id='_JzIUAi'>
      <legend>task</legend>
      <h1 id="æŸ¥æ‰¾ç¼–ç¨‹è¯­è¨€">æŸ¥æ‰¾ç¼–ç¨‹è¯­è¨€</h1>
<p>æœ‰è®¸å¤šç¼–ç¨‹è¯­è¨€ï¼Œä¾‹å¦‚ Java, JavaScript, PHP, C, C++ã€‚</p>
<p>æ„å»ºä¸€ä¸ªæ­£åˆ™å¼ï¼Œç”¨æ¥åŒ¹é…å­—ç¬¦ä¸² <code>subject:Java JavaScript PHP C++ C</code> ä¸­åŒ…å«çš„ç¼–ç¨‹è¯­è¨€ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/your regexp/g</span>;

alert(<span class="hljs-string">&quot;Java JavaScript PHP C++ C&quot;</span>.match(reg)); <span class="hljs-comment">// Java JavaScript PHP C++ C</span></code></pre>

      </fieldset>
      
      <fieldset id='_a2smzj'>
      <legend>solution</legend>
      <p>èµ·å§‹æ ‡ç­¾æ˜¯ <code>pattern:\[(b|url|quote)\]</code>ã€‚</p>
<p>åŒ¹é…å­—ç¬¦ä¸²ç›´åˆ°é‡åˆ°ç»“æŸæ ‡ç­¾ â€”â€” æ¨¡å¼ <code>pattern:[\s\S]*?</code> åŒ¹é…ä»»æ„å­—ç¬¦ï¼ŒåŒ…æ‹¬æ¢è¡Œå’Œç”¨äºç»“æŸæ ‡è®°çš„åå‘å¼•ç”¨ã€‚</p>
<p>å®Œæ•´æ¨¡å¼ä¸ºï¼š<code>pattern:\[(b|url|quote)\][\s\S]*?\[/\1\]</code>ã€‚</p>
<p>è¿è¡Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/\[(b|url|quote)\][\s\S]*?\[\/\1\]/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">`
  [b]hello![/b]
  [quote]
    [url]http://google.com[/url]
  [/quote]
`</span>;

alert( str.match(reg) ); <span class="hljs-comment">// [b]hello![/b],[quote][url]http://google.com[/url][/quote]</span></code></pre>
<p>è¯·æ³¨æ„æˆ‘ä»¬è¦è½¬ä¹‰ç»“æŸæ ‡ç­¾ <code>pattern:[/\1]</code> ä¸­çš„æ–œæ ï¼Œé€šå¸¸æ–œæ ä¼šå…³é—­æ¨¡å¼ã€‚</p>

      </fieldset>
      
      <fieldset id='_TrFFNb'>
      <legend>task</legend>
      <h1 id="æŸ¥æ‰¾-bbtag-å¯¹">æŸ¥æ‰¾ bbtag å¯¹</h1>
<p>â€œbb-tagâ€ å½¢å¦‚ <code>[tag]...[/tag]</code>ï¼Œ<code>tag</code> åŒ¹é… <code>b</code>ã€<code>url</code> æˆ– <code>quote</code> å…¶ä¸­ä¹‹ä¸€ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code>[b]text[/b]
[url]http://google.com[/url]</code></pre>
<p>BB-tags å¯ä»¥åµŒå¥—ã€‚ä½†æ ‡ç­¾ä¸èƒ½è‡ªåµŒå¥—ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code>å¯è¡Œï¼š
[url] [b]http://google.com[/b] [/url]
[quote] [b]text[/b] [/quote]

ä¸å¯è¡Œï¼š
[b][b]text[/b][/b]</code></pre>
<p>æ ‡ç­¾å¯ä»¥åŒ…å«æ¢è¡Œï¼Œé€šå¸¸ä¸ºä»¥ä¸‹å½¢å¼ï¼š</p>
<pre><code>[quote]
  [b]text[/b]
[/quote]</code></pre>
<p>æ„é€ ä¸€ä¸ªæ­£åˆ™å¼ç”¨äºæŸ¥æ‰¾æ‰€æœ‰ BB-tags å’Œå…¶å†…å®¹ã€‚</p>
<p>ä¸¾ä¾‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/your regexp/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;..[url]http://google.com[/url]..&quot;</span>;
alert( str.match(reg) ); <span class="hljs-comment">// [url]http://google.com[/url]</span></code></pre>
<p>å¦‚æœæ ‡ç­¾åµŒå¥—ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è®°å½•åŒ¹é…çš„å¤–å±‚æ ‡ç­¾ï¼ˆå¦‚æœå¸Œæœ›ç»§ç»­æŸ¥æ‰¾åŒ¹é…çš„æ ‡ç­¾å†…å®¹çš„è¯ï¼‰ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/your regexp/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;..[url][b]http://google.com[/b][/url]..&quot;</span>;
alert( str.match(reg) ); <span class="hljs-comment">// [url][b]http://google.com[/b][/url]</span></code></pre>

      </fieldset>
      
      <fieldset id='_rF31od'>
      <legend>solution</legend>
      <p>ç­”æ¡ˆæ˜¯ <code>pattern:/&quot;(\\.|[^&quot;\\])*&quot;/g</code>ã€‚</p>
<p>æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>é¦–å…ˆåŒ¹é…å·¦åŒå¼•å· <code>pattern:&quot;</code></li>
<li>æ¥ç€å¦‚æœæœ‰åæ–œæ  <code>pattern:\\</code>ï¼Œåˆ™åŒ¹é…å…¶åè·Ÿéšçš„ä»»æ„å­—ç¬¦ã€‚ï¼ˆæŠ€æœ¯ä¸Šï¼Œæˆ‘ä»¬å¿…é¡»åœ¨æ¨¡å¼ä¸­ç”¨åŒåæ–œæ ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ï¼Œä½†å®é™…ä¸Šæ˜¯ä¸€ä¸ªåæ–œæ å­—ç¬¦ï¼‰</li>
<li>å¦‚æœæ²¡æœ‰ï¼Œåˆ™åŒ¹é…é™¤åŒå¼•å·ï¼ˆå­—ç¬¦ä¸²çš„ç»“æŸï¼‰å’Œåæ–œæ ï¼ˆæ’é™¤ä»…å­˜åœ¨åæ–œæ çš„æƒ…å†µï¼Œåæ–œæ ä»…åœ¨å’Œå…¶åå­—ç¬¦ä¸€èµ·ä½¿ç”¨æ—¶æœ‰æ•ˆï¼‰å¤–çš„ä»»æ„å­—ç¬¦ï¼š<code>pattern:[^&quot;\\]</code></li>
<li>...ç»§ç»­åŒ¹é…ç›´åˆ°é‡åˆ°ååŒå¼•å·</li>
</ul>
<p>è¿è¡Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&quot;(\\.|[^&quot;\\])*&quot;/g</span>;
<span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27; .. &quot;test me&quot; .. &quot;Say \\&quot;Hello\\&quot;!&quot; .. &quot;\\\\ \\&quot;&quot; .. &#x27;</span>;

alert( str.match(reg) ); <span class="hljs-comment">// &quot;test me&quot;,&quot;Say \&quot;Hello\&quot;!&quot;,&quot;\\ \&quot;&quot;</span></code></pre>

      </fieldset>
      
      <fieldset id='_g8iZqK'>
      <legend>task</legend>
      <h1 id="æŸ¥è¯¢å¼•ç”¨å­—ç¬¦ä¸²">æŸ¥è¯¢å¼•ç”¨å­—ç¬¦ä¸²</h1>
<p>æ„å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ç”¨äºåŒ¹é…åŒå¼•å·å†…çš„å­—ç¬¦ä¸² <code>subject:&quot;...&quot;</code>ã€‚</p>
<p>æœ€é‡è¦çš„éƒ¨åˆ†æ˜¯å­—ç¬¦ä¸²åº”è¯¥æ”¯æŒè½¬ä¹‰ï¼Œæ­£å¦‚ JavaScript å­—ç¬¦ä¸²çš„è¡Œä¸ºä¸€æ ·ã€‚ä¾‹å¦‚ï¼Œå¼•å·å¯ä»¥æ’å…¥ä¸º <code>subject:\&quot;</code>ï¼Œæ¢è¡Œç¬¦ä¸º <code>subject:\n</code>ï¼Œæ–œæ æœ¬èº«ä¸º <code>subject:\\</code>ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;Just like \&quot;here\&quot;.&quot;</span>;</code></pre>
<p>å¯¹æˆ‘ä»¬æ¥è¯´ï¼Œé‡è¦çš„æ˜¯è½¬ä¹‰çš„å¼•å· <code>subject:\&quot;</code> ä¸ä¼šç»“æŸå­—ç¬¦ä¸²åŒ¹é…ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥åŒ¹é…ä¸¤ä¸ªå¼•å·ä¹‹é—´çš„å†…å®¹ï¼Œä¸”å¿½ç•¥ä¸­é—´è½¬ä¹‰çš„å¼•å·ã€‚</p>
<p>è¿™æ˜¯ä»»åŠ¡çš„å…³é”®éƒ¨åˆ†ï¼Œå¦åˆ™è¿™ä¸ªä»»åŠ¡å°±æ²¡ä»€ä¹ˆæ„æ€äº†ã€‚</p>
<p>åŒ¹é…å­—ç¬¦ä¸²ç¤ºä¾‹ï¼š</p>
<pre><code class="language-js">.. *!*<span class="hljs-string">&quot;test me&quot;</span>*/!* ..  
.. *!*<span class="hljs-string">&quot;Say \&quot;Hello\&quot;!&quot;</span>*/!* ... (escaped quotes inside)
.. *!*<span class="hljs-string">&quot;\\&quot;</span>*/!* ..  (double slash inside)
.. *!*<span class="hljs-string">&quot;\\ \&quot;&quot;</span>*/!* ..  (double slash and an escaped quote inside)</code></pre>
<p>åœ¨ JavaScript ä¸­ï¼ŒåŒæ–œæ ç”¨äºæŠŠæ–œæ è½¬ä¹‰ä¸ºå­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27; .. &quot;test me&quot; .. &quot;Say \\&quot;Hello\\&quot;!&quot; .. &quot;\\\\ \\&quot;&quot; .. &#x27;</span>;

<span class="hljs-comment">// the in-memory string</span>
alert(str); <span class="hljs-comment">//  .. &quot;test me&quot; .. &quot;Say \&quot;Hello\&quot;!&quot; .. &quot;\\ \&quot;&quot; ..</span></code></pre>

      </fieldset>
      
      <fieldset id='_W8DVRG'>
      <legend>solution</legend>
      <p>æ¨¡å¼çš„å¼€å¤´æ˜¾è€Œæ˜“è§ï¼š<code>pattern:&lt;style</code>ã€‚</p>
<p>...ç„¶è€Œä¸èƒ½ç®€å•åœ°å†™å‡º <code>pattern:&lt;style.*?&gt;</code> è¿™æ ·çš„è¡¨è¾¾å¼ï¼Œå› ä¸ºä¼šåŒæ—¶åŒ¹é… <code>match:&lt;styler&gt;</code>ã€‚</p>
<p>è¦ä¹ˆåŒ¹é… <code>match:&lt;style</code> åçš„ä¸€ä¸ªç©ºæ ¼ï¼Œç„¶ååŒ¹é…ä»»æ„å†…å®¹ï¼›è¦ä¹ˆç›´æ¥åŒ¹é…ç»“æŸç¬¦å· <code>match:&gt;</code>ã€‚</p>
<p>æœ€ç»ˆçš„æ­£åˆ™è¡¨è¾¾å¼ä¸ºï¼š<code>pattern:&lt;style(&gt;|\s.*?&gt;)</code>ã€‚</p>
<p>è¿è¡Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/&lt;style(&gt;|\s.*?&gt;)/g</span>;

alert( <span class="hljs-string">&#x27;&lt;style&gt; &lt;styler&gt; &lt;style test=&quot;...&quot;&gt;&#x27;</span>.match(reg) ); <span class="hljs-comment">// &lt;style&gt;, &lt;style test=&quot;...&quot;&gt;</span></code></pre>

      </fieldset>
      
      <fieldset id='_n5crwV'>
      <legend>task</legend>
      <h1 id="æŸ¥æ‰¾å®Œæ•´æ ‡ç­¾">æŸ¥æ‰¾å®Œæ•´æ ‡ç­¾</h1>
<p>å†™å‡ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºæŸ¥æ‰¾ <code>&lt;style...&gt;</code> æ ‡ç­¾ã€‚å®ƒåº”è¯¥åŒ¹é…å®Œæ•´çš„æ ‡ç­¾ï¼šè¯¥æ ‡ç­¾å¯èƒ½æ˜¯æ²¡æœ‰å±æ€§çš„æ ‡ç­¾ <code>&lt;style&gt;</code> æˆ–æ˜¯æœ‰å¾ˆå¤šå±æ€§çš„æ ‡ç­¾ <code>&lt;style type=&quot;...&quot; id=&quot;...&quot;&gt;</code>ã€‚</p>
<p>...åŒæ—¶æ­£åˆ™è¡¨è¾¾å¼ä¸åº”è¯¥åŒ¹é… <code>&lt;styler&gt;</code>ï¼</p>
<p>ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/your regexp/g</span>;

alert( <span class="hljs-string">&#x27;&lt;style&gt; &lt;styler&gt; &lt;style test=&quot;...&quot;&gt;&#x27;</span>.match(reg) ); <span class="hljs-comment">// &lt;style&gt;, &lt;style test=&quot;...&quot;&gt;</span></code></pre>

      </fieldset>
      
      <fieldset id='_kK1HTh'>
      <legend>article</legend>
      <h1 id="é€‰æ‹©ï¼ˆorï¼‰">é€‰æ‹©ï¼ˆORï¼‰|</h1>
<p>é€‰æ‹©æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ä¸€ä¸ªæœ¯è¯­ï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªç®€å•çš„â€œæˆ–â€ã€‚</p>
<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå®ƒç”¨ç«–çº¿ <code>pattern:|</code> è¡¨ç¤ºã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºç¼–ç¨‹è¯­è¨€ï¼šHTMLã€PHPã€Java æˆ– JavaScriptã€‚</p>
<p>å¯¹åº”çš„æ­£åˆ™è¡¨è¾¾å¼ä¸ºï¼š<code>pattern:html|php|java(script)?</code>ã€‚</p>
<p>ç”¨ä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/html|php|css|java(script)?/gi</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;First HTML appeared, then CSS, then JavaScript&quot;</span>;

alert( str.match(reg) ); <span class="hljs-comment">// &#x27;HTML&#x27;, &#x27;CSS&#x27;, &#x27;JavaScript&#x27;</span></code></pre>
<p>æˆ‘ä»¬å·²çŸ¥çš„ä¸€ä¸ªç›¸ä¼¼ç¬¦å· â€”â€” æ–¹æ‹¬å·ã€‚å°±å…è®¸åœ¨è®¸å¤šå­—ç¬¦ä¸­è¿›è¡Œé€‰æ‹©ï¼Œä¾‹å¦‚ <code>pattern:gr[ae]y</code> åŒ¹é… <code>match:gray</code> æˆ– <code>match:grey</code>ã€‚</p>
<p>é€‰æ‹©ç¬¦å·å¹¶éåœ¨å­—ç¬¦çº§åˆ«ç”Ÿæ•ˆï¼Œè€Œæ˜¯åœ¨è¡¨è¾¾å¼çº§åˆ«ã€‚æ­£åˆ™è¡¨è¾¾å¼ <code>pattern:A|B|C</code> æ„æ€æ˜¯å‘½ä¸­ <code>A</code>ã€<code>B</code> æˆ– <code>C</code> å…¶ä¸€å‡å¯ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>pattern:gr(a|e)y</code> ä¸¥æ ¼ç­‰åŒ <code>pattern:gr[ae]y</code>ã€‚</li>
<li><code>pattern:gra|ey</code> åŒ¹é… &quot;gra&quot; or &quot;ey&quot;ã€‚</li>
</ul>
<p>æˆ‘ä»¬é€šå¸¸ç”¨åœ†æ‹¬å·æŠŠæ¨¡å¼ä¸­çš„é€‰æ‹©éƒ¨åˆ†æ‹¬èµ·æ¥ï¼Œåƒè¿™æ · <code>pattern:before(XXX|YYY)after</code>ã€‚</p>
<h2 id="æ—¶é—´æ­£åˆ™è¡¨è¾¾å¼">æ—¶é—´æ­£åˆ™è¡¨è¾¾å¼</h2>
<p>åœ¨ä¹‹å‰çš„ç« èŠ‚ä¸­æœ‰ä¸ªä»»åŠ¡æ˜¯æ„å»ºç”¨äºæŸ¥æ‰¾å½¢å¦‚ <code>hh:mm</code> çš„æ—¶é—´å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ <code>12:00</code>ã€‚ä½†æ˜¯ç®€å•çš„ <code>pattern:\d\d:\d\d</code> è¿‡äºæ¨¡ç³Šã€‚å®ƒåŒæ—¶åŒ¹é… <code>25:99</code>ã€‚</p>
<p>å¦‚ä½•æ„å»ºæ›´ä¼˜çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥åº”ç”¨åˆ°æ›´å¤šçš„ä¸¥æ ¼åŒ¹é…ç»“æœä¸­ï¼š</p>
<ul>
<li>é¦–ä¸ªåŒ¹é…æ•°å­—å¿…é¡»æ˜¯ <code>0</code> æˆ– <code>1</code>ï¼ŒåŒæ—¶å…¶åè¿˜è¦è·Ÿéšä»»ä¸€æ•°å­—ã€‚</li>
<li>æˆ–è€…æ˜¯æ•°å­— <code>2</code> ä¹‹åè·Ÿéš <code>pattern:[0-3]</code>ã€‚</li>
</ul>
<p>æ„å»ºæ­£åˆ™è¡¨è¾¾å¼ï¼š<code>pattern:[01]\d|2[0-3]</code>ã€‚</p>
<p>æ¥ç€å¯ä»¥æ·»åŠ å†’å·å’Œåˆ†é’Ÿçš„éƒ¨åˆ†ã€‚</p>
<p>åˆ†é’Ÿçš„éƒ¨åˆ†å¿…é¡»åœ¨ <code>0</code> åˆ° <code>59</code> åŒºé—´ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼è¯­è¨€ä¸­å«ä¹‰ä¸ºé¦–ä¸ªåŒ¹é…æ•°å­— <code>pattern:[0-5]</code> å…¶åè·Ÿéšä»»ä¸€æ•°å­— <code>\d</code>ã€‚</p>
<p>æŠŠå®ƒä»¬æ‹¼æ¥åœ¨ä¸€èµ·å½¢æˆæœ€ç»ˆçš„æ¨¡å¼ <code>pattern:[01]\d|2[0-3]:[0-5]\d</code>ã€‚</p>
<p>å¿«å¤§åŠŸå‘Šæˆäº†ï¼Œä½†ä»ç„¶å­˜åœ¨ä¸€ä¸ªé—®é¢˜ã€‚é€‰æ‹©ç¬¦ <code>|</code> åœ¨ <code>pattern:[01]\d</code> å’Œ <code>pattern:2[0-3]:[0-5]\d</code> ä¹‹é—´ã€‚è¿™æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºå®ƒåªåŒ¹é…ç¬¦å·å·¦ä¾§æˆ–å³ä¾§ä»»ä¸€è¡¨è¾¾å¼ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/[01]\d|2[0-3]:[0-5]\d/g</span>;

alert(<span class="hljs-string">&quot;12&quot;</span>.match(reg)); <span class="hljs-comment">// 12 (matched [01]\d)</span></code></pre>
<p>è¿™ä¸ªé”™è¯¯ç›¸å½“æ˜æ˜¾ï¼Œä½†ä¹Ÿæ˜¯åˆå­¦æ­£åˆ™è¡¨è¾¾å¼çš„å¸¸è§é”™è¯¯ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªæ’å…¥è¯­ç”¨äºåŒ¹é…æ—¶é’Ÿï¼š<code>[01]\d</code> æˆ– <code>2[0-3]</code>ã€‚</p>
<p>ä»¥ä¸‹ä¸ºæ­£ç¡®ç‰ˆæœ¬ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/([01]\d|2[0-3]):[0-5]\d/g</span>;

alert(<span class="hljs-string">&quot;00:00 10:10 23:59 25:99 1:2&quot;</span>.match(reg)); <span class="hljs-comment">// 00:00,10:10,23:59</span></code></pre>

      </fieldset>
      
      <fieldset id='_Nd7jDo'>
      <legend>solution</legend>
      <p>The regexp for an integer number is <code>pattern:\d+</code>.</p>
<p>We can exclude negatives by prepending it with the negative lookahead: <code>pattern:(?&lt;!-)\d+</code>.</p>
<p>Although, if we try it now, we may notice one more &quot;extra&quot; result:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/(?&lt;!-)\d+/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;0 12 -5 123 -18&quot;</span>;

<span class="hljs-built_in">console</span>.log( str.match(regexp) ); <span class="hljs-comment">// 0, 12, 123, *!*8*/!*</span></code></pre>
<p>As you can see, it matches <code>match:8</code>, from <code>subject:-18</code>. To exclude it, we need to ensure that the regexp starts matching a number not from the middle of another (non-matching) number.</p>
<p>We can do it by specifying another negative lookbehind: <code>pattern:(?&lt;!-)(?&lt;!\d)\d+</code>. Now <code>pattern:(?&lt;!\d)</code> ensures that a match does not start after another digit, just what we need.</p>
<p>We can also join them into a single lookbehind here:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/(?&lt;![-\d])\d+/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;0 12 -5 123 -18&quot;</span>;

alert( str.match(regexp) ); <span class="hljs-comment">// 0, 12, 123</span></code></pre>

      </fieldset>
      
      <fieldset id='_kspaBl'>
      <legend>task</legend>
      <h1 id="find-non-negative-integers">Find non-negative integers</h1>
<p>There&#39;s a string of integer numbers.</p>
<p>Create a regexp that looks for only non-negative ones (zero is allowed).</p>
<p>An example of use:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/your regexp/g</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;0 12 -5 123 -18&quot;</span>;

alert( str.match(regexp) ); <span class="hljs-comment">// 0, 12, 123</span></code></pre>

      </fieldset>
      
      <fieldset id='_FM2WpC'>
      <legend>solution</legend>
      <p>Ğ”Ğ»Ñ Ñ‚Ğ¾Ğ³Ğ¾, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ²ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑĞ»Ğµ Ñ‚ĞµĞ³Ğ° <code>&lt;body&gt;</code>, Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ²Ğ½Ğ°Ñ‡Ğ°Ğ»Ğµ ĞµĞ³Ğ¾ Ğ½Ğ°Ğ¹Ñ‚Ğ¸. Ğ‘ÑƒĞ´ĞµĞ¼ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ğ¾Ğµ Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ <code>pattern:&lt;body.*&gt;</code>.</p>
<p>Ğ”Ğ°Ğ»ĞµĞµ, Ğ½Ğ°Ğ¼ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ°Ğ¼ Ñ‚ĞµĞ³ <code>&lt;body&gt;</code> Ğ½Ğ° Ğ¼ĞµÑÑ‚Ğµ Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ‚ĞµĞºÑÑ‚ Ğ¿Ğ¾ÑĞ»Ğµ Ğ½ĞµĞ³Ğ¾.</p>
<p>Ğ­Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ²Ğ¾Ñ‚ Ñ‚Ğ°Ğº:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;...&lt;body style=&quot;...&quot;&gt;...&#x27;</span>;
str = str.replace(<span class="hljs-regexp">/&lt;body.*&gt;/</span>, <span class="hljs-string">&#x27;$&amp;&lt;h1&gt;Hello&lt;/h1&gt;&#x27;</span>);

alert(str); <span class="hljs-comment">// ...&lt;body style=&quot;...&quot;&gt;&lt;h1&gt;Hello&lt;/h1&gt;...</span></code></pre>
<p>Ğ’ ÑÑ‚Ñ€Ğ¾ĞºĞµ Ğ·Ğ°Ğ¼ĞµĞ½Ñ‹ <code>$&amp;</code> Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ°ĞµÑ‚ ÑĞ°Ğ¼Ğ¾ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ, Ñ‚Ğ¾ ĞµÑÑ‚ÑŒ Ğ¼Ñ‹ Ğ·Ğ°Ğ¼ĞµĞ½ÑĞµĞ¼ <code>pattern:&lt;body.*&gt;</code> Ğ·Ğ°Ğ¼ĞµĞ½ÑĞµÑ‚ÑÑ Ğ½Ğ° ÑĞ°Ğ¼Ğ¾Ğ³Ğ¾ ÑĞµĞ±Ñ Ğ¿Ğ»ÑÑ <code>&lt;h1&gt;Hello&lt;/h1&gt;</code>.</p>
<p>ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ - Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµÑ‚Ñ€Ğ¾ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ğ½ÑƒÑ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºÑƒ:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;...&lt;body style=&quot;...&quot;&gt;...&#x27;</span>;
str = str.replace(<span class="hljs-regexp">/(?&lt;=&lt;body.*&gt;)/</span>, <span class="hljs-string">`&lt;h1&gt;Hello&lt;/h1&gt;`</span>);

alert(str); <span class="hljs-comment">// ...&lt;body style=&quot;...&quot;&gt;&lt;h1&gt;Hello&lt;/h1&gt;...</span></code></pre>
<p>Ğ¢Ğ°ĞºĞ¾Ğµ Ñ€ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ğ¾Ğµ Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑÑ‚ÑŒ, Ğ½Ğµ Ğ¸Ğ´Ñ‘Ñ‚ Ğ»Ğ¸ Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ¿ĞµÑ€ĞµĞ´ Ğ½ĞµĞ¹ <code>pattern:&lt;body.*&gt;</code>. Ğ•ÑĞ»Ğ¸ Ğ´Ğ° - ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾. ĞĞ¾ ÑĞ°Ğ¼ Ñ‚ĞµĞ³ <code>pattern:&lt;body.*&gt;</code> Ğ² ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ Ğ½Ğµ Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚, Ğ¾Ğ½ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑƒÑ‡Ğ°ÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ² Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞµ. Ğ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ² Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ² Ğ½Ñ‘Ğ¼ Ğ½ĞµÑ‚, Ñ‚Ğ°Ğº Ñ‡Ñ‚Ğ¾ Ñ‚ĞµĞºÑÑ‚ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ñ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼.</p>
<p>ĞŸÑ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ·Ğ°Ğ¼ĞµĞ½Ğ° &quot;Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞ¸&quot;, Ğ¿ĞµÑ€ĞµĞ´ ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ¸Ğ´Ñ‘Ñ‚ <code>pattern:&lt;body.*&gt;</code> Ğ½Ğ° <code>&lt;h1&gt;Hello&lt;/h1&gt;</code>. Ğ§Ñ‚Ğ¾, ĞºĞ°Ğº Ñ€Ğ°Ğ·, Ğ¸ ĞµÑÑ‚ÑŒ Ğ²ÑÑ‚Ğ°Ğ²ĞºĞ° ÑÑ‚Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ğ¿Ğ¾ÑĞ»Ğµ <code>&lt;body&gt;</code>.</p>
<p>P.S. Ğ­Ñ‚Ğ¾Ğ¼Ñƒ Ñ€ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ğ¾Ğ¼Ñƒ Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ½Ğµ Ğ¿Ğ¾Ğ¼ĞµÑˆĞ°ÑÑ‚ Ñ„Ğ»Ğ°Ğ³Ğ¸: <code>pattern:/&lt;body.*&gt;/si</code>, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ² &quot;Ñ‚Ğ¾Ñ‡ĞºÑƒ&quot; Ğ²Ñ…Ğ¾Ğ´Ğ¸Ğ» Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ (Ñ‚ĞµĞ³ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ ÑÑ‚Ñ€Ğ¾Ğº), Ğ° Ñ‚Ğ°ĞºĞ¶Ğµ Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ñ‚ĞµĞ³Ğ¸ Ğ² Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¼ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğµ Ñ‚Ğ¸Ğ¿Ğ° <code>match:&lt;BODY&gt;</code> Ñ‚Ğ¾Ğ¶Ğµ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ğ»Ğ¸ÑÑŒ.</p>

      </fieldset>
      
      <fieldset id='_DPJMss'>
      <legend>task</legend>
      <h1 id="Ğ²ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ-Ğ¿Ğ¾ÑĞ»Ğµ-Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ°">Ğ’ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ğ¿Ğ¾ÑĞ»Ğµ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ°</h1>
<p>Ğ•ÑÑ‚ÑŒ ÑÑ‚Ñ€Ğ¾ĞºĞ° Ñ HTML-Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ¼.</p>
<p>Ğ’ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ğ¿Ğ¾ÑĞ»Ğµ Ñ‚ĞµĞ³Ğ° <code>&lt;body&gt;</code> (Ñƒ Ğ½ĞµĞ³Ğ¾ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ñ‹) ÑÑ‚Ñ€Ğ¾ĞºÑƒ <code>&lt;h1&gt;Hello&lt;/h1&gt;</code>.</p>
<p>ĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/Ğ²Ğ°ÑˆĞµ Ñ€ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ğ¾Ğµ Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ/</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">`
&lt;html&gt;
  &lt;body style=&quot;height: 200px&quot;&gt;
  ...
  &lt;/body&gt;
&lt;/html&gt;
`</span>;

str = str.replace(regexp, <span class="hljs-string">`&lt;h1&gt;Hello&lt;/h1&gt;`</span>);</code></pre>
<p>ĞŸĞ¾ÑĞ»Ğµ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ <code>str</code>:</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height: 200px&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  ...
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>

      </fieldset>
      
      <fieldset id='_SMJ9jP'>
      <legend>article</legend>
      <h1 id="å‰ç»æ–­è¨€ä¸åç»æ–­è¨€">å‰ç»æ–­è¨€ä¸åç»æ–­è¨€</h1>
<p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åŒ¹é…åé¢è·Ÿç€ç‰¹å®šæ¨¡å¼çš„ä¸€æ®µæ¨¡å¼ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦ä» <code>subject:1 turkey costs 30â‚¬</code> è¿™æ®µå­—ç¬¦ä¸­åŒ¹é…ä»·æ ¼æ•°å€¼ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦è·å– <code>subject:â‚¬</code> ç¬¦å·å‰é¢çš„æ•°å€¼ï¼ˆå‡è®¾ä»·æ ¼æ˜¯æ•´æ•°ï¼‰ã€‚</p>
<p>é‚£å°±æ˜¯å‰ç»æ–­è¨€è¦åšçš„äº‹æƒ…ã€‚</p>
<h2 id="å‰ç»æ–­è¨€">å‰ç»æ–­è¨€</h2>
<p>è¯­æ³•ä¸ºï¼š<code>pattern:x(?=y)</code>ï¼Œå®ƒè¡¨ç¤º â€œåŒ¹é… <code>pattern:x</code>, ä»…åœ¨åé¢æ˜¯ <code>pattern:y</code> çš„æƒ…å†µ&quot;â€</p>
<p>é‚£ä¹ˆå¯¹äºä¸€ä¸ªåé¢è·Ÿç€ <code>â‚¬</code> çš„æ•´æ•°é‡‘é¢ï¼Œå®ƒçš„æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥ä¸ºï¼š<code>pattern:\d+(?=â‚¬)</code>ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;1 turkey costs 30â‚¬&quot;</span>;

alert( str.match(<span class="hljs-regexp">/\d+(?=â‚¬)/</span>) ); <span class="hljs-comment">// 30 ï¼ˆæ­£ç¡®åœ°è·³è¿‡äº†å•ä¸ªçš„æ•°å­— 1ï¼‰</span></code></pre>
<p>è®©æˆ‘ä»¬æ¥çœ‹å¦ä¸€ç§æƒ…å†µï¼šè¿™æ¬¡æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªæ•°é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸è¢« <code>subject:â‚¬</code> è·Ÿç€çš„æ•°å€¼ã€‚</p>
<p>è¿™é‡Œå°±è¦ç”¨åˆ°å‰ç»å¦å®šæ–­è¨€äº†ã€‚</p>
<p>è¯­æ³•ä¸ºï¼š<code>pattern:x(?!y)</code>ï¼Œæ„æ€æ˜¯ &quot;æŸ¥æ‰¾ <code>pattern:x</code>, ä½†æ˜¯ä»…åœ¨ä¸è¢« <code>pattern:y</code> è·Ÿéšçš„æƒ…å†µä¸‹åŒ¹é…æˆåŠŸ&quot;ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;2 turkeys cost 60â‚¬&quot;</span>;

alert( str.match(<span class="hljs-regexp">/\d+(?!â‚¬)/</span>) ); <span class="hljs-comment">// 2ï¼ˆæ­£ç¡®åœ°è·³è¿‡äº†ä»·æ ¼ï¼‰</span></code></pre>
<h2 id="åç»æ–­è¨€">åç»æ–­è¨€</h2>
<p>å‰ç»æ–­è¨€å…è®¸æ·»åŠ ä¸€ä¸ªâ€œåé¢è¦è·Ÿç€ä»€ä¹ˆâ€çš„æ¡ä»¶åˆ¤æ–­ã€‚</p>
<p>åç»æ–­è¨€ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œåªä¸è¿‡å®ƒæ˜¯åœ¨ç›¸åçš„æ–¹å‘ä¸Šè¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåªå…è®¸åŒ¹é…å‰é¢æœ‰ç‰¹å®šå­—ç¬¦ä¸²çš„æ¨¡å¼ã€‚</p>
<p>è¯­æ³•ä¸º:</p>
<ul>
<li>åç»è‚¯å®šæ–­è¨€ï¼š<code>pattern:(?&lt;=y)x</code>, åŒ¹é… <code>pattern:x</code>, ä»…åœ¨å‰é¢æ˜¯ <code>pattern:y</code> çš„æƒ…å†µã€‚</li>
<li>åç»å¦å®šæ–­è¨€ï¼š<code>pattern:(?&lt;!y)x</code>, åŒ¹é… <code>pattern:x</code>, ä»…åœ¨å‰é¢ä¸æ˜¯ <code>pattern:y</code> çš„æƒ…å†µã€‚</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œè®©æˆ‘ä»¬æŠŠä»·æ ¼æ¢æˆç¾å…ƒã€‚ç¾å…ƒç¬¦å·é€šå¸¸åœ¨æ•°å­—ä¹‹å‰ï¼Œæ‰€ä»¥è¦æŸ¥æ‰¾ <code>$30</code> æˆ‘ä»¬å°†ä½¿ç”¨ <code>pattern:(?&lt;=\$)\d+</code> â€”â€” ä¸€ä¸ªå‰é¢å¸¦ <code>subject:$</code> çš„æ•°å€¼ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;1 turkey costs $30&quot;</span>;

alert( str.match(<span class="hljs-regexp">/(?&lt;=\$)\d+/</span>) ); <span class="hljs-comment">// 30 ï¼ˆè·³è¿‡äº†å•ä¸ªçš„æ•°å­— 1ï¼‰</span></code></pre>
<p>å¦å¤–ï¼Œä¸ºäº†æ‰¾åˆ°æ•°é‡ â€”â€” ä¸€ä¸ªå‰é¢ä¸å¸¦ <code>subject:$</code> çš„æ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦å®šåç»æ–­è¨€ï¼š<code>pattern:(?&lt;!\$)\d+</code></p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;2 turkeys cost $60&quot;</span>;

alert( str.match(<span class="hljs-regexp">/(?&lt;!\$)\d+/</span>) ); <span class="hljs-comment">// 2 (è·³è¿‡äº†ä»·æ ¼)</span></code></pre>
<h2 id="æ•è·ç»„">æ•è·ç»„</h2>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œç¯è§†æ–­è¨€æ‹¬å·ä¸­ï¼ˆå‰ç»å’Œåç»çš„é€šç”¨åç§°ï¼‰çš„å†…å®¹ä¸ä¼šæˆä¸ºåŒ¹é…åˆ°çš„ä¸€éƒ¨åˆ†ç»“æœã€‚</p>
<p>ä¾‹å¦‚ï¼šåœ¨æ¨¡å¼ <code>pattern:\d+(?!â‚¬)</code> ä¸­ï¼Œ<code>pattern:â‚¬</code> ç¬¦å·å°±ä¸ä¼šå‡ºç°åœ¨åŒ¹é…ç»“æœä¸­ã€‚</p>
<p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦æ•æ‰æ•´ä¸ªç¯è§†è¡¨è¾¾å¼æˆ–å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹Ÿæ˜¯æœ‰å¯èƒ½çš„ã€‚åªéœ€è¦å°†å…¶åŒ…è£¹åœ¨å¦åŠ çš„æ‹¬å·ä¸­ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¿™é‡Œè´§å¸ç¬¦å· <code>pattern:(â‚¬|kr)</code> å’Œé‡‘é¢ä¸€èµ·è¢«æ•è·äº†ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;1 turkey costs 30â‚¬&quot;</span>;
<span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/\d+(?=(â‚¬|kr))/</span>; <span class="hljs-comment">// â‚¬|kr ä¸¤è¾¹æœ‰é¢å¤–çš„æ‹¬å·</span>

alert( str.match(reg) ); <span class="hljs-comment">// 30, â‚¬</span></code></pre>
<p>åç»æ–­è¨€ä¹Ÿä¸€æ ·ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;1 turkey costs $30&quot;</span>;
<span class="hljs-keyword">let</span> reg = <span class="hljs-regexp">/(?&lt;=(\$|Â£))\d+/</span>;

alert( str.match(reg) ); <span class="hljs-comment">// 30, $</span></code></pre>
<p>è¯·æ³¨æ„ï¼Œå¯¹äºåç»æ–­è¨€ï¼Œé¡ºåºä¿æŒä¸å˜ï¼Œå°½ç®¡å‰ç»æ‹¬å·åœ¨ä¸»æ¨¡å¼ä¹‹å‰ã€‚</p>
<p>é€šå¸¸æ‹¬å·æ˜¯ä»å·¦åˆ°å³ç¼–å·ï¼Œä½†æ˜¯åç»æ–­è¨€æ˜¯ä¸€ä¸ªä¾‹å¤–ï¼Œå®ƒæ€»æ˜¯åœ¨ä¸»æ¨¡å¼ä¹‹åè¢«æ•è·ã€‚æ‰€ä»¥ <code>pattern:\d+</code> çš„åŒ¹é…ä¼šé¦–å…ˆè¿›å…¥ç»“æœæ•°ç»„ï¼Œç„¶åæ˜¯ <code>pattern:(\$|Â£)</code>ã€‚</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>å½“æˆ‘ä»¬æƒ³æ ¹æ®å‰é¢/åé¢çš„ä¸Šä¸‹æ–‡ç­›é€‰å‡ºä¸€äº›ä¸œè¥¿çš„æ—¶å€™ï¼Œå‰ç»æ–­è¨€å’Œåç»æ–­è¨€ï¼ˆé€šå¸¸è¢«ç§°ä¸ºâ€œç¯è§†æ–­è¨€â€ï¼‰å¯¹äºç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼å°±å¾ˆæœ‰ç”¨ã€‚</p>
<p>æœ‰æ—¶æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å¤„ç†æ¥å¾—åˆ°ç›¸åŒçš„ç»“æœï¼Œå³ï¼šåŒ¹é…æ‰€æœ‰ï¼Œç„¶ååœ¨å¾ªç¯ä¸­æŒ‰ä¸Šä¸‹æ–‡è¿›è¡Œç­›é€‰ã€‚è¯·è®°ä½ï¼Œ<code>str.matchAll</code> å’Œ<code>reg.exec</code> è¿”å›çš„åŒ¹é…ç»“æœæœ‰ <code>.index</code> å±æ€§ï¼Œå› æ­¤æˆ‘ä»¬èƒ½çŸ¥é“å®ƒåœ¨æ–‡æœ¬ä¸­çš„ç¡®åˆ‡ä½ç½®ã€‚ä½†é€šå¸¸æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥åšå¾—æ›´å¥½ã€‚</p>
<p>ç¯è§†æ–­è¨€ç±»å‹:</p>
<table>
<thead>
<tr>
<th>æ¨¡å¼</th>
<th>ç±»å‹</th>
<th>åŒ¹é…</th>
</tr>
</thead>
<tbody><tr>
<td><code>pattern:x(?=y)</code></td>
<td>å‰ç»è‚¯å®šæ–­è¨€</td>
<td><code>x</code> ï¼Œä»…å½“åé¢è·Ÿç€ <code>y</code></td>
</tr>
<tr>
<td><code>pattern:x(?!y)</code></td>
<td>å‰ç»å¦å®šæ–­è¨€</td>
<td><code>x</code> ï¼Œä»…å½“åé¢ä¸è·Ÿ <code>y</code></td>
</tr>
<tr>
<td><code>pattern:(?&lt;=y)x</code></td>
<td>åç»è‚¯å®šæ–­è¨€</td>
<td><code>x</code> ï¼Œä»…å½“è·Ÿåœ¨ <code>y</code> åé¢</td>
</tr>
<tr>
<td><code>pattern:(?&lt;!y)x</code></td>
<td>åç»å¦å®šæ–­è¨€</td>
<td><code>x</code> ï¼Œä»…å½“ä¸è·Ÿåœ¨ <code>y</code> åé¢</td>
</tr>
</tbody></table>
<p>å‰ç»æ–­è¨€ä¹Ÿå¯ç”¨äºç¦ç”¨å›æº¯ã€‚ä¸ºä»€ä¹ˆå®ƒæ˜¯éœ€è¦çš„ - è¯·çœ‹ä¸‹ä¸€ç« ã€‚</p>

      </fieldset>
      
      <fieldset id='_NGO3Hd'>
      <legend>article</legend>
      <h1 id="catastrophic-backtracking">Catastrophic backtracking</h1>
<p>Some regular expressions are looking simple, but can execute veeeeeery long time, and even &quot;hang&quot; the JavaScript engine.</p>
<p>Sooner or later most developers occasionally face such behavior, because it&#39;s quite easy to create such a regexp.</p>
<p>The typical symptom -- a regular expression works fine sometimes, but for certain strings it &quot;hangs&quot;, consuming 100% of CPU.</p>
<p>In such case a web-browser suggests to kill the script and reload the page. Not a good thing for sure.</p>
<p>For server-side JavaScript it may become a vulnerability if regular expressions process user data.</p>
<h2 id="example">Example</h2>
<p>Let&#39;s say we have a string, and we&#39;d like to check if it consists of words  <code>pattern:\w+</code> with an optional space <code>pattern:\s?</code> after each.</p>
<p>We&#39;ll use a regexp <code>pattern:^(\w+\s?)*$</code>, it specifies 0 or more such words.</p>
<p>In action:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/^(\w+\s?)*$/</span>;

alert( regexp.test(<span class="hljs-string">&quot;A good string&quot;</span>) ); <span class="hljs-comment">// true</span>
alert( regexp.test(<span class="hljs-string">&quot;Bad characters: $@#&quot;</span>) ); <span class="hljs-comment">// false</span></code></pre>
<p>It seems to work. The result is correct. Although, on certain strings it takes a lot of time. So long that JavaScript engine &quot;hangs&quot; with 100% CPU consumption.</p>
<p>If you run the example below, you probably won&#39;t see anything, as JavaScript will just &quot;hang&quot;. A web-browser will stop reacting on events, the UI will stop working. After some time it will suggest to reloaad the page. So be careful with this:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/^(\w+\s?)*$/</span>;
<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;An input string that takes a long time or even makes this regexp to hang!&quot;</span>;

<span class="hljs-comment">// will take a very long time</span>
alert( regexp.test(str) );</code></pre>
<p>Some regular expression engines can handle such search, but most of them can&#39;t.</p>
<h2 id="simplified-example">Simplified example</h2>
<p>What&#39;s the matter? Why the regular expression &quot;hangs&quot;?</p>
<p>To understand that, let&#39;s simplify the example: remove spaces <code>pattern:\s?</code>. Then it becomes <code>pattern:^(\w+)*$</code>.</p>
<p>And, to make things more obvious, let&#39;s replace <code>pattern:\w</code> with <code>pattern:\d</code>. The resulting regular expression still hangs, for instance:</p>
<!-- let str = `AnInputStringThatMakesItHang!`; -->

<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/^(\d+)*$/</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;012345678901234567890123456789!&quot;</span>;

<span class="hljs-comment">// will take a very long time</span>
alert( regexp.test(str) );</code></pre>
<p>So what&#39;s wrong with the regexp?</p>
<p>First, one may notice that the regexp <code>pattern:(\d+)*</code> is a little bit strange. The quantifier <code>pattern:*</code> looks extraneous. If we want a number, we can use <code>pattern:\d+</code>.</p>
<p>Indeed, the regexp is artificial. But the reason why it is slow is the same as those we saw above. So let&#39;s understand it, and then the previous example will become obvious.</p>
<p>What happens during the search of <code>pattern:^(\d+)*$</code> in the line <code>subject:123456789!</code> (shortened a bit for clarity), why does it take so long?</p>
<ol>
<li><p>First, the regexp engine tries to find a number <code>pattern:\d+</code>. The plus <code>pattern:+</code> is greedy by default, so it consumes all digits:</p>
<pre><code>\d+.......
(123456789)z</code></pre>
<p> Then it tries to apply the star quantifier, but there are no more digits, so it the star doesn&#39;t give anything.</p>
<p> The next in the pattern is the string end <code>pattern:$</code>, but in the text we have <code>subject:!</code>, so there&#39;s no match:</p>
<pre><code>           X
\d+........$
(123456789)!</code></pre>
</li>
<li><p>As there&#39;s no match, the greedy quantifier <code>pattern:+</code> decreases the count of repetitions, backtracks one character back.</p>
<p> Now <code>pattern:\d+</code> takes all digits except the last one:</p>
<pre><code>\d+.......
(12345678)9!</code></pre>
</li>
<li><p>Then the engine tries to continue the search from the new position (<code>9</code>).</p>
<p> The star <code>pattern:(\d+)*</code> can be applied -- it gives the number <code>match:9</code>:</p>
<pre><code>
\d+.......\d+
(12345678)(9)!</code></pre>
<p> The engine tries to match <code>pattern:$</code> again, but fails, because meets <code>subject:!</code>:</p>
<pre><code>             X
\d+.......\d+
(12345678)(9)z</code></pre>
</li>
</ol>
<ol start="4">
<li><p>There&#39;s no match, so the engine will continue backtracking, decreasing the number of repetitions. Backtracking generally works like this: the last greedy quantifier decreases the number of repetitions until it can. Then the previous greedy quantifier decreases, and so on.</p>
<p> All possible combinations are attempted. Here are their examples.</p>
<p> The first number <code>pattern:\d+</code> has 7 digits, and then a number of 2 digits:</p>
<pre><code>             X
\d+......\d+
(1234567)(89)!</code></pre>
<p> The first number has 7 digits, and then two numbers of 1 digit each:</p>
<pre><code>               X
\d+......\d+\d+
(1234567)(8)(9)!</code></pre>
<p> The first number has 6 digits, and then a number of 3 digits:</p>
<pre><code>             X
\d+.......\d+
(123456)(789)!</code></pre>
<p> The first number has 6 digits, and then 2 numbers:</p>
<pre><code>               X
\d+.....\d+ \d+
(123456)(78)(9)!</code></pre>
<p> ...And so on.</p>
</li>
</ol>
<p>There are many ways to split a set of digits <code>123456789</code> into numbers. To be precise, there are <code>2<sup>n</sup>-1</code>, where <code>n</code> is the length of the set.</p>
<p>For <code>n=20</code> there are about 1 million combinations, for <code>n=30</code> - a thousand times more. Trying each of them is exactly the reason why the search takes so long.</p>
<p>What to do?</p>
<p>Should we turn on the lazy mode?</p>
<p>Unfortunately, that won&#39;t help: if we replace <code>pattern:\d+</code> with <code>pattern:\d+?</code>, the regexp will still hang. The order of combinations will change, but not their total count.</p>
<p>Some regular expression engines have tricky tests and finite automations that allow to avoid going through all combinations or make it much faster, but not all engines, and not in all cases.</p>
<h2 id="back-to-words-and-strings">Back to words and strings</h2>
<p>The similar thing happens in our first example, when we look words by pattern <code>pattern:^(\w+\s?)*$</code> in the string <code>subject:An input that hangs!</code>.</p>
<p>The reason is that a word can be represented as one <code>pattern:\w+</code> or many:</p>
<pre><code>(input)
(inpu)(t)
(inp)(u)(t)
(in)(p)(ut)
...</code></pre>
<p>For a human, it&#39;s obvious that there may be no match, because the string ends with an exclamation sign <code>!</code>, but the regular expression expects a wordly character <code>pattern:\w</code> or a space <code>pattern:\s</code> at the end. But the engine doesn&#39;t know that.</p>
<p>It tries all combinations of how the regexp <code>pattern:(\w+\s?)*</code> can &quot;consume&quot; the string, including variants with spaces <code>pattern:(\w+\s)*</code> and without them <code>pattern:(\w+)*</code> (because spaces <code>pattern:\s?</code> are optional). As there are many such combinations, the search takes a lot of time.</p>
<h2 id="how-to-fix">How to fix?</h2>
<p>There are two main approaches to fixing the problem.</p>
<p>The first is to lower the number of possible combinations.</p>
<p>Let&#39;s rewrite the regular expression as <code>pattern:^(\w+\s)*\w*</code> - we&#39;ll look for any number of words followed by a space <code>pattern:(\w+\s)*</code>, and then (optionally) a word <code>pattern:\w*</code>.</p>
<p>This regexp is equivalent to the previous one (matches the same) and works well:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/^(\w+\s)*\w*$/</span>;
<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;An input string that takes a long time or even makes this regex to hang!&quot;</span>;

alert( regexp.test(str) ); <span class="hljs-comment">// false</span></code></pre>
<p>Why did the problem disappear?</p>
<p>Now the star <code>pattern:*</code> goes after <code>pattern:\w+\s</code> instead of <code>pattern:\w+\s?</code>. It became impossible to represent one word of the string with multiple successive <code>pattern:\w+</code>. The time needed to try such combinations is now saved.</p>
<p>For example, the previous pattern <code>pattern:(\w+\s?)*</code> could match the word <code>subject:string</code> as two <code>pattern:\w+</code>:</p>
<pre><code class="language-js">\w+\w+
string</code></pre>
<p>The previous pattern, due to the optional <code>pattern:\s</code> allowed variants <code>pattern:\w+</code>, <code>pattern:\w+\s</code>, <code>pattern:\w+\w+</code> and so on.</p>
<p>With the rewritten pattern <code>pattern:(\w+\s)*</code>, that&#39;s impossible: there may be  <code>pattern:\w+\s</code> or <code>pattern:\w+\s\w+\s</code>, but not <code>pattern:\w+\w+</code>. So the overall combinations count is greatly decreased.</p>
<h2 id="preventing-backtracking">Preventing backtracking</h2>
<p>It&#39;s not always convenient to rewrite a regexp. And it&#39;s not always obvious how to do it.</p>
<p>The alternative approach is to forbid backtracking for the quantifier.</p>
<p>The regular expressions engine tries many combinations that are obviously wrong for a human.</p>
<p>E.g. in the regexp <code>pattern:(\d+)*$</code> it&#39;s obvious for a human, that <code>pattern:+</code> shouldn&#39;t backtrack. If we replace one <code>pattern:\d+</code> with two separate <code>pattern:\d+\d+</code>, nothing changes:</p>
<pre><code>\d+........
(123456789)!

\d+...\d+....
(1234)(56789)!</code></pre>
<p>And in the original example <code>pattern:^(\w+\s?)*$</code> we may want to forbid backtracking in <code>pattern:\w+</code>. That is: <code>pattern:\w+</code> should match a whole word, with the maximal possible length. There&#39;s no need to lower the repetitions count in <code>pattern:\w+</code>, try to split it into two words <code>pattern:\w+\w+</code> and so on.</p>
<p>Modern regular expression engines support possessive quantifiers for that. They are like greedy ones, but don&#39;t backtrack (so they are actually simpler than regular quantifiers).</p>
<p>There are also so-called &quot;atomic capturing groups&quot; - a way to disable backtracking inside parentheses.</p>
<p>Unfortunately, in JavaScript they are not supported. But there&#39;s another way.</p>
<h3 id="lookahead-to-the-rescue">Lookahead to the rescue!</h3>
<p>We can prevent backtracking using lookahead.</p>
<p>The pattern to take as much repetitions of <code>pattern:\w</code> as possible without backtracking is: <code>pattern:(?=(\w+))\1</code>.</p>
<p>Let&#39;s decipher it:</p>
<ul>
<li>Lookahead <code>pattern:?=</code> looks forward for the longest word <code>pattern:\w+</code> starting at the current position.</li>
<li>The contents of parentheses with <code>pattern:?=...</code> isn&#39;t memorized by the engine, so wrap <code>pattern:\w+</code> into parentheses. Then the engine will memorize their contents</li>
<li>...And allow us to reference it in the pattern as <code>pattern:\1</code>.</li>
</ul>
<p>That is: we look ahead - and if there&#39;s a word <code>pattern:\w+</code>, then match it as <code>pattern:\1</code>.</p>
<p>Why? That&#39;s because the lookahead finds a word <code>pattern:\w+</code> as a whole and we capture it into the pattern with <code>pattern:\1</code>. So we essentially implemented a possessive plus <code>pattern:+</code> quantifier. It captures only the whole word <code>pattern:\w+</code>, not a part of it.</p>
<p>For instance, in the word <code>subject:JavaScript</code> it may not only match <code>match:Java</code>, but leave out <code>match:Script</code> to match the rest of the pattern.</p>
<p>Here&#39;s the comparison of two patterns:</p>
<pre><code class="language-js">alert( <span class="hljs-string">&quot;JavaScript&quot;</span>.match(<span class="hljs-regexp">/\w+Script/</span>)); <span class="hljs-comment">// JavaScript</span>
alert( <span class="hljs-string">&quot;JavaScript&quot;</span>.match(<span class="hljs-regexp">/(?=(\w+))\1Script/</span>)); <span class="hljs-comment">// null</span></code></pre>
<ol>
<li>In the first variant <code>pattern:\w+</code> first captures the whole word <code>subject:JavaScript</code> but then <code>pattern:+</code> backtracks character by character, to try to match the rest of the pattern, until it finally succeeds (when <code>pattern:\w+</code> matches <code>match:Java</code>).</li>
<li>In the second variant <code>pattern:(?=(\w+))</code> looks ahead and finds the word  <code>subject:JavaScript</code>, that is included into the pattern as a whole by <code>pattern:\1</code>, so there remains no way to find <code>subject:Script</code> after it.</li>
</ol>
<p>We can put a more complex regular expression into <code>pattern:(?=(\w+))\1</code> instead of <code>pattern:\w</code>, when we need to forbid backtracking for <code>pattern:+</code> after it.</p>
<pre><code class="language-smart">There&#x27;s more about the relation between possessive quantifiers and lookahead in articles [Regex: Emulate Atomic Grouping (and Possessive Quantifiers) with LookAhead](http://instanceof.me/post/52245507631/regex-emulate-atomic-grouping-with-lookahead) and [Mimicking Atomic Groups](http://blog.stevenlevithan.com/archives/mimic-atomic-groups).</code></pre>
<p>Let&#39;s rewrite the first example using lookahead to prevent backtracking:</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/^((?=(\w+))\2\s?)*$/</span>;

alert( regexp.test(<span class="hljs-string">&quot;A good string&quot;</span>) ); <span class="hljs-comment">// true</span>

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;An input string that takes a long time or even makes this regex to hang!&quot;</span>;

alert( regexp.test(str) ); <span class="hljs-comment">// false, works and fast!</span></code></pre>
<p>Here <code>pattern:\2</code> is used instead of <code>pattern:\1</code>, because there are additional outer parentheses. To avoid messing up with the numbers, we can give the parentheses a name, e.g. <code>pattern:(?&lt;word&gt;\w+)</code>.</p>
<pre><code class="language-js"><span class="hljs-comment">// parentheses are named ?&lt;word&gt;, referenced as \k&lt;word&gt;</span>
<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/^((?=(?&lt;word&gt;\w+))\k&lt;word&gt;\s?)*$/</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;An input string that takes a long time or even makes this regex to hang!&quot;</span>;

alert( regexp.test(str) ); <span class="hljs-comment">// false</span>

alert( regexp.test(<span class="hljs-string">&quot;A correct string&quot;</span>) ); <span class="hljs-comment">// true</span></code></pre>
<p>The problem described in this article is called &quot;catastrophic backtracking&quot;.</p>
<p>We covered two ways how to solve it:</p>
<ul>
<li>Rewrite the regexp to lower the possible combinations count.</li>
<li>Prevent backtracking.</li>
</ul>

      </fieldset>
      
      <fieldset id='_tAFAfH'>
      <legend>article</legend>
      <h1 id="ç²˜æ€§æ ‡å¿—-yï¼Œåœ¨ä½ç½®å¤„æœç´¢">ç²˜æ€§æ ‡å¿— &quot;y&quot;ï¼Œåœ¨ä½ç½®å¤„æœç´¢</h1>
<p><code>pattern:y</code> æ ‡å¿—å…è®¸åœ¨æºå­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šä½ç½®æ‰§è¡Œæœç´¢ã€‚</p>
<p>ä¸ºäº†æŒæ¡ <code>pattern:y</code> æ ‡å¿—çš„ç”¨ä¾‹ï¼Œçœ‹çœ‹å®ƒæœ‰å¤šå¥½ï¼Œè®©æˆ‘ä»¬æ¥æ¢è®¨ä¸€ä¸ªå®é™…çš„ç”¨ä¾‹ã€‚</p>
<p>regexps çš„å¸¸è§ä»»åŠ¡ä¹‹ä¸€æ˜¯ï¼‚è¯æ³•åˆ†æï¼‚ï¼šæ¯”å¦‚æˆ‘ä»¬åœ¨ç¨‹åºè®¾è®¡è¯­è¨€ä¸­å¾—åˆ°ä¸€ä¸ªæ–‡æœ¬ï¼Œç„¶ååˆ†æå®ƒçš„ç»“æ„å…ƒç´ ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒHTML æœ‰æ ‡ç­¾å’Œå±æ€§ï¼ŒJavaScript ä»£ç æœ‰å‡½æ•°ã€å˜é‡ç­‰ã€‚</p>
<p>ç¼–å†™è¯æ³•åˆ†æå™¨æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„é¢†åŸŸï¼Œæœ‰è‡ªå·±çš„å·¥å…·å’Œç®—æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä¸æ·±ç©¶äº†ï¼Œä½†æœ‰ä¸€ä¸ªå…±åŒçš„ä»»åŠ¡ï¼šåœ¨ç»™å®šçš„ä½ç½®è¯»å‡ºä¸€äº›ä¸œè¥¿ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªä»£ç å­—ç¬¦ä¸² <code>subject:let varName = &quot;value&quot;</code>ï¼Œæˆ‘ä»¬éœ€è¦ä»å…¶ä¸­è¯»å–å˜é‡åï¼Œè¿™ä¸ªå˜é‡åä»ä½ç½® <code>4</code> å¼€å§‹ã€‚</p>
<p>æˆ‘ä»¬ç”¨ regexp <code>pattern:\w+</code> æ¥æŸ¥æ‰¾å˜é‡åã€‚å®é™…ä¸Šï¼ŒJavaScript çš„å˜é‡åéœ€è¦æ›´å¤æ‚çš„ regexp æ¥è¿›è¡Œå‡†ç¡®çš„åŒ¹é…ï¼Œä½†åœ¨è¿™é‡Œå¹¶ä¸é‡è¦ã€‚</p>
<p>è°ƒç”¨ <code>str.match(/\w+/)</code> å°†åªæ‰¾åˆ°è¯¥è¡Œä¸­çš„ç¬¬ä¸€ä¸ªå•è¯ã€‚æˆ–è€…æ˜¯æ‰€æœ‰å¸¦æ ‡è®° <code>pattern:g</code> çš„å•è¯ã€‚ä½†æˆ‘ä»¬åªéœ€è¦åœ¨ä½ç½® <code>4</code> çš„ä¸€ä¸ªè¯ã€‚</p>
<p>è¦ä»ç»™å®šä½ç½®æœç´¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ–¹æ³• <code>regexp.exec(str)</code>ã€‚</p>
<p>å¦‚æœ <code>regexp</code> æ²¡æœ‰æ ‡å¿— <code>pattern:g</code> æˆ– <code>pattern:y</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°±å¯ä»¥å¯»æ‰¾å­—ç¬¦ä¸² <code>str</code> ä¸­çš„ç¬¬ä¸€ä¸ªåŒ¹é…ï¼Œå°±åƒ <code>str.match(regexp)</code> ä¸€æ ·ã€‚è¿™ç§ç®€å•çš„æ— æ ‡å¿—çš„æƒ…å†µæˆ‘ä»¬åœ¨è¿™é‡Œå¹¶ä¸æ„Ÿå…´è¶£ã€‚</p>
<p>å¦‚æœæœ‰æ ‡å¿— <code>pattern:g</code>ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šåœ¨å­—ç¬¦ä¸² <code>str</code> ä¸­æ‰§è¡Œæœç´¢ï¼Œä»å­˜å‚¨åœ¨ <code>regexp.lastIndex</code> å±æ€§ä¸­çš„ä½ç½®å¼€å§‹ã€‚å¦‚æœå‘ç°åŒ¹é…ï¼Œåˆ™å°† <code>regexp.lastIndex</code> è®¾ç½®ä¸ºåŒ¹é…åçš„ç´¢å¼•ã€‚</p>
<p>å½“ä¸€ä¸ª regexp è¢«åˆ›å»ºæ—¶ï¼Œå®ƒçš„ <code>lastIndex</code> æ˜¯ <code>0</code>ã€‚</p>
<p>å› æ­¤ï¼Œè¿ç»­è°ƒç”¨ <code>regexp.exec(str)</code> ä¼šä¸€ä¸ªæ¥ä¸€ä¸ªåœ°è¿”å›åŒ¹é…ã€‚</p>
<p>ä¸€ä¸ªä¾‹å­ï¼ˆç”¨æ ‡å¿— <code>pattern:g</code> ï¼‰ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;let varName&#x27;</span>;

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/\w+/g</span>;
alert(regexp.lastIndex); <span class="hljs-comment">// 0ï¼ˆæœ€åˆ lastIndex=0ï¼‰</span>

<span class="hljs-keyword">let</span> word1 = regexp.exec(str);
alert(word1[<span class="hljs-number">0</span>]); <span class="hljs-comment">// letï¼ˆç¬¬ä¸€ä¸ªå•è¯ï¼‰</span>
alert(regexp.lastIndex); <span class="hljs-comment">// 3ï¼ˆåŒ¹é…åçš„ä½ç½®ï¼‰</span>

<span class="hljs-keyword">let</span> word2 = regexp.exec(str);
alert(word2[<span class="hljs-number">0</span>]); <span class="hljs-comment">// varName (ç¬¬äºŒä¸ªå•è¯)</span>
alert(regexp.lastIndex); <span class="hljs-comment">// 11ï¼ˆåŒ¹é…åçš„ä½ç½®ï¼‰</span>

<span class="hljs-keyword">let</span> word3 = regexp.exec(str);
alert(word3); <span class="hljs-comment">// nullï¼ˆæ²¡æœ‰æ›´å¤šçš„åŒ¹é…ï¼‰</span>
alert(regexp.lastIndex); <span class="hljs-comment">// 0ï¼ˆæœç´¢ç»“æŸæ—¶é‡ç½®ï¼‰</span></code></pre>
<p>æ¯ä¸ªåŒ¹é…éƒ½ä¼šä»¥æ•°ç»„å½¢å¼è¿”å›ï¼ŒåŒ…å«åˆ†ç»„å’Œé™„åŠ å±æ€§ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨å¾ªç¯ä¸­å¾—åˆ°æ‰€æœ‰çš„åŒ¹é…ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;let varName&#x27;</span>;
<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/\w+/g</span>;

<span class="hljs-keyword">let</span> result;

<span class="hljs-keyword">while</span> (result = regexp.exec(str)) {
  alert( <span class="hljs-string">`Found <span class="hljs-subst">${result[<span class="hljs-number">0</span>]}</span>} at position <span class="hljs-subst">${result.index}</span>`</span> );
  <span class="hljs-comment">// åœ¨ä½ç½® 0 å‘ç° let, ç„¶å</span>
  <span class="hljs-comment">// åœ¨ä½ç½® 4 å‘ç° varName</span>
}</code></pre>
<p><code>regexp.exec</code> æ˜¯ <code>str.matchAll</code> æ–¹æ³•çš„æ›¿ä»£æ–¹æ³•ã€‚</p>
<p>ä¸å…¶ä»–æ–¹æ³•ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®è‡ªå·±çš„ <code>lastIndex</code>ï¼Œä»ç»™å®šä½ç½®å¼€å§‹æœç´¢ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬ä»ä½ç½® <code>4</code> å¼€å§‹å¯»æ‰¾ä¸€ä¸ªå•è¯ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;let varName = &quot;value&quot;&#x27;</span>;

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/\w+/g</span>; <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æ ‡å¿— &quot;g&quot;ï¼Œå±æ€§ lastIndex ä¼šè¢«å¿½ç•¥</span>

*!*
regexp.lastIndex = <span class="hljs-number">4</span>;
*/!*

<span class="hljs-keyword">let</span> word = regexp.exec(str);
alert(word); <span class="hljs-comment">// varName</span></code></pre>
<p>æˆ‘ä»¬ä»ä½ç½® <code>regexp.lastIndex = 4</code> å¼€å§‹æœç´¢ <code>pattern:w+</code>ã€‚</p>
<p>è¯·æ³¨æ„ï¼šæœç´¢ä»ä½ç½® <code>lastIndex</code> å¼€å§‹ï¼Œç„¶åå†å¾€å‰èµ°ã€‚å¦‚æœåœ¨ <code>lastIndex</code> ä½ç½®ä¸Šæ²¡æœ‰è¯ï¼Œä½†å®ƒåœ¨åé¢çš„æŸä¸ªåœ°æ–¹ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šè¢«æ‰¾åˆ°ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;let varName = &quot;value&quot;&#x27;</span>;

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/\w+/g</span>;

*!*
regexp.lastIndex = <span class="hljs-number">3</span>;
*/!*

<span class="hljs-keyword">let</span> word = regexp.exec(str);
alert(word[<span class="hljs-number">0</span>]); <span class="hljs-comment">// varName</span>
alert(word.index); <span class="hljs-comment">// 4</span></code></pre>
<p>â€¦â€¦æ‰€ä»¥ï¼Œç”¨æ ‡å¿— <code>pattern:g</code> å±æ€§ <code>lastIndex</code> è®¾ç½®æœç´¢çš„èµ·å§‹ä½ç½®ã€‚</p>
<p>**æ ‡è®° <code>pattern:y</code> ä½¿ <code>regexp.exec</code> æ­£å¥½åœ¨ <code>lastIndex</code> ä½ç½®ï¼Œè€Œä¸æ˜¯åœ¨å®ƒä¹‹å‰ï¼Œä¹Ÿä¸æ˜¯åœ¨å®ƒä¹‹åã€‚</p>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨æ ‡å¿— <code>pattern:y</code> è¿›è¡ŒåŒæ ·çš„æœç´¢ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;let varName = &quot;value&quot;&#x27;</span>;

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/\w+/y</span>;

regexp.lastIndex = <span class="hljs-number">3</span>;
alert( regexp.exec(str) ); <span class="hljs-comment">// nullï¼ˆä½ç½® 3 æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œä¸æ˜¯å•è¯ï¼‰</span>

regexp.lastIndex = <span class="hljs-number">4</span>;
alert( regexp.exec(str) ); <span class="hljs-comment">// varNameï¼ˆåœ¨ä½ç½® 4 çš„å•è¯ï¼‰</span></code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œregexp <code>pattern:/\w+/y</code> åœ¨ä½ç½® <code>3</code> å¤„ä¸åŒ¹é…(ä¸åŒäºæ ‡å¿— <code>pattern:g</code> )ï¼Œè€Œæ˜¯åœ¨ä½ç½® <code>4</code> å¤„åŒ¹é…ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªé•¿çš„æ–‡æœ¬ï¼Œè€Œé‡Œé¢æ ¹æœ¬æ²¡æœ‰åŒ¹é…ã€‚é‚£ä¹ˆç”¨æ ‡å¿— <code>pattern:g</code> æœç´¢å°†ä¸€ç›´åˆ°æ–‡æœ¬çš„æœ€åï¼Œè¿™å°†æ¯”ç”¨æ ‡å¿— <code>pattern:y</code> æœç´¢è¦èŠ±è´¹æ›´å¤šçš„æ—¶é—´ã€‚</p>
<p>åœ¨åƒè¯æ³•åˆ†æè¿™æ ·çš„ä»»åŠ¡ä¸­ï¼Œé€šå¸¸åœ¨ä¸€ä¸ªç¡®åˆ‡çš„ä½ç½®ä¼šæœ‰å¾ˆå¤šæœç´¢ã€‚ä½¿ç”¨æ ‡å¿— <code>pattern:y</code> æ˜¯è·å¾—è‰¯å¥½æ€§èƒ½çš„å…³é”®ã€‚</p>

      </fieldset>
      
      <fieldset id='_kCBhLS'>
      <legend>article</legend>
      <h1 id="æ­£åˆ™è¡¨è¾¾å¼ï¼ˆregexpï¼‰å’Œå­—ç¬¦ä¸²ï¼ˆstringï¼‰çš„æ–¹æ³•">æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegExpï¼‰å’Œå­—ç¬¦ä¸²ï¼ˆStringï¼‰çš„æ–¹æ³•</h1>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ä¸æ­£åˆ™è¡¨è¾¾å¼é…åˆä½¿ç”¨çš„å„ç§æ–¹æ³•ã€‚</p>
<h2 id="strmatchregexp">str.match(regexp)</h2>
<p><code>str.match(regexp)</code> æ–¹æ³•åœ¨å­—ç¬¦ä¸² <code>str</code> ä¸­æ‰¾åˆ°åŒ¹é… <code>regexp</code> çš„å­—ç¬¦ã€‚</p>
<p>å®ƒæœ‰ 3 ç§æ¨¡å¼ï¼š</p>
<ol>
<li><p>å¦‚æœ <code>regexp</code> ä¸å¸¦æœ‰ <code>pattern:g</code> æ ‡è®°ï¼Œåˆ™å®ƒä»¥æ•°ç»„çš„å½¢å¼è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå…¶ä¸­åŒ…å«åˆ†ç»„å’Œå±æ€§ <code>index</code>ï¼ˆåŒ¹é…é¡¹çš„ä½ç½®ï¼‰ã€<code>input</code>ï¼ˆè¾“å…¥å­—ç¬¦ä¸²ï¼Œç­‰äº <code>str </code>ï¼‰ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;I love JavaScript&quot;</span>;

<span class="hljs-keyword">let</span> result = str.match(<span class="hljs-regexp">/Java(Script)/</span>);

alert( result[<span class="hljs-number">0</span>] );     <span class="hljs-comment">// JavaScriptï¼ˆå®Œå…¨åŒ¹é…ï¼‰</span>
alert( result[<span class="hljs-number">1</span>] );     <span class="hljs-comment">// Scriptï¼ˆç¬¬ä¸€ä¸ªåˆ†ç»„ï¼‰</span>
alert( result.length ); <span class="hljs-comment">// 2</span>

<span class="hljs-comment">// å…¶ä»–ä¿¡æ¯ï¼š</span>
alert( result.index );  <span class="hljs-comment">// 7ï¼ˆåŒ¹é…ä½ç½®ï¼‰</span>
alert( result.input );  <span class="hljs-comment">// I love JavaScriptï¼ˆæºå­—ç¬¦ä¸²ï¼‰</span></code></pre>
</li>
<li><p>å¦‚æœ <code>regexp</code> å¸¦æœ‰ <code>pattern:g</code> æ ‡è®°ï¼Œåˆ™å®ƒå°†æ‰€æœ‰åŒ¹é…é¡¹çš„æ•°ç»„ä½œä¸ºå­—ç¬¦ä¸²è¿”å›ï¼Œè€Œä¸åŒ…å«åˆ†ç»„å’Œå…¶ä»–è¯¦ç»†ä¿¡æ¯ã€‚</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;I love JavaScript&quot;</span>;

<span class="hljs-keyword">let</span> result = str.match(<span class="hljs-regexp">/Java(Script)/g</span>);

alert( result[<span class="hljs-number">0</span>] ); <span class="hljs-comment">// JavaScript</span>
alert( result.length ); <span class="hljs-comment">// 1</span></code></pre>
</li>
<li><p>å¦‚æœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™æ— è®ºæ˜¯å¦å¸¦æœ‰æ ‡è®° <code>pattern:g</code> ï¼Œéƒ½å°†è¿”å› <code>null</code>ã€‚</p>
<p> è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„ç»†å¾®å·®åˆ«ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ä¸æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ï¼Œè€Œæ˜¯ <code>null</code>ã€‚å¿˜è®°è¿™ä¸€ç‚¹å¾ˆå®¹æ˜“å‡ºé”™ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;I love JavaScript&quot;</span>;

<span class="hljs-keyword">let</span> result = str.match(<span class="hljs-regexp">/HTML/</span>);

alert(result); <span class="hljs-comment">// null</span>
alert(result.length); <span class="hljs-comment">// Error: Cannot read property &#x27;length&#x27; of null</span></code></pre>
<p> å¦‚æœæˆ‘ä»¬å¸Œæœ›ç»“æœæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> result = str.match(regexp) || [];</code></pre>
</li>
</ol>
<h2 id="strmatchallregexp">str.matchAll(regexp)</h2>
<p>[recent browser=&quot;new&quot;]</p>
<p>æ–¹æ³• <code>str.matchAll(regexp)</code> æ˜¯ <code>str.match</code> â€œæ–°æ”¹è¿›çš„â€å˜ä½“ã€‚</p>
<p>å®ƒä¸»è¦ç”¨æ¥æœç´¢æ‰€æœ‰ç»„çš„æ‰€æœ‰åŒ¹é…é¡¹ã€‚</p>
<p>ä¸ <code>match</code> ç›¸æ¯”æœ‰ 3 ä¸ªåŒºåˆ«ï¼š</p>
<ol>
<li>å®ƒè¿”å›åŒ…å«åŒ¹é…é¡¹çš„å¯è¿­ä»£å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ•°ç»„ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ <code>Array.from</code> ä»ä¸­å¾—åˆ°ä¸€ä¸ªå¸¸è§„æ•°ç»„ã€‚</li>
<li>æ¯ä¸ªåŒ¹é…é¡¹å‡ä»¥åŒ…å«åˆ†ç»„çš„æ•°ç»„å½¢å¼è¿”å›ï¼ˆè¿”å›æ ¼å¼ä¸ä¸å¸¦ <code>pattern:g</code> æ ‡è®°çš„ <code>str.match</code> ç›¸åŒï¼‰ã€‚</li>
<li>å¦‚æœæ²¡æœ‰ç»“æœï¼Œåˆ™è¿”å›çš„ä¸æ˜¯ <code>null</code>ï¼Œè€Œæ˜¯ä¸€ä¸ªç©ºçš„å¯è¿­ä»£å¯¹è±¡ã€‚</li>
</ol>
<p>ç”¨æ³•ç¤ºä¾‹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;&lt;h1&gt;Hello, world!&lt;/h1&gt;&#x27;</span>;
<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/&lt;(.*?)&gt;/g</span>;

<span class="hljs-keyword">let</span> matchAll = str.matchAll(regexp);

alert(matchAll); <span class="hljs-comment">// [object RegExp String Iterator]ï¼Œä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡</span>

matchAll = <span class="hljs-built_in">Array</span>.from(matchAll); <span class="hljs-comment">// ç°åœ¨è¿”å›çš„æ˜¯æ•°ç»„</span>

<span class="hljs-keyword">let</span> firstMatch = matchAll[<span class="hljs-number">0</span>];
alert( firstMatch[<span class="hljs-number">0</span>] );  <span class="hljs-comment">// &lt;h1&gt;</span>
alert( firstMatch[<span class="hljs-number">1</span>] );  <span class="hljs-comment">// h1</span>
alert( firstMatch.index );  <span class="hljs-comment">// 0</span>
alert( firstMatch.input );  <span class="hljs-comment">// &lt;h1&gt;Hello, world!&lt;/h1&gt;</span></code></pre>
<p>å¦‚æœæˆ‘ä»¬ç”¨ <code>for..of</code> æ¥å¾ªç¯ <code>matchAll</code> çš„åŒ¹é…é¡¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸éœ€è¦ <code>Array.from</code> äº†ã€‚</p>
<h2 id="strsplitregexpsubstr-limit">str.split(regexp|substr, limit)</h2>
<p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ˆæˆ–å­å­—ç¬¦ä¸²ï¼‰ä½œä¸ºåˆ†éš”ç¬¦æ¥åˆ†å‰²å­—ç¬¦ä¸²ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>split</code> æ¥åˆ†å‰²å­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-js">alert(<span class="hljs-string">&#x27;12-34-56&#x27;</span>.split(<span class="hljs-string">&#x27;-&#x27;</span>)) <span class="hljs-comment">// æ•°ç»„ [&#x27;12&#x27;, &#x27;34&#x27;, &#x27;56&#x27;]</span></code></pre>
<p>ä½†åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥åšï¼š</p>
<pre><code class="language-js">alert(<span class="hljs-string">&#x27;12, 34, 56&#x27;</span>.split(<span class="hljs-regexp">/,\s*/</span>)) <span class="hljs-comment">// æ•°ç»„ [&#x27;12&#x27;, &#x27;34&#x27;, &#x27;56&#x27;]</span></code></pre>
<h2 id="strsearchregexp">str.search(regexp)</h2>
<p>æ–¹æ³• <code>str.search(regexp)</code> è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä½ç½®ï¼Œå¦‚æœæœªæ‰¾åˆ°ï¼Œåˆ™è¿”å› <code>-1</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;A drop of ink may make a million think&quot;</span>;

alert( str.search( <span class="hljs-regexp">/ink/i</span> ) ); <span class="hljs-comment">// 10ï¼ˆç¬¬ä¸€ä¸ªåŒ¹é…ä½ç½®ï¼‰</span></code></pre>
<p><strong>é‡è¦é™åˆ¶ï¼š<code>search</code> ä»…æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ã€‚</strong></p>
<p>å¦‚æœéœ€è¦å…¶ä»–åŒ¹é…é¡¹çš„ä½ç½®ï¼Œåˆ™åº”ä½¿ç”¨å…¶ä»–æ–¹æ³•ï¼Œä¾‹å¦‚ç”¨ <code>str.matchAll(regexp)</code> æŸ¥æ‰¾æ‰€æœ‰ä½ç½®ã€‚</p>
<h2 id="strreplacestrregexp-strfunc">str.replace(str|regexp, str|func)</h2>
<p>è¿™æ˜¯ç”¨äºæœç´¢å’Œæ›¿æ¢çš„é€šç”¨æ–¹æ³•ï¼Œæ˜¯æœ€æœ‰ç”¨çš„æ–¹æ³•ä¹‹ä¸€ã€‚å®ƒæ˜¯æœç´¢å’Œæ›¿æ¢å­—ç¬¦ä¸²çš„ç‘å£«å†›åˆ€ã€‚  </p>
<p>æˆ‘ä»¬å¯ä»¥ä¸ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥æœç´¢å’Œæ›¿æ¢å­å­—ç¬¦ä¸²ï¼š</p>
<pre><code class="language-js"><span class="hljs-comment">// ç”¨å†’å·æ›¿æ¢è¿å­—ç¬¦</span>
alert(<span class="hljs-string">&#x27;12-34-56&#x27;</span>.replace(<span class="hljs-string">&quot;-&quot;</span>, <span class="hljs-string">&quot;:&quot;</span>)) <span class="hljs-comment">// 12:34-56</span></code></pre>
<p>ä¸è¿‡æœ‰ä¸€ä¸ªé™·é˜±ã€‚</p>
<p><strong>å½“ <code>replace</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä»…æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ã€‚</strong></p>
<p>æ‚¨å¯ä»¥åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­çœ‹åˆ°ï¼šåªæœ‰ç¬¬ä¸€ä¸ª <code>&quot;-&quot;</code> è¢« <code>&quot;:&quot;</code> æ›¿æ¢äº†ã€‚</p>
<p>å¦‚è¦æ‰¾åˆ°æ‰€æœ‰çš„è¿å­—ç¬¦ï¼Œæˆ‘ä»¬ä¸åº”è¯¥ç”¨å­—ç¬¦ä¸² <code>&quot;-&quot;</code>ï¼Œè€Œåº”ä½¿ç”¨å¸¦ <code>pattern:g</code> æ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ <code>pattern:/-/g</code>ï¼š</p>
<pre><code class="language-js"><span class="hljs-comment">// å°†è¿å­—ç¬¦æ›¿æ¢ä¸ºå†’å·</span>
alert( <span class="hljs-string">&#x27;12-34-56&#x27;</span>.replace( *!*<span class="hljs-regexp">/-/g</span>*<span class="hljs-regexp">/!*, &quot;:&quot; ) )  /</span><span class="hljs-regexp">/ 12:34:56</span></code></pre>
<p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ›¿ä»£å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼š</p>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„æ“ä½œ</th>
</tr>
</thead>
<tbody><tr>
<td><code>$&amp;</code></td>
<td>æ’å…¥æ•´ä¸ªåŒ¹é…é¡¹</td>
</tr>
<tr>
<td><code>$&#096;</code></td>
<td>åœ¨åŒ¹é…é¡¹ä¹‹å‰æ’å…¥å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†</td>
</tr>
<tr>
<td><code>$&#39;</code></td>
<td>åœ¨åŒ¹é…é¡¹ä¹‹åæ’å…¥å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†</td>
</tr>
<tr>
<td><code>$n</code></td>
<td>å¦‚æœ <code>n</code> æ˜¯ä¸€ä¸ª 1 åˆ° 2 ä½çš„æ•°å­—ï¼Œåˆ™æ’å…¥ç¬¬ n ä¸ªåˆ†ç»„çš„å†…å®¹ï¼Œè¯¦è§ <a href="info:regexp-groups">info:regexp-groups</a></td>
</tr>
<tr>
<td><code>$&lt;name&gt;</code></td>
<td>æ’å…¥å¸¦æœ‰ç»™å®š <code>name</code> çš„æ‹¬å·å†…çš„å†…å®¹ï¼Œè¯¦è§ <a href="info:regexp-groups">info:regexp-groups</a></td>
</tr>
<tr>
<td><code>$$</code></td>
<td>æ’å…¥å­—ç¬¦ <code>$</code></td>
</tr>
</tbody></table>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;John Smith&quot;</span>;

<span class="hljs-comment">// äº¤æ¢åå­—å’Œå§“æ°</span>
alert(str.replace(<span class="hljs-regexp">/(john) (smith)/i</span>, <span class="hljs-string">&#x27;$2, $1&#x27;</span>)) <span class="hljs-comment">// Smith, John</span></code></pre>
<p><strong>å¯¹äºéœ€è¦â€œæ™ºèƒ½â€æ›¿æ¢çš„åœºæ™¯ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</strong></p>
<p>æ¯æ¬¡åŒ¹é…éƒ½ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”è¿”å›çš„å€¼å°†ä½œä¸ºæ›¿æ¢å­—ç¬¦ä¸²æ’å…¥ã€‚</p>
<p>è¯¥å‡½æ•° <code>func(match, p1, p2, ..., pn, offset, input, groups)</code> å¸¦å‚æ•°è°ƒç”¨ï¼š</p>
<ol>
<li><code>match</code> ï¼ åŒ¹é…é¡¹ï¼Œ</li>
<li><code>p1, p2, ..., pn</code> ï¼ åˆ†ç»„çš„å†…å®¹ï¼ˆå¦‚æœ‰ï¼‰ï¼Œ</li>
<li><code>offset</code> ï¼ åŒ¹é…é¡¹çš„ä½ç½®ï¼Œ</li>
<li><code>input</code> ï¼ æºå­—ç¬¦ä¸²ï¼Œ</li>
<li><code>groups</code> ï¼ æ‰€æŒ‡å®šåˆ†ç»„çš„å¯¹è±¡ã€‚</li>
</ol>
<p>å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸­æ²¡æœ‰æ‹¬å·ï¼Œåˆ™åªæœ‰ 3 ä¸ªå‚æ•°ï¼š<code>func(str, offset, input)</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå°†æ‰€æœ‰åŒ¹é…é¡¹éƒ½å¤§å†™ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;html and css&quot;</span>;

<span class="hljs-keyword">let</span> result = str.replace(<span class="hljs-regexp">/html|css/gi</span>, <span class="hljs-function"><span class="hljs-params">str</span> =&gt;</span> str.toUpperCase());

alert(result); <span class="hljs-comment">// HTML and CSS</span></code></pre>
<p>æŒ‰å…¶åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®æ¥æ›¿æ¢æ¯ä¸ªåŒ¹é…é¡¹ï¼š</p>
<pre><code class="language-js">alert(<span class="hljs-string">&quot;Ho-Ho-ho&quot;</span>.replace(<span class="hljs-regexp">/ho/gi</span>, <span class="hljs-function">(<span class="hljs-params">match, offset</span>) =&gt;</span> offset)); <span class="hljs-comment">// 0-3-6</span></code></pre>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæœ‰ä¸¤å¯¹æ‹¬å·ï¼Œå› æ­¤å°†ä½¿ç”¨ 5 ä¸ªå‚æ•°è°ƒç”¨æ›¿æ¢å‡½æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯å®Œå…¨åŒ¹é…é¡¹ï¼Œç„¶åæ˜¯ 2 å¯¹æ‹¬å·ï¼Œç„¶åæ˜¯åŒ¹é…ä½ç½®ï¼ˆåœ¨ç¤ºä¾‹ä¸­æœªä½¿ç”¨ï¼‰å’Œæºå­—ç¬¦ä¸²ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;John Smith&quot;</span>;

<span class="hljs-keyword">let</span> result = str.replace(<span class="hljs-regexp">/(\w+) (\w+)/</span>, <span class="hljs-function">(<span class="hljs-params">match, name, surname</span>) =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${surname}</span>, <span class="hljs-subst">${name}</span>`</span>);

alert(result); <span class="hljs-comment">// Smith, John</span></code></pre>
<p>å¦‚æœæœ‰è®¸å¤šç»„ï¼Œç”¨ rest å‚æ•°ï¼ˆ...ï¼‰å¯ä»¥å¾ˆæ–¹ä¾¿çš„è®¿é—®ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;John Smith&quot;</span>;

<span class="hljs-keyword">let</span> result = str.replace(<span class="hljs-regexp">/(\w+) (\w+)/</span>, <span class="hljs-function">(<span class="hljs-params">...match</span>) =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${match[<span class="hljs-number">2</span>]}</span>, <span class="hljs-subst">${match[<span class="hljs-number">1</span>]}</span>`</span>);

alert(result); <span class="hljs-comment">// Smith, John</span></code></pre>
<p>æˆ–è€…ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å‘½åç»„ï¼Œåˆ™å¸¦æœ‰å®ƒä»¬çš„ <code>groups</code> å¯¹è±¡å§‹ç»ˆæ˜¯æœ€åä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è¿™æ ·è·å¾—å®ƒï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;John Smith&quot;</span>;

<span class="hljs-keyword">let</span> result = str.replace(<span class="hljs-regexp">/(?&lt;name&gt;\w+) (?&lt;surname&gt;\w+)/</span>, <span class="hljs-function">(<span class="hljs-params">...match</span>) =&gt;</span> {
  <span class="hljs-keyword">let</span> groups = match.pop();

  <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${groups.surname}</span>, <span class="hljs-subst">${groups.name}</span>`</span>;
});

alert(result); <span class="hljs-comment">// Smith, John</span></code></pre>
<p>ä½¿ç”¨å‡½æ•°å¯ä»¥ä¸ºæˆ‘ä»¬æä¾›ç»ˆææ›¿ä»£åŠŸèƒ½ï¼Œå› ä¸ºå®ƒå¯ä»¥è·å–åŒ¹é…é¡¹çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¯ä»¥è®¿é—®å¤–éƒ¨å˜é‡ï¼Œå¯ä»¥åšä»»ä½•äº‹ã€‚</p>
<h2 id="regexpexecstr">regexp.exec(str)</h2>
<p><code>regexp.exec(str)</code> æ–¹æ³•è¿”å›å­—ç¬¦ä¸² <code>str</code> ä¸­çš„ <code>regexp</code> åŒ¹é…é¡¹ã€‚ä¸ä»¥å‰çš„æ–¹æ³•ä¸åŒï¼Œå®ƒæ˜¯åœ¨æ­£åˆ™è¡¨è¾¾å¼è€Œä¸æ˜¯å­—ç¬¦ä¸²ä¸Šè°ƒç”¨çš„ã€‚</p>
<p>æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦å¸¦æœ‰æ ‡å¿— <code>pattern:g</code>ï¼Œå®ƒçš„è¡Œä¸ºæœ‰æ‰€ä¸åŒã€‚</p>
<p>å¦‚æœæ²¡æœ‰ <code>pattern:g</code>ï¼Œé‚£ä¹ˆ <code>regexp.exec(str)</code> è¿”å›çš„ç¬¬ä¸€ä¸ªåŒ¹é…ä¸ <code>str.match(regexp)</code> å®Œå…¨ç›¸åŒã€‚è¿™æ²¡ä»€ä¹ˆæ–°çš„å˜åŒ–ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœæœ‰æ ‡è®° <code>pattern:g</code>ï¼Œé‚£ä¹ˆï¼š</p>
<ul>
<li>è°ƒç”¨ <code>regexp.exec(str)</code> ä¼šè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå¹¶å°†ç´§éšå…¶åçš„ä½ç½®ä¿å­˜åœ¨å±æ€§ <code>regexp.lastIndex</code> ä¸­ã€‚</li>
<li>ä¸‹ä¸€æ¬¡åŒæ ·çš„è°ƒç”¨ä¼šä»ä½ç½® <code>regexp.lastIndex</code> å¼€å§‹æœç´¢ï¼Œè¿”å›ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå¹¶å°†å…¶åçš„ä½ç½®ä¿å­˜åœ¨ <code>regexp.lastIndex</code> ä¸­ã€‚</li>
<li>...ä»¥æ­¤ç±»æ¨ã€‚</li>
<li>å¦‚æœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™ <code>regexp.exec</code> è¿”å› <code>null</code>ï¼Œå¹¶å°† <code>regexp.lastIndex</code> é‡ç½®ä¸º <code>0</code>ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œé‡å¤è°ƒç”¨ä¼šæŒ¨ä¸ªè¿”å›æ‰€æœ‰çš„åŒ¹é…é¡¹ï¼Œå±æ€§ <code>regexp.lastIndex</code> ç”¨æ¥è·Ÿè¸ªå½“å‰çš„æœç´¢ä½ç½®ã€‚</p>
<p>è¿‡å»ï¼Œåœ¨å°† <code>str.matchAll</code> æ–¹æ³•æ·»åŠ åˆ° <code>JavaScript</code> ä¹‹å‰ï¼Œåœ¨å¾ªç¯ä¸­æ˜¯é€šè¿‡è°ƒç”¨ <code>regexp.exec</code> æ¥è·å–åˆ†ç»„çš„æ‰€æœ‰åŒ¹é…é¡¹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;More about JavaScript at https://javascript.info&#x27;</span>;
<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/javascript/ig</span>;

<span class="hljs-keyword">let</span> result;

<span class="hljs-keyword">while</span> (result = regexp.exec(str)) {
  alert( <span class="hljs-string">`Found <span class="hljs-subst">${result[<span class="hljs-number">0</span>]}</span> at position <span class="hljs-subst">${result.index}</span>`</span> );
  <span class="hljs-comment">// Found JavaScript at position 11ï¼Œç„¶å</span>
  <span class="hljs-comment">// Found javascript at position 33</span>
}</code></pre>
<p>è¿™ä¸ªç°åœ¨ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œå°½ç®¡å¯¹äºè¾ƒæ–°çš„æµè§ˆå™¨æ¥è¯´ï¼Œ<code>str.matchAll</code> é€šå¸¸æ›´æ–¹ä¾¿ã€‚</p>
<p><strong>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰‹åŠ¨è®¾ç½® <code>lastIndex</code>ï¼Œç”¨ <code>regexp.exec</code> ä»ç»™å®šä½ç½®è¿›è¡Œæœç´¢ã€‚</strong></p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;Hello, world!&#x27;</span>;

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/\w+/g</span>; <span class="hljs-comment">// å¸¦æœ‰æ ‡è®° &quot;g&quot;ï¼ŒlastIndex å±æ€§è¢«å¿½ç•¥</span>
regexp.lastIndex = <span class="hljs-number">5</span>; <span class="hljs-comment">// ä»ç¬¬ 5 ä¸ªä½ç½®æœç´¢ï¼ˆä»é€—å·å¼€å§‹ï¼‰</span>

alert( regexp.exec(str) ); <span class="hljs-comment">// world</span></code></pre>
<p>å¦‚æœæ­£åˆ™è¡¨è¾¾å¼å¸¦æœ‰æ ‡è®° <code>pattern:y</code>ï¼Œåˆ™æœç´¢å°†ç²¾ç¡®åœ°åœ¨ <code>regexp.lastIndex</code> ä½ç½®æ‰§è¡Œï¼Œä¸ä¼šå†ç»§ç»­äº†ã€‚</p>
<p>è®©æˆ‘ä»¬å°†ä¸Šä¾‹ä¸­çš„ <code>pattern:g</code> æ ‡è®°æ›¿æ¢ä¸º <code>pattern:y</code>ã€‚ç°åœ¨æ²¡æœ‰æ‰¾åˆ°åŒ¹é…é¡¹äº†ï¼Œå› ä¸ºåœ¨ä½ç½® <code>5</code> å¤„æ²¡æœ‰å•è¯ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;Hello, world!&#x27;</span>;

<span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/\w+/y</span>;
regexp.lastIndex = <span class="hljs-number">5</span>; <span class="hljs-comment">// åœ¨ä½ç½® 5 ç²¾ç¡®æŸ¥æ‰¾</span>

alert( regexp.exec(str) ); <span class="hljs-comment">// null</span></code></pre>
<p>è¿™ä¸ªæ–¹æ³•åœ¨æŸäº›åœºæ™¯ä¸‹å¾ˆæ–¹ä¾¿ï¼Œä¾‹å¦‚éœ€è¦ç”¨æ­£åˆ™è¡¨è¾¾å¼ä»å­—ç¬¦ä¸²çš„ç²¾ç¡®ä½ç½®æ¥â€œè¯»å–â€å­—ç¬¦ä¸²ï¼ˆè€Œä¸æ˜¯å…¶åçš„æŸå¤„ï¼‰ã€‚</p>
<h2 id="regexpteststr">regexp.test(str)</h2>
<p>æ–¹æ³• <code>regexp.test(str)</code> æŸ¥æ‰¾åŒ¹é…é¡¹ï¼Œç„¶åè¿”å› <code>true/false</code> è¡¨ç¤ºæ˜¯å¦å­˜åœ¨ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-js">let str = &quot;I love JavaScript&quot;;

// è¿™ä¸¤ä¸ªæµ‹è¯•ç›¸åŒ
alert( *!*/love/i*/!*.test(str) ); // true
alert( str.search(*!*/love/i*/!*) != -1 ); // true</code></pre>
<p>ä¸€ä¸ªåä¾‹ï¼š</p>
<pre><code class="language-js">let str = &quot;Bla-bla-bla&quot;;

alert( *!*/love/i*/!*.test(str) ); // false
alert( str.search(*!*/love/i*/!*) != -1 ); // false</code></pre>
<p>å¦‚æœæ­£åˆ™è¡¨è¾¾å¼å¸¦æœ‰æ ‡è®° <code>pattern:g</code>ï¼Œåˆ™ <code>regexp.test</code> ä»  <code>regexp.lastIndex</code> å±æ€§ä¸­æŸ¥æ‰¾ï¼Œå¹¶æ›´æ–°æ­¤å±æ€§ï¼Œå°±åƒ <code>regexp.exec</code> ä¸€æ ·ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒä»ç»™å®šä½ç½®è¿›è¡Œæœç´¢ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/love/gi</span>;

<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;I love JavaScript&quot;</span>;

<span class="hljs-comment">// ä»ä½ç½® 10 å¼€å§‹ï¼š</span>
regexp.lastIndex = <span class="hljs-number">10</span>;
alert( regexp.test(str) ); <span class="hljs-comment">// falseï¼ˆæ— åŒ¹é…ï¼‰</span></code></pre>
<pre><code class="language-warn">å¦‚æœæˆ‘ä»¬åœ¨ä¸åŒçš„æºå­—ç¬¦ä¸²ä¸Šåº”ç”¨ç›¸åŒçš„å…¨å±€è¡¨è¾¾å¼ï¼Œå¯èƒ½ä¼šå‡ºç°é”™è¯¯çš„ç»“æœï¼Œå› ä¸º `regexp.test` çš„è°ƒç”¨ä¼šå¢åŠ  `regexp.lastIndex` å±æ€§å€¼ï¼Œå› æ­¤åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æœç´¢å¯èƒ½æ˜¯ä»é 0 ä½ç½®å¼€å§‹çš„ã€‚

ä¾‹å¦‚ï¼Œè¿™é‡Œæˆ‘ä»¬åœ¨åŒä¸€æ–‡æœ¬ä¸Šè°ƒç”¨ `regexp.test` ä¸¤æ¬¡ï¼Œè€Œç¬¬äºŒæ¬¡è°ƒç”¨å¤±è´¥äº†ï¼š

```js run
let regexp = /javascript/g;  // ï¼ˆæ–°å»º regexpï¼šregexp.lastIndex=0)

alert( regexp.test(&quot;javascript&quot;) ); // trueï¼ˆç°åœ¨ regexp.lastIndex=10ï¼‰
alert( regexp.test(&quot;javascript&quot;) ); // false
```

è¿™æ­£æ˜¯å› ä¸ºåœ¨ç¬¬äºŒä¸ªæµ‹è¯•ä¸­ `regexp.lastIndex` ä¸ä¸ºé›¶ã€‚

å¦‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯æ¬¡æœç´¢ä¹‹å‰è®¾ç½® `regexp.lastIndex = 0`ã€‚æˆ–è€…ï¼Œä¸è°ƒç”¨æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨å­—ç¬¦ä¸²æ–¹æ³• `str.match/search/...`ï¼Œè¿™äº›æ–¹æ³•ä¸ç”¨ `lastIndex`ã€‚</code></pre>

      </fieldset>
      </div><div id="nav"><div style="margin-left:0em"><strong>regexp-introduction</strong><br/></div><div style="margin-left:1em"><a href="#_mgsSqV">article</a><br/></div><div style="margin-left:0em"><strong>regexp-character-classes</strong><br/></div><div style="margin-left:1em"><a href="#_EmdOAF">article</a><br/></div><div style="margin-left:0em"><strong>regexp-unicode</strong><br/></div><div style="margin-left:1em"><a href="#_HPp3RU">article</a><br/></div><div style="margin-left:0em"><strong>regexp-anchors</strong><br/></div><div style="margin-left:1em"><strong>start-end</strong><br/></div><div style="margin-left:2em"><a href="#_zzLIai">solution</a><br/></div><div style="margin-left:2em"><a href="#_ATvnR1">task</a><br/></div><div style="margin-left:1em"><a href="#_WFiB4T">article</a><br/></div><div style="margin-left:0em"><strong>regexp-multiline-mode</strong><br/></div><div style="margin-left:1em"><a href="#_AfHTjZ">article</a><br/></div><div style="margin-left:0em"><strong>regexp-boundary</strong><br/></div><div style="margin-left:1em"><strong>find-time-hh-mm</strong><br/></div><div style="margin-left:2em"><a href="#_1N4CMQ">solution</a><br/></div><div style="margin-left:2em"><a href="#_mInNQ7">task</a><br/></div><div style="margin-left:1em"><a href="#_eYc4iR">article</a><br/></div><div style="margin-left:0em"><strong>regexp-escaping</strong><br/></div><div style="margin-left:1em"><a href="#_YV52Ht">article</a><br/></div><div style="margin-left:0em"><strong>regexp-character-sets-and-ranges</strong><br/></div><div style="margin-left:1em"><strong>find-range-1</strong><br/></div><div style="margin-left:2em"><a href="#_VpmnFm">solution</a><br/></div><div style="margin-left:2em"><a href="#_Y2UQPW">task</a><br/></div><div style="margin-left:1em"><strong>find-time-formats</strong><br/></div><div style="margin-left:2em"><a href="#_51t5jJ">solution</a><br/></div><div style="margin-left:2em"><a href="#_wyf3mn">task</a><br/></div><div style="margin-left:1em"><a href="#_qK5O1D">article</a><br/></div><div style="margin-left:0em"><strong>regexp-quantifiers</strong><br/></div><div style="margin-left:1em"><strong>find-text-manydots</strong><br/></div><div style="margin-left:2em"><a href="#_ML74b9">solution</a><br/></div><div style="margin-left:2em"><a href="#_aNykmQ">task</a><br/></div><div style="margin-left:1em"><strong>find-html-colors-6hex</strong><br/></div><div style="margin-left:2em"><a href="#_i2VxFJ">solution</a><br/></div><div style="margin-left:2em"><a href="#_Fr47hy">task</a><br/></div><div style="margin-left:1em"><a href="#_ynny3c">article</a><br/></div><div style="margin-left:0em"><strong>regexp-greedy-and-lazy</strong><br/></div><div style="margin-left:1em"><strong>lazy-greedy</strong><br/></div><div style="margin-left:2em"><a href="#_YMUvys">solution</a><br/></div><div style="margin-left:2em"><a href="#_0bk4vl">task</a><br/></div><div style="margin-left:1em"><strong>find-html-comments</strong><br/></div><div style="margin-left:2em"><a href="#_ndccCF">solution</a><br/></div><div style="margin-left:2em"><a href="#_S6cb73">task</a><br/></div><div style="margin-left:1em"><strong>find-html-tags-greedy-lazy</strong><br/></div><div style="margin-left:2em"><a href="#_94aaIH">solution</a><br/></div><div style="margin-left:2em"><a href="#_84bn6Y">task</a><br/></div><div style="margin-left:1em"><a href="#_bC3fmn">article</a><br/></div><div style="margin-left:0em"><strong>regexp-groups</strong><br/></div><div style="margin-left:1em"><strong>test-mac</strong><br/></div><div style="margin-left:2em"><a href="#_0DcW1S">solution</a><br/></div><div style="margin-left:2em"><a href="#_2eI9KA">task</a><br/></div><div style="margin-left:1em"><strong>find-webcolor-or-6</strong><br/></div><div style="margin-left:2em"><a href="#_9dsqYX">solution</a><br/></div><div style="margin-left:2em"><a href="#_cDeB0u">task</a><br/></div><div style="margin-left:1em"><strong>find-decimal-numbers</strong><br/></div><div style="margin-left:2em"><a href="#_tNmtXI">solution</a><br/></div><div style="margin-left:2em"><a href="#_rFRyGT">task</a><br/></div><div style="margin-left:1em"><strong>parse-expression</strong><br/></div><div style="margin-left:2em"><a href="#_oERCrA">solution</a><br/></div><div style="margin-left:2em"><a href="#_RE2GaW">task</a><br/></div><div style="margin-left:1em"><a href="#_fsR4qp">article</a><br/></div><div style="margin-left:0em"><strong>regexp-backreferences</strong><br/></div><div style="margin-left:1em"><a href="#_4N1wdY">article</a><br/></div><div style="margin-left:0em"><strong>regexp-alternation</strong><br/></div><div style="margin-left:1em"><strong>find-programming-language</strong><br/></div><div style="margin-left:2em"><a href="#_rvy9Xk">solution</a><br/></div><div style="margin-left:2em"><a href="#_JzIUAi">task</a><br/></div><div style="margin-left:1em"><strong>find-matching-bbtags</strong><br/></div><div style="margin-left:2em"><a href="#_a2smzj">solution</a><br/></div><div style="margin-left:2em"><a href="#_TrFFNb">task</a><br/></div><div style="margin-left:1em"><strong>match-quoted-string</strong><br/></div><div style="margin-left:2em"><a href="#_rF31od">solution</a><br/></div><div style="margin-left:2em"><a href="#_g8iZqK">task</a><br/></div><div style="margin-left:1em"><strong>match-exact-tag</strong><br/></div><div style="margin-left:2em"><a href="#_W8DVRG">solution</a><br/></div><div style="margin-left:2em"><a href="#_n5crwV">task</a><br/></div><div style="margin-left:1em"><a href="#_kK1HTh">article</a><br/></div><div style="margin-left:0em"><strong>regexp-lookahead-lookbehind</strong><br/></div><div style="margin-left:1em"><strong>find-non-negative-integers</strong><br/></div><div style="margin-left:2em"><a href="#_Nd7jDo">solution</a><br/></div><div style="margin-left:2em"><a href="#_kspaBl">task</a><br/></div><div style="margin-left:1em"><strong>insert-after-head</strong><br/></div><div style="margin-left:2em"><a href="#_FM2WpC">solution</a><br/></div><div style="margin-left:2em"><a href="#_DPJMss">task</a><br/></div><div style="margin-left:1em"><a href="#_SMJ9jP">article</a><br/></div><div style="margin-left:0em"><strong>regexp-catastrophic-backtracking</strong><br/></div><div style="margin-left:1em"><a href="#_NGO3Hd">article</a><br/></div><div style="margin-left:0em"><strong>regexp-sticky</strong><br/></div><div style="margin-left:1em"><a href="#_tAFAfH">article</a><br/></div><div style="margin-left:0em"><strong>regexp-methods</strong><br/></div><div style="margin-left:1em"><a href="#_kCBhLS">article</a><br/></div></div>
</body></html>