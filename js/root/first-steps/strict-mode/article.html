<h1 id="现代模式，use-strict">现代模式，&quot;use strict&quot;</h1>
<p>长久以来，JavaScript 不断向前发展且并未带来任何兼容性问题。新的特性被加入，旧的功能也没有改变。</p>
<p>这么做有利于兼容旧代码，但缺点是 JavaScript 创造者的任何错误或不完善的决定也将永远被保留在 JavaScript 语言中。</p>
<p>这种情况一直持续到 2009 年 ECMAScript 5 (ES5) 的出现。ES5 规范增加了新的语言特性并且修改了一些已经存在的特性。为了保证旧的功能能够使用，大部分的修改是默认不生效的。你需要一个特殊的指令 —— <code>&quot;use strict&quot;</code> 来明确地激活这些特性。</p>
<h2 id="use-strict">&quot;use strict&quot;</h2>
<p>这个指令看上去像一个字符串 <code>&quot;use strict&quot;</code> 或者 <code>&#39;use strict&#39;</code>。当它处于脚本文件的顶部时，则整个脚本文件都将以“现代”模式进行工作。</p>
<p>比如：</p>
<pre><code class="language-js"><span class="hljs-meta">&quot;use strict&quot;</span>;

<span class="hljs-comment">// 代码以现代模式工作</span>
...</code></pre>
<p>很快我们就会学习到函数（一种组合命令的方式），所以让我们提前注意一下，<code>&quot;use strict&quot;</code> 可以被放在函数体的开头。这样则可以只在该函数中启用严格模式。但通常人们会在整个脚本中启用严格模式。</p>
<pre><code class="language-warn">请确保 `&quot;use strict&quot;` 出现在脚本的最顶部，否则严格模式可能无法启用。

这里的严格模式就没有被启用：

```js no-strict
alert(&quot;some code&quot;);
// 下面的 &quot;use strict&quot; 会被忽略，必须在最顶部。

&quot;use strict&quot;;

// 严格模式没有被激活
```

只有注释可以出现在 `&quot;use strict&quot;` 的上面。</code></pre>
<p>```warn header=&quot;没有办法取消 <code>use strict</code>&quot;
没有类似于 <code>&quot;no use strict&quot;</code> 这样的指令可以使程序返回默认模式。</p>
<p>一旦进入了严格模式，就没有回头路了。</p>
<pre><code>
## 浏览器控制台

当你使用 [开发者控制台](info:devtools) 运行代码时，请注意它默认是不启动 `use strict` 的。

有时，当 `use strict` 会对代码产生一些影响时，你会得到错误的结果。

那么，怎么在控制台中启用 `use strict` 呢？

首先，你可以尝试搭配使用 `key:Shift+Enter` 按键去输入多行代码，然后将 `use strict` 放在代码最顶部，就像这样：

```js
&#x27;use strict&#x27;; &lt;Shift+Enter 换行&gt;
//  ...你的代码
&lt;按下 Enter 以运行&gt;</code></pre>
<p>它在大部分浏览器中都有效，像 Firefox 和 Chrome。</p>
<p>如果依然不行，例如你使用的是旧版本的浏览器，那么有一种很丑但可靠的启用 <code>use strict</code> 的方法。将你的代码放在这样的包装器中：</p>
<pre><code class="language-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  &#x27;use strict&#x27;</span>;

  <span class="hljs-comment">// ...你的代码...</span>
})()</code></pre>
<h2 id="我们应该使用-use-strict-吗？">我们应该使用 &quot;use strict&quot; 吗？</h2>
<p>这个问题的答案好像很显而易见，但事实并非如此。</p>
<p>有人可能会建议在脚本的最顶部放置 <code>&quot;use strict&quot;</code> 这行代码…… 但你知道更酷的方式吗？</p>
<p>现代 JavaScript 支持 &quot;classes&quot; 和 &quot;modules&quot; —— 高级语言结构（本教程后续章节会讲到），它们会自动启用 <code>use strict</code>。因此，如果我们使用它们，则无需添加 <code>&quot;use strict&quot;</code> 指令。</p>
<p><strong>因此，目前我们欢迎将 <code>&quot;use strict&quot;;</code> 写在脚本的顶部。稍后，当你的代码全都写在了 class 和 module 中时，你则可以将 <code>&quot;use strict&quot;;</code> 这行代码省略掉。</strong></p>
<p>目前，我们已经基本了解了 <code>use strict</code>。</p>
<p>在接下来的章节中，当我们学习语言功能时，我们会看到严格模式与旧的模式之间的差异。幸运的是，差异其实没有那么多。并且，这些差异实际上提升了我们的编程体验。</p>
<p>本教程的所有例子都默认采用严格模式，除非特别指定（非常少）。</p>
